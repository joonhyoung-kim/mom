!function(e,u){"use strict";var d="ht",s=e[d],x="position",D="absolute",z="px",y="left",R="top",b="innerHTML",T="className",U="width",f="height",n="0",B="display",m="none",$="visibility",Z="user-select",o="margin",r="padding",N=null,v=s.Color,p=s.Default,A=p.getInternal(),J=e.setTimeout,a=e.setInterval,M=e.clearTimeout,t=e.clearInterval,l=e.parseInt,W=p.isLeftButton,H=p.isDragging,_=p.startDragging,L=p.getDistance,S=p.isTouchable,P=v.widgetIconHighlight,I=v.widgetIconBorder,G=v.widgetIconGradient,h=function(){return document},V=function(U,x){return U.querySelectorAll(x)},c=function(V){var j=h().createElement(V);return"ul"===V&&(C(j,x,"relative"),C(j,o,n),C(j,r,n),C(j,"list-style",m),C(j,"box-sizing","border-box"),C(j,"-moz-box-sizing","border-box"),C(j,B,"inline-block"),C(j,"vertical-align","text-bottom"),C(j,"border","1px solid "+p.contextMenuBorderColor),C(j,"box-shadow","0 0 16px 1px "+p.contextMenuShadowColor),C(j,"overflow","hidden"),p.contextMenuBorderRadius&&C(j,"border-radius",p.contextMenuBorderRadius+z)),j},w=function(t){var Y=t.touches[0];return Y?Y:t.changedTouches[0]},K=function(){return c("div")},X=function(){return c("canvas")},C=function(Q,B,b){Q.style.setProperty(B,b,N)},i=function(y,C,G){p.def(s.widget[y],C,G)},F=function(C,h){C.appendChild(h)},k=function(p,Q){p.removeChild(Q)},q=function(H,a,C,P){H.addEventListener(a,C,!!P)},g=function(B,k,f,s){B.removeEventListener(k,f,!!s)};A.addMethod(p,{contextMenuCheckIcon:{width:16,height:16,comps:[{type:"border",rect:[1,1,14,14],width:1,color:I},{type:"shape",points:[13,3,7,12,4,8],borderWidth:2,borderColor:P}]},contextMenuRadioIcon:{width:16,height:16,comps:[{type:"circle",rect:[2,2,12,12],borderWidth:1,borderColor:I},{type:"circle",rect:[4,4,8,8],borderWidth:1,borderColor:P,gradient:p.imageGradient,gradientColor:G,background:P}]},contextMenuLabelFont:(S?"16":"13")+"px arial, sans-serif",contextMenuLabelColor:"#000",contextMenuBackground:"#fff",contextMenuDisabledLabelColor:"#888",contextMenuHoverBackground:"#648BFE",contextMenuHoverLabelColor:"#fff",contextMenuSeparatorWidth:1,contextMenuSeparatorColor:"#E5E5E5",contextMenuScrollerColor1:"#FDFDFD",contextMenuScrollerColor2:"#D3D3D3",contextMenuScrollerBorderColor:"#C3C3C3",contextMenuBorderColor:"#C3C3C3",contextMenuShadowColor:"rgba(128, 128, 128, 0.5)",contextMenuBorderRadius:5,contextMenuSubmenuMark:"▶"},!0);var Q=function(t){var e=this,U=t._view;if(e.$11b=t,e.addListeners(),q(U,"contextmenu",function(T){T.preventDefault()}),!S){var j=e.$37b=e.$36b.bind(e);q(U,"mouseover",j),q(U,"mouseout",j)}};p.def(Q,u,{ms_listener:1,getView:function(){return this.$11b._view},handle_touchstart:function(V){if(p.preventDefault(V),W(V)){for(var Q=this,L=Q.$11b,g=Q.getView(),q=g.children,Y=0;Y<q.length;Y++){var y=q[Y],e=y.$24b,t=y.$25b;if(e&&e.contains(V.target))return L.scrollUp(y),Q.$28b=J(function(){Q.$29b=a(function(){L.scrollUp(y)},100)},500),_(Q,V),void 0;if(t&&t.contains(V.target))return L.scrollDown(y),Q.$28b=J(function(){Q.$29b=a(function(){L.scrollDown(y)},100)},500),_(Q,V),void 0}S&&(V=w(V)),Q.$30b={x:V.pageX,y:V.pageY}}},handle_mousedown:function(e){this.handle_touchstart(e)},handle_touchend:function(c){if(W(c)){var u=this,n=u.$30b,U=S?{x:w(c).pageX,y:w(c).pageY}:{x:c.pageX,y:c.pageY};if(!n||L(n,U)>1)return delete u.$30b,void 0;for(var J=u.getView(),d=u.$11b,l=c.target,t=N,D=N,h=d._items,y=J.$26b,Q=0;Q<y.length;Q++)if(D=y[Q],D.contains(l)){t=D.getAttribute("data-id");break}if(t&&h){var C=d.$17b(h,function(Y){return Y._id===t});if(C){var H=!1;C.disabled instanceof Function?H=C.disabled.call(d,C):C.disabled===!0&&(H=!0),H||(C.items?S&&u.$36b(D,!0):d.$1b(C,c))}}delete u.$30b}},$36b:function(O,d){if(!H()){var r,f=this,o=f.$11b,A=f.getView(),n=o.$20b||A.children[0],u=o.$19b,t=A.$26b,Z=A.children,E=O.target,g=A.getBoundingClientRect(),L=p.getWindowInfo(),G=L.width,k=L.height,j=function(s){for(var y=0;y<Z.length;y++){var f=Z[y],i=new RegExp(s+"$"),H=f[T];if(H&&(i.test(H)||H.indexOf(s+" ")>=0))return f}},X=function(i){for(var E=0;E<t.length;E++){var C=t[E],M=new RegExp(i+"$"),u=C[T];if(u&&(M.test(u)||u.indexOf(i+" ")>=0))return C}},K=function(u){var r=X("menu-item"+u.$45b),B=r.getBoundingClientRect(),W=B.top-g.top,i=B.left-g.left;C(u,R,W+z),C(u,y,i+B.width+z);var S=u.getBoundingClientRect(),_=S.top,h=S.left,d=S.height,Q=S.width,I=_+d+2,H=h+Q+2;I>k&&C(u,R,W+k-I+z),H>G&&C(u,y,i-Q+z)};if(d)r=O;else{if("mouseover"===O.type){for(var V=0;V<t.length;V++){var i=t[V];if(i.contains(E)){r=i;break}}if(!r&&u){var N=u.parentNode,Y=j("submenu"+u.getAttribute("data-id"));(Y&&Y.contains(E)||N&&N.contains(E))&&(r=u)}}else if("mouseout"===O.type){for(var M=!1,m=O.relatedTarget,V=0;V<Z.length;V++){var s=Z[V];if("hidden"!==s.style.visibility&&s.contains(m)){M=!0;break}}if(M)return}!r&&n&&(r=X("menu-item"+(n.$45b||"NaN")))}if(r!=u){if(u)for(var e=u;e;){e[T]=e[T].replace(" menu-item-hover",""),e[T].indexOf("disabled")<0&&(C(e,"background-color",p.contextMenuBackground),C(e,"color",p.contextMenuLabelColor));var _=j("submenu"+e.getAttribute("data-id"));_&&C(_,$,"hidden");var P=e.parentNode;e=X("menu-item"+(P.$45b||"NaN"))}if(r){for(var I=r,b=[];I;){I[T]+=" menu-item-hover",I[T].indexOf("disabled")<0&&(C(I,"background-color",p.contextMenuHoverBackground),C(I,"color",p.contextMenuHoverLabelColor));var U=j("submenu"+I.getAttribute("data-id"));U&&(C(U,$,"visible"),b.push(U));var P=I.parentNode;I=X("menu-item"+(P.$45b||"NaN"))}b.reverse(),b.forEach(function(n){K(n)})}}o.$19b=r,o.$20b=r?r.parentNode:A.children[0]}},handle_mouseup:function(P){this.handle_touchend(P)},handleWindowTouchEnd:function(){var R=this;R.$28b!=N&&(M(R.$28b),delete R.$28b),R.$29b!=N&&(t(R.$29b),delete R.$29b),delete R.$34b,delete R.$30b,delete R.$35b},handleWindowMouseUp:function(I){this.handleWindowTouchEnd(I)},handle_mousemove:function(b){this.handle_touchmove(b)},handle_touchmove:function(v){if(!H()&&W(v)){for(var Q=this,M=Q.getView().children,I=N,Z=0;Z<M.length;Z++){var f=M[Z];if(f.contains(v.target)){I=f;break}}var X=Q.$30b,n=S?{x:w(v).pageX,y:w(v).pageY}:{x:v.pageX,y:v.pageY};I&&X&&L(X,n)>2&&(_(Q,v),Q.$34b=I,Q.$35b=I.$18b)}},handleWindowTouchMove:function(k){k.preventDefault();var W=this,J=W.$11b,z=W.$34b,L=W.$35b,Y=W.$30b;if(Y&&z){var e=S?{x:w(k).pageX,y:w(k).pageY}:{x:k.pageX,y:k.pageY},s=e.y-Y.y;s>0?J.scrollUp(z,z.$18b-(L-s)):J.scrollDown(z,L-s-z.$18b)}},handleWindowMouseMove:function(N){this.handleWindowTouchMove(N)},$10b:function(d,a){d.preventDefault();for(var O=this,s=O.getView().children,$=N,o=0;o<s.length;o++){var F=s[o];if(F.contains(d.target)){$=F;break}}if($){var g=this.$11b,m=g.getRowHeight();Math.abs(a)>.05&&(a>0?g.scrollUp($,a*m):0>a&&g.scrollDown($,-a*m))}},handle_mousewheel:function(y){this.$10b(y,y.wheelDelta/40)},handle_DOMMouseScroll:function(s){this.$10b(s,-s.detail)},$44b:function(y){this.getView().contains(y.target)||this.$11b.hide()},$41b:function(P){this.$11b.show(P)},$4b:function(U,T){var G=this.$11b;if(T=T||G._items,T&&T.length&&U.keyCode){var B=[U.keyCode];U.shiftKey&&B.push(16),U.ctrlKey&&B.push(17),U.altKey&&B.push(18),/mac/.test(e.navigator?e.navigator.userAgent.toLowerCase():"")?U.metaKey&&B.push(17):U.metaKey&&B.push(91),B.sort();var D=B.join(),Y=G.$17b(T,function(J){if(J.key){var o=J.key.slice(0);return o.sort(),D===o.join()}});if(Y){Y.preventDefault!==!1&&U.preventDefault();var V=!1;Y.disabled instanceof Function?V=Y.disabled.call(G,Y):Y.disabled===!0&&(V=!0),V||G.$1b(Y,U)}}},$39b:function(O){var l=this,i=w(O);l.$32b={x:i.pageX,y:i.pageY}},$38b:function(z){var O=this,A=w(z);O.$31b={x:A.pageX,y:A.pageY},O.$33b=J(function(){O.$31b&&(O.$32b?L(O.$31b,O.$32b)<10&&O.$11b.show(z):O.$11b.show(z)),delete O.$33b,delete O.$31b,delete O.$32b},600)},$40b:function(){var n=this;n.$33b!=N&&(M(n.$33b),delete n.$33b,delete n.$31b,delete n.$32b)}}),s.widget.ContextMenu=function(Y){var c=this,R=c._view=A.createView(null,c);R[T]="ht-widget-contextmenu",c.setItems(Y),c.$13b=new Q(c),C(R,"font",p.contextMenuLabelFont),C(R,x,D),C(R,"cursor","default"),C(R,"-webkit-"+Z,m),C(R,"-moz-"+Z,m),C(R,"-ms-"+Z,m),C(R,Z,m),C(R,"box-sizing","border-box"),C(R,"-moz-box-sizing","border-box"),p.baseZIndex!=N&&C(R,"z-index",l(p.baseZIndex)+2+""),c.$3b=function(K){c.$13b.$4b(K)}},i("ContextMenu",u,{$5b:0,_items:N,$21b:N,_enableGlobalKey:!1,ms_v:1,enableGlobalKey:function(){var Q=this,S=Q._enableGlobalKey;S===!1&&(q(h(),"keydown",Q.$3b),Q._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,g(h(),"keydown",this.$3b)},setItems:function(c){this._items=c},getItems:function(){return this._items},setVisibleFunc:function(Z){this.$16b=Z},setLabelMaxWidth:function(S){this.$43b=S},$1b:function(J,L){var H=this;if("check"===J.type)J.selected=!J.selected;else if("radio"===J.type){var I=J.groupId;H.$17b(H._items,function(g){g.groupId===I&&(g.selected=!1)}),J.selected=!0}if(H.hide(),J.action)J.action.apply(J.scope||H,[J,L]);else if(J.href){var y=J.linkTarget||"_self";e.open(J.href,y)}},getItemById:function(s){return this.getItemByProperty("id",s)},setItemVisible:function(E,z){var G=this.getItemById(E);G&&(G.visible=z)},getItemByProperty:function(K,T,b){var U=this;if(b=b||U._items,!b||0===b.length)return N;var C=U.$17b(b,function(n){return n[K]===T});return C||N},scrollUp:function(x,p){var Z=this;if(p=p==N?20:p,p=l(p),0!==p){var g=0;x.$18b>p&&(g=x.$18b-p),Z.$42b(x,g),x.scrollTop=g,x.$18b=g}},scrollDown:function(T,c){var n=this;if(c=c==N?20:c,c=l(c),0!==c){var J=T.$22b,E=T.$23b,L=J-E;E+T.$18b+c<J&&(L=T.$18b+c),n.$42b(T,L),T.scrollTop=L,T.$18b=L}},$42b:function(Y,g){g=g==N?Y.$18b:g;var f=Y.$24b,k=Y.$25b;f&&(C(f,"top",g+z),0==g?C(f,B,m):C(f,B,"block")),k&&(C(k,"bottom",-g+z),g==Y.$22b-Y.$23b?C(k,B,m):C(k,B,"block"))},getRowHeight:function(){return this._view.querySelector(".menu-item").offsetHeight},$17b:function(L,l){for(var s=0;s<L.length;s++){var r=L[s];if(l(r))return r;if(r.items){var v=this.$17b(r.items,l);if(v)return v}}},$2b:function(h,W){for(var V=this,L=0;L<h.length;L++){V.$5b++;var i=h[L];if(i.visible!==!1&&!(p.isFunction(i.visible)&&!i.visible()||V.$16b&&!V.$16b.call(V,i))){var A=c("li"),O=V.$5b+"";if(C(A,"white-space","nowrap"),C(A,B,"block"),"separator"===i||i.separator===!0){var u=K();u[T]="separator",C(u,f,p.contextMenuSeparatorWidth+z),C(u,"background",p.contextMenuSeparatorColor),F(A,u)}else{i._id=O,A.setAttribute("data-id",O);var H=c("span"),y=c("span"),l=X(),d=K();if(C(H,B,"inline-block"),C(y,B,"inline-block"),l[T]="prefix",C(l,B,"inline-block"),C(l,U,"1em"),C(l,f,"1em"),C(l,"vertical-align","middle"),C(l,o,"0 0.2em"),"check"===i.type&&i.selected?l[T]+=" check-prefix":"radio"===i.type&&i.selected&&(l[T]+=" radio-prefix"),F(A,l),i.icon){var m=X();m[T]="contextmenu-item-icon",C(m,B,"inline-block"),C(m,"vertical-align","middle"),C(m,f,"1.2em"),C(m,U,"1.2em"),C(m,"margin-right","0.2em"),m.$50b=i.icon,F(H,m)}if(y[b]=i.label,F(H,y),F(A,H),d[T]="suffix",C(d,B,"inline-block"),C(d,"margin-left","1em"),C(d,"margin-right","0.4em"),C(d,"text-align","right"),C(d,"font-size","75%"),i.items&&(d[b]=p.contextMenuSubmenuMark),i.suffix&&(d[b]=i.suffix),F(A,d),A[T]="menu-item menu-item"+O,C(A,"background-color",p.contextMenuBackground),C(A,"color",p.contextMenuLabelColor),C(A,r,"3px 0"),i.disabled instanceof Function){var J=i.disabled.call(V,i);J&&(A[T]+=" disabled",C(A,"color",p.contextMenuDisabledLabelColor))}else i.disabled&&(A[T]+=" disabled",C(A,"color",p.contextMenuDisabledLabelColor));if(i.items){V.$21b||(V.$21b=new s.List);var P=c("ul");P[T]="submenu"+O,P.$45b=O,C(P,$,"hidden"),C(P,x,D),F(V._view,P),V.$21b.add(P),V.$2b(i.items,P)}}F(W,A)}}},rebuild:function(){var U=this,I=U._items,X=U._view;if(X&&(X[b]="",U.$21b=N,U.$5b=0,U.$19b=N,U.$20b=N,X.$26b=N,I&&0!==I.length)){var G=c("ul",U._r);F(X,G),U.$2b(I,G)}},addTo:function($){if($){var y=this,b=y.$13b;if(y.$12b=$,y.$9b=function(_){b.$44b(_)},y.$27b=function(M){b.$41b(M)},S){var X=y.$6b=function(g){b.$38b(g)},n=y.$7b=function(E){b.$39b(E)},o=y.$8b=function(N){b.$40b(N)};q($,"touchstart",X,!0),q($,"touchmove",n),q($,"touchend",o)}else q($,"contextmenu",y.$27b)}},showOnView:function(m,e,B){m=m.getView?m.getView():m;var h=p.getWindowInfo(),D=m.getBoundingClientRect();this.show(D.left+h.left+e,D.top+h.top+B)},show:function(i,m,I){var Y=this,I=I==N?!0:!1,d=Y._view;if(d){if(Y.invalidate(),1===arguments.length){var M=i;if(S){var f=w(M);i=f.pageX,m=f.pageY}else i=M.pageX,m=M.pageY}var c=p.getWindowInfo(),r=c.width,t=c.height,A=c.left,H=c.top,_={pageX:i,pageY:m,clientX:i-A,clientY:m-H,target:1,originEvent:M},o=_.clientX,E=_.clientY,Q=function(G){G.style.height=t-6+z;var P=K(),d=K(),h=function(K){C(K,x,D),C(K,"text-align","center"),C(K,U,"100%"),C(K,"font-size",10+z),C(K,"padding","2px 0"),C(K,"border","0px solid "+p.contextMenuScrollerBorderColor),C(K,"background-color",p.contextMenuScrollerColor1),K.style.backgroundImage="-webkit-linear-gradient(top, "+p.contextMenuScrollerColor1+", "+p.contextMenuScrollerColor2+")",K.style.backgroundImage="linear-gradient(to bottom, "+p.contextMenuScrollerColor1+", "+p.contextMenuScrollerColor2+")"};P[T]="menu-arrow-item menu-arrow-item-top",d[T]="menu-arrow-item menu-arrow-item-bottom",h(P),C(P,"top",n),C(P,"left",n),C(P,"border-bottom-width",1+z),P[b]="▲",h(d),C(d,"bottom",n),C(d,"left",n),C(d,"border-top-width",1+z),d[b]="▼",G.$24b=P,G.$25b=d,G.$18b=G.scrollTop,G.$22b=G.scrollHeight,G.$23b=G.clientHeight,F(G,P),F(G,d),Y.$42b(G)};Y.beforeShow&&Y.beforeShow(_);var G=Y._items;if(G&&(M&&M.preventDefault(),G.length)){Y.rebuild(),p.appendToScreen(d),d.$26b=V(d,".menu-item");var L=d.children[0];L.offsetHeight>t&&Q(L);var k=E+(I?1:0),W=o+(I?1:0),s=function(k){for(var e=0,w=0,f=0,t=Y.$43b;f<k.children.length;f++){var L=k.children[f];if(L.getAttribute("data-id")){var n=L.children[1],h=L.children[2],m=n.children;if(t){var M=m[0];m.length>1&&(M=m[1]),M.offsetWidth>t&&(M[b]="<marquee scrollamount='3'>"+M[b]+"</marquee>",M.children[0].style.verticalAlign="text-bottom",C(M,U,t+z),C(M,B,"inline-block"))}var H=n.offsetWidth,l=h.offsetWidth;H>e&&(e=H),l>w&&(w=l)}}for(f=0;f<k.children.length;f++){var L=k.children[f];if(L.getAttribute("data-id")){var n=L.children[1],h=L.children[2],j=n.children[0],r=n.children[1];!r&&j.style.width&&C(j,U,e+z),C(n,U,e+z),C(h,U,w+z)}}};s(L);var J=E+3+d.offsetHeight,X=o+3+d.offsetWidth;J>t?C(d,R,k-(J-t)+H+z):C(d,R,k+H+z),X>r?C(d,y,W-(X-r)+A+z):C(d,y,W+A+z);var g=Y.$21b;g&&g.each(function(P){s(P),P.offsetHeight>t&&Q(P)}),Y.$9b&&q(h(),S?"touchstart":"mousedown",Y.$9b,!0),Y.afterShow&&Y.afterShow(_),Y.$47b()}}},isShowing:function(){return this._view?this._view.parentNode!=N:!1},getRelatedView:function(){return this.$12b},hide:function(){var y=this,n=y._view;n&&n.parentNode&&(k(n.parentNode,n),g(h(),S?"touchstart":"mousedown",y.$9b,!0),y.afterHide&&y.afterHide())},dispose:function(){var U=this,K=U.$12b,F=U._view;F&&(F.parentNode&&k(F.parentNode,F),U.disableGlobalKey(),K&&(S?(g(K,"touchstart",U.$6b,!0),g(K,"touchmove",U.$7b),g(K,"touchend",U.$8b)):g(K,"contextmenu",U.$27b)),U._view=U._items=U.$21b=U.$19b=U.$12b=U.beforeShow=U.afterShow=U.afterHide=U.$9b=U.$3b=U.$6b=U.$7b=U.$8b=U.$27b=N)},$46b:function(C,E,m,z){var K=A.initContext(C);A.translateAndScale(K,0,0,1),K.clearRect(0,0,m,z),p.drawStretchImage(K,p.getImage(E),"fill",0,0,m,z),K.restore()},$47b:function(){var j,W,d,L=this,B=L._view;if(L.isShowing()){var G=V(B,".check-prefix");for(d=0;d<G.length;d++){var E=G[d];j=E.clientWidth,W=E.clientHeight,E.$48b=j,E.$49b=W,A.setCanvas(E,j,W)}var N=V(B,".radio-prefix");for(d=0;d<N.length;d++){var m=N[d];j=m.clientWidth,W=m.clientHeight,m.$48b=j,m.$49b=W,A.setCanvas(m,j,W)}var y=V(B,".contextmenu-item-icon");for(d=0;d<y.length;d++){var K=y[d];j=K.clientWidth,W=K.clientHeight,K.$48b=j,K.$49b=W,A.setCanvas(K,j,W)}}},validateImpl:function(){var Q,b,s,e=this,z=e._view;if(e.isShowing()){var P=V(z,".check-prefix");for(s=0;s<P.length;s++){var L=P[s];Q=L.$48b,b=L.$49b,Q&&b&&e.$46b(L,p.contextMenuCheckIcon,Q,b)}var m=V(z,".radio-prefix");for(s=0;s<m.length;s++){var d=m[s];Q=d.$48b,b=d.$49b,Q&&b&&e.$46b(d,p.contextMenuRadioIcon,Q,b)}var y=V(z,".contextmenu-item-icon");for(s=0;s<y.length;s++){var x=y[s];Q=x.$48b,b=x.$49b,Q&&b&&e.$46b(x,p.getImage(x.$50b),Q,b)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);