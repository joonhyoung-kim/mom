!function(Q,N,M){"use strict";var C="ht",H=Q.document,$=null,c=Q[C],n=c.List,d=c.DataModel,y=c.Notifier,B=c.Default,u=Math,m=u.min,s=u.max,Z=u.abs,i=u.cos,g=u.acos,x=u.sin,K=u.asin,R=u.pow,w=u.round,W=u.floor,E=u.ceil,X=u.sqrt,v=u.PI,j=v/2,A=2*v,U=u.tan,t=u.atan2,p=u.random,T=function(C){return C*C},l={x:0,y:0,width:0,height:0},a="pointer",F="ew-resize",D="ns-resize",I="boolean",h="int",f="number",J="color",S="uncheck",L="check",P="radioOn",_="radioOff",z="tristate",O="labelFont",b="labelColor",r="selectLabelColor",Y="rowHeight",k="columnLineColor",q="rowLineColor",o="columnLineVisible",G="rowLineVisible",V="visibleFunc",Yb="sortFunc",Kb="editable",oo="autoMakeVisible",Sh="batchEditable",Di="checkMode",Zr="indent",hq="top",xk="left",yb="bottom",di="center",_i="right",Eq="middle",Jm="match_parent",Mk="wrap_content",Fq="px",yi="asc",Sp="desc",Bq="rect",je="border",zr="shape",Xl="circle",Mn="visible",ug="width",fq="height",qq="remove",am="clear",yk="default",Um="children",ki="centerUniform",bp="multiple",sk="dataModel",be="none",Dn="block",fr="preferredSize",gs="minSize",nl="maxSize",Db="layoutParams",ej="normal",om="hover",bg="active",xg="zoom",jo=B.getInternal(),Cq=jo.getPropertyValue,ij=jo.fillRect,Jr=jo.drawBorder,lf=jo.addMethod,Ei=jo.addMSMap,Dp=jo.getDragger,Ze=jo.createAnim,rg=jo.setPropertyValue,wg=B.createObject,Ur=B.sortFunc,kl=B.callLater,Gm=B.startDragging,Ek=B.checkLoadingImage,up=B.clone,gd=B.isLeftButton,cb=B.isDoubleClick,Qo=B.preventDefault,hm=B.isSelectAll,im=B.isTouchable,Sc=B.getClientPoint,Jq=B.getPagePoint,lr=B.getDistance,zo=B.disabledOpacity,ed=B.isString,Rb=B.isNumber,wi=B.isBoolean,mf=B.isArray,ys=B.isFunction,oq=B.createDiv,jq=B.createCanvas,Ig=B.createDisabledDiv,Ni=B.unionRect,Uq=B.getTarget,db=B.def,Ke=B.getClass,sp=B.setImage,ye=B.getImage,An=B.setCanvas,ts=B.initContext,Oe=B.translateAndScale,sj=B.appendChild,Zq=B.drawRoundRect,sc=B.drawStretchImage,cf=B.drawImage,fg=B.drawText,pc=B.removeHTML,Fb=B.containsPoint,rd=B.getWindowInfo,Lc=B.isEnter,As=B.isEsc,Hr=B.isSpace,rf=B.isLeft,Qh=B.isUp,Dl=B.isRight,Ie=B.isDown,Ef=B.isDelete,gi=B.isCtrlDown,gl=B.isShiftDown,$h=Q.parseInt||global.parseInt,ve=Q[C+"config"],$d=ve&&ve.IsGetter||{},mn=["aqua","black","blue","fuchsia","gray","green","lime","orange","maroon","navy","olive","purple","red","silver","teal","white","yellow"],Ub=function(C){return C instanceof MouseEvent||0===C.type.indexOf("mouse")},$f=function(j,M,N){j.translate(M,N)},Hh=function(I,d){d&&I.rotate(d)},Md=function(i,l){if(i===l)return!0;if(i&&l&&"object"==typeof i&&"object"==typeof l){var p=!0;for(var B in i)if(i[B]!==l[B]){p=!1;break}if(p)for(var B in l)if(i[B]!==l[B]){p=!1;break}return p}if(i instanceof c.List&&l instanceof c.List&&(i=i._as,l=l._as),mf(i)&&mf(l)){for(var p=!0,Y=0,w=i.length;w>Y;Y++)if(i[Y]!==l[Y]){p=!1;break}if(p)for(var Y=0,w=l.length;w>Y;Y++)if(i[Y]!==l[Y]){p=!1;break}return p}return!1},fg=function(O,U,h,n,w,k,R,c,S,Z){if(U!=$){var E=Lb(h,U),r={};r.y=Z&&Z!==Eq?Z===hq?k+E.height/2:k+c-E.height/2:k+c/2,r.x=S&&S!==xk?S===_i?w+R-E.width/2:w+R/2:w+E.width/2,uq(O,U,r,h,n)}},uq=function(b,f,q,G,o){b.font=G,b.fillStyle=o,b.textAlign=di,b.textBaseline=Eq;var e,R;q?q.width===M?(e=q.x,R=q.y):(e=q.x+q.width/2,R=q.y+q.height/2):(e=0,R=0),b.fillText(f,w(e),w(R))},Lb=function(){var J={},o=H?jq().getContext("2d"):$;return function(f,i){o.font=f?f:labelFont;var q=J[o.font];return q||(q=2*o.measureText("e").width+4,J[o.font]=q),{width:o.measureText(i).width,height:q}}}(),km=function(h){for(var t=Uq(h);t;){if(t.htComp)return t.htComp;t=t.parentNode}},$l=function(g,S,J){S===M&&(S=1),J===M&&(J=1),(1!==S||1!==J)&&g.scale(S,J)},xb=function(z,_,I){return{width:z,height:_,comps:mf(I)?I:[I]}},zf=B.checkTouch=function(r){if(!Ub(r)){var Z=r.touches[0];if(Z)return Z;if(Z=r.changedTouches,Z&&Z[0])return Z[0]}return r},Wo=function(s){return"set"+s.charAt(0).toUpperCase()+s.slice(1)},Un=function(Y,P){return P||(P=/ble$/.test(Y)||/ed$/.test(Y)||$d[Y]?"is":"get"),P+Y.charAt(0).toUpperCase()+Y.slice(1)},yn=function(U,W){var j=[U].concat(W);return U.bind.apply(U,j)},cd=[function(f){return f&&ed(f)&&(0===f.indexOf("#")||0===f.indexOf("rgb")||0===f.indexOf("rgba")||mn.indexOf(f)>=0)?new vp.drawable.ColorDrawable(f):void 0},function(e){return e&&ed(e)&&e.indexOf(".9")>=0?new vp.drawable.NinePatchImageDrawable(e):void 0},function(D){if(D&&mf(D)){var C=D[0],H=D.slice(1),M=new(yn(B.getClass(C),H));return M}}],Xg=function(k){if(k){for(var T=0,n=cd.length;n>T;T++){var F=cd[T](k);if(F)return F}return new vp.drawable.ImageDrawable(k)}},ti=function(f,W){var B=W["_"+f];return B!==M||c._uiSerializing||W.getStyleValue&&W.isStyleProperty(f)&&(B=W.getStyleValue(f),B===M&&(B=W["__"+f])),B},Kq=function(R,s){if(c._uiSerializing)return ti(R,s);var p=s,k="___styleConvert"+R,z="___convert"+R,I="_"+R,F=p[I];if(F===M){var J=R.substr(0,R.length-8),r=p["_"+J];if(F=p[I]=Xg(r),r===M&&F===M){var N=p instanceof Ld;N&&p.isStyleProperty(R)&&(F=p.getStyleValue(R)),F===M?(F=p["_"+I],F===M?(r=M,F=p[k],F===M&&N&&p.isStyleProperty(J)&&(r=p.getStyleValue(J),F=Xg(r)),F?(p[k]=F,p[z]=M):p[k]=M,r===M&&F===M&&(F=p[z],F===M&&(F=Xg(p["__"+J])),p[z]=F?F:M)):p[k]=p[z]=M):p[k]=p[z]=M}else p[k]=p[z]=M}else p[k]=p[z]=M;p[I+"-drawableChangeHandler"]||(p[I+"-drawableChangeHandler"]=function(E){p.handleDrawableChange(E,R)});var H=p[I+"Cache"];return H!==F&&(H&&H.removePropertyChangeListener(p[I+"-drawableChangeHandler"]),F&&F.addPropertyChangeListener(p[I+"-drawableChangeHandler"]),p[I+"Cache"]=F),F},_j=function(B,L){return-1!==B.indexOf("Drawable",B.length-8)?Kq(B,L):ti(B,L)},ob=function(m,d){var a,L;0===d.indexOf("drawable:")&&(a=!0),0===d.indexOf("get:")?L="get":0===d.indexOf("is:")&&(L="is"),d=d.substr(d.indexOf(":")+1);var e=m.hasOwnProperty("_styleProps")&&m._styleProps;if(!e){var v=m.getSuperClass().prototype._styleProps;e=v?up(v):{},m._styleProps=e}e[d]=!0;var g="_"+d;m[Un(d,L)]="get"===L&&-1!==d.indexOf("Drawable",d.length-8)?function(){return Kq(d,this)}:function(){return ti(d,this)},m[Wo(d)]=a?function(Y){var c=ti(d,this);this[g]=Y,this[g+"Drawable"]=M,this.fp(d,c,Y)}:function(P){var I=ti(d,this);this[g]=P,this.fp(d,I,P)},a&&ob(m,"get:"+d+"Drawable")},tl=function(X,r,W,S,M){arguments.length<=3&&(W=r.y,S=r.width,M=r.height,r=r.x);var h=X&&X.getView?X.getView():X,m=h.style;(H.fullscreenElement||H.mozFullScreenElement||H.webkitFullscreenElement||H.msFullscreenElement)!==h&&(r=w(r),W=w(W),S=w(S),M=w(M),r!=$&&(m.left=r+Fq),W!=$&&(m.top=W+Fq),S!=$&&(0>S&&(S=0),X.tagName&&(m.width=S+Fq)),M!=$&&(0>M&&(M=0),X.tagName&&(m.height=M+Fq)))},vp=c.ui={};vp.border={},vp.drawable={},vp.editor={};var bc=function(B){B=B.trim(),B=B.replace(/\n+/,"\n");for(var f=B.split(/\s+/),o=0,Q=0;Q<f.length;Q++){var s=f[Q];if(s.indexOf(">")>0)for(var k=s.split(">"),e=0;e<k.length;e++){var N=k[e],R=N.indexOf("&");if(0===R){var n=N.split("&").length-1;o+=10*n}else if(R>0){var n=N.split("&").length-1;o+=10*n+1}else o+=1}else{var V=s.indexOf("&");if(0===V){var n=s.split("&").length-1;o+=10*n}else if(V>0){var n=s.split("&").length-1;o+=10*n+1}else o+=1}}return o};!function(){var u=function(w,S){var H=new XMLHttpRequest;H.overrideMimeType("text/plain"),H.open("GET",w,!1),H.onload=function(o){(200===this.status||0===this.status)&&S(o.target.response)},H.onerror=function(s){console.error(s)},H.send($)},w=function(E){if(E){var w=eval(E);return w}};if(Q.document){for(var r=[],K=Q.document.querySelectorAll('link[rel="ht-style"]'),D=Q.document.querySelectorAll('script[rel="ht-style"]'),A=0;A<K.length;A++){var j=K[A],y=j.href;try{u(y,function(H){var J=w(H);J&&r.push(J)})}catch(c){console.error(c)}}for(var A=0;A<D.length;A++){var s=D[A];try{var Z=s.innerHTML,s=w(Z);s&&r.push(s)}catch(c){console.error(c)}}for(var A=0;A<r.length;A++){var s=r[A];for(var C in s)if(C.indexOf(",")<0){var E=bc(C);N.defineProperty(s[C],"_priority",{value:E,enumerable:!1})}}lf(B,{defaultUIStyles:r})}}(),Ei({ui_ac:function(d,s){for(var U=s.ui_ac,Y=0;Y<U.length;Y++)ob(d,U[Y])}}),Ei({ui_txy:function(p){ob(p,"autoScrollSize"),ob(p,"scrollBarColor"),ob(p,"scrollBarSize"),ob(p,"scrollBarTimeout"),ob(p,"scrollBarMinLength"),ob(p,"scrollBarActiveSize"),ob(p,"scrollBarMode"),p.$118u=l,p.$188u=0,p.$189u=0,p.$191u=0,p.$192u=0,p.showScrollBar=function(){this.showVScrollBar(),this.showHScrollBar()},p.$127u=function(){var o=this,m=o.getScrollBarMode();"off"===m?o._scrollBarDiv&&(pc(o._scrollBarDiv),delete o._scrollBarDiv,delete o._vScrollBar,delete o._hScrollBar):o._scrollBarDiv||(o._scrollBarDiv=oq(!1,o._interactionDiv),o._vScrollBar=oq(!1,o._scrollBarDiv),o._hScrollBar=oq(!1,o._scrollBarDiv),o._scrollBarDiv.setAttribute(C,"ht-scrollBar")),this.$128u(),this.$129u()},p.tx=function(t){return t===M?this.getTranslateX():(this.setTranslateX(t),void 0)},p.ty=function(v){return v===M?this.getTranslateY():(this.setTranslateY(v),void 0)},p.autoScroll=function(V,F){var U=this,B=U.getAutoScrollSize(),W=B/(U._zoom||1),Q=B/4,r=U.$118u,l=U.lp(V),O={x:U.getTranslateX(),y:U.getTranslateY()};return B>0&&(l.x-r.x<W?U.translate(Q,0):r.x+r.width-l.x<W&&U.translate(-Q,0),l.y-r.y<W?U.translate(0,Q):r.y+r.height-l.y<W&&U.translate(0,-Q)),O.x=U.getTranslateX()-O.x,O.y=U.getTranslateY()-O.y,F&&(F.x+=O.x,F.y+=O.y),O},p.isCloseToHScrollBar=function(w){var L=this,d=L.$118u,n=L._zoom||1;return L.isHScrollable()&&(d.y+d.height-L.lp(w).y)*n+L.getPaddingBottom()<L.getScrollBarActiveSize()},p.isCloseToVScrollBar=function(L){var S=this,E=S.$118u,R=S._zoom||1;return S.isVScrollable()&&(E.x+E.width-S.lp(L).x)*R+S.getPaddingRight()<S.getScrollBarActiveSize()},p.showVScrollBar=function(){var o=this;o.isVScrollable()&&"on"!==o.getScrollBarMode()&&(o.$157u||(setTimeout(function(){o.handleVScrollBarTimeout()},o.getScrollBarTimeout()),o.iv()),o.$157u=new Date)},p.handleVScrollBarTimeout=function(){var G=this;G.$157u&&(!G._scrolling&&(new Date).getTime()-G.$157u.getTime()>=G.getScrollBarTimeout()?(delete G.$157u,G.iv()):setTimeout(function(){G.handleVScrollBarTimeout()},G.getScrollBarTimeout()))},p.$128u=function(){var K=this,P=K._vScrollBar,M=K.getBorder(),q=M&&M.isCSSBorder(),H=q?0:K.getBorderLeft(),f=q?0:K.getBorderTop();if(K._scrollBarDiv){if("auto"===K.getScrollBarMode()&&!K.$157u)return P.style.visibility="hidden",void 0;var V=K._zoom||1,g=K.getPaddingLeft()+H,R=K.getPaddingTop()+f,c=K.getScrollBarSize(),t=K.getScrollBarMinLength(),O=K.getViewRect(),J=K.getScrollRect(),i=O.height*V,U=J.height*V,m=g+O.width*V+K.getPaddingRight()-c-2,a=R+i*((O.y-J.y)*V/U),L=i*(i/U),G=P.style;U>i?(t>L&&(a=a+L/2-t/2,R>a&&(a=R),a+t>i+R&&(a=i+R-t),L=t),tl(P,m,a,c,L),G.visibility=Mn,G.background=K.getScrollBarColor(),G.borderRadius=c/2+Fq):G.visibility="hidden"}},p.showHScrollBar=function(){var L=this;L.isHScrollable()&&"on"!==L.getScrollBarMode()&&(L.$155u||(setTimeout(function(){L.handleHScrollBarTimeout()},L.getScrollBarTimeout()),L.iv()),L.$155u=new Date)},p.handleHScrollBarTimeout=function(){var Z=this;Z.$155u&&(!Z._scrolling&&(new Date).getTime()-Z.$155u.getTime()>=Z.getScrollBarTimeout()?(delete Z.$155u,Z.iv()):setTimeout(function(){Z.handleHScrollBarTimeout()},Z.getScrollBarTimeout()))},p.$129u=function(){var Z=this,F=Z._hScrollBar,W=Z.getBorder(),n=W&&W.isCSSBorder(),I=n?0:Z.getBorderLeft(),p=n?0:Z.getBorderTop();if(Z._scrollBarDiv){if("auto"===Z.getScrollBarMode()&&!Z.$155u)return F.style.visibility="hidden",void 0;var c=Z._zoom||1,z=Z.getPaddingLeft()+I,H=Z.getPaddingTop()+p,N=Z.getScrollBarSize(),L=Z.getScrollBarMinLength(),l=Z.getViewRect(),Q=Z.getScrollRect(),h=l.width*c,d=Q.width*c,t=H+l.height*c+Z.getPaddingBottom()-N-2,f=z+h*((l.x-Q.x)*c/d),o=h*(h/d),P=F.style;d>h?(L>o&&(f=f+o/2-L/2,z>f&&(f=z),f+L>h+z&&(f=h+z-L),o=L),tl(F,f,t,o,N),P.visibility=Mn,P.background=Z.getScrollBarColor(),P.borderRadius=N/2+Fq):P.visibility="hidden"}},p.setTranslate=function(I,Y,X){var Z=this;if(X=Ze(X)){Z.$156u&&Z.$156u.stop(!0);var f=Z.getTranslateX(),n=Z.getTranslateY();X.action=function(x){Z.setTranslate(f+(I-f)*x,n+(Y-n)*x)},X.innerFunc=function(){delete Z.$130u,delete Z.$156u},Z.$130u=!0,Z.$156u=startAnim(X)}else Z.setTranslateX(I),Z.setTranslateY(Y)},p.adjustTranslateX=function(J){var e=this.getContentWidth()-this.$189u;return e>J&&(J=e),J>0?0:w(J)},p.adjustTranslateY=function(M){var T=this.getContentHeight()-this.$188u;return T>M&&(M=T),M>0?0:w(M)},p.translate=function(U,i,y){this.setTranslate(this.getTranslateX()+U,this.getTranslateY()+i,y)},p.getTranslateX=function(){return this.$191u},p.setTranslateX=function(d){var C=this,b=C.$191u;d=C.adjustTranslateX(d),C.$191u=d,C.fp("translateX",b,d)},p.getTranslateY=function(){return this.$192u},p.setTranslateY=function(R){var m=this,n=m.$192u;R=m.adjustTranslateY(R),m.$192u=R,m.fp("translateY",n,R)},p.getViewRect=function(){return this.$118u},p.getScrollRect=function(){var j,B=this,K=B.$118u;return j=B.getContentRect?Ni(B.getContentRect(),K):{x:0,y:0,width:s(K.width,B.$189u),height:s(K.height,B.$188u)}},p.isVScrollable=function(){return"off"!==this.getScrollBarMode()&&this.$118u.height<this.getScrollRect().height},p.isHScrollable=function(){return"off"!==this.getScrollBarMode()&&this.$118u.width<this.getScrollRect().width}}}),lf(B,{getUIVersion:function(){return"2.7-Beta"},getViewAt:km}),function(p,S){function m(d,h,_){return d.addEventListener?(d.addEventListener(h,_,!1),void 0):void 0}function J(e,v,S){return e.removeEventListener?(e.removeEventListener(v,S,!1),void 0):void 0}function x(y){if("keypress"==y.type){var W=String.fromCharCode(y.which);return y.shiftKey||(W=W.toLowerCase()),W}return P[y.which]?P[y.which]:Y[y.which]?Y[y.which]:String.fromCharCode(y.which).toLowerCase()}function F(z,R){return z.sort().join(",")===R.sort().join(",")}function D(d){var P=[];return d.shiftKey&&P.push("shift"),d.altKey&&P.push("alt"),d.ctrlKey&&P.push("ctrl"),d.metaKey&&P.push("meta"),P}function C(r){return r.preventDefault?(r.preventDefault(),void 0):(r.returnValue=!1,void 0)}function T(i){return i.stopPropagation?(i.stopPropagation(),void 0):(i.cancelBubble=!0,void 0)}function d(u){return"shift"==u||"ctrl"==u||"alt"==u||"meta"==u}function v(){if(!t){t={};for(var s in P)s>95&&112>s||P.hasOwnProperty(s)&&(t[P[s]]=s)}return t}function Z(k,P,N){return N||(N=v()[k]?"keydown":"keypress"),"keypress"==N&&P.length&&(N="keydown"),N}function I(O){return"+"===O?["+"]:(O=O.replace(/\+{2}/g,"+plus"),O.split("+"))}function g(J,A){var W,P,N,U=[];for(W=I(J),N=0;N<W.length;++N)P=W[N],a[P]&&(P=a[P]),A&&"keypress"!=A&&b[P]&&(P=b[P],U.push("shift")),d(P)&&U.push(P);return A=Z(P,U,A),{key:P,modifiers:U,action:A}}function V(m,d){return m&&m!==S?m===d?!0:V(m.parentNode,d):!1}function O(w){function p(G){G=G||{};var s,i=!1;for(s in q)G[s]?i=!0:q[s]=0;i||(c=!1)}function M(r,n,o,X,V,O){var N,K,v=[],u=o.type;if(!k._callbacks[r])return[];for("keyup"==u&&d(r)&&(n=[r]),N=0;N<k._callbacks[r].length;++N)if(K=k._callbacks[r][N],(X||!K.seq||q[K.seq]==K.level)&&u==K.action&&("keypress"==u&&!o.metaKey&&!o.ctrlKey||F(n,K.modifiers))){var c=!X&&K.combo==V,y=X&&K.seq==X&&K.level==O;(c||y)&&k._callbacks[r].splice(N,1),v.push(K)}return v}function L(f,N,l,n){k.stopCallback(N,N.target||N.srcElement,l,n)||f(N,l)===!1&&(C(N),T(N))}function R(O){"number"!=typeof O.which&&(O.which=O.keyCode);var U=x(O);if(U)return"keyup"==O.type&&n===U?(n=!1,void 0):(k.handleKey(U,D(O),O),void 0)}function i(){clearTimeout(l),l=setTimeout(p,1e3)}function H(O,K,w,v){function s(P){return function(){c=P,++q[O],i()}}function o(M){L(w,M,O),"keyup"!==v&&(n=x(M)),setTimeout(p,10)}q[O]=0;for(var e=0;e<K.length;++e){var M=e+1===K.length,I=M?o:s(v||g(K[e+1]).action);f(K[e],I,v,O,e)}}function f(f,D,U,l,e){k._directMap[f+":"+U]=D,f=f.replace(/\s+/g," ");var u,h=f.split(" ");return h.length>1?(H(f,h,D,U),void 0):(u=g(f,U),k._callbacks[u.key]=k._callbacks[u.key]||[],M(u.key,u.modifiers,{type:u.action},l,f,e),k._callbacks[u.key][l?"unshift":"push"]({callback:D,modifiers:u.modifiers,action:u.action,seq:l,level:e,combo:f}),void 0)}var k=this;if(w=w||S,!(k instanceof O))return new O(w);k.target=w,k._callbacks={},k._directMap={};var l,q={},n=!1,U=!1,c=!1;k._handleKey=function(h,W,w){var E,K=M(h,W,w),m={},q=0,Y=!1;for(E=0;E<K.length;++E)K[E].seq&&(q=Math.max(q,K[E].level));for(E=0;E<K.length;++E)if(K[E].seq){if(K[E].level!=q)continue;Y=!0,m[K[E].seq]=1,L(K[E].callback,w,K[E].combo,K[E].seq)}else Y||L(K[E].callback,w,K[E].combo);var H="keypress"==w.type&&U;w.type!=c||d(h)||H||p(m),U=Y&&"keydown"==w.type},k._bindMultiple=function(w,G,j){for(var P=0;P<w.length;++P)f(w[P],G,j)},m(w,"keypress",R),m(w,"keydown",R),m(w,"keyup",R),k.dispose=function(){J(w,"keypress",R),J(w,"keydown",R),J(w,"keyup",R)}}if(p.navigator){for(var t,P={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},Y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},b={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(p.navigator.platform)?"meta":"ctrl"},k=1;20>k;++k)P[111+k]="f"+k;for(k=0;9>=k;++k)P[k+96]=k;O.prototype.bind=function(r,z,K){var t=this;return r=r instanceof Array?r:[r],t._bindMultiple.call(t,r,z,K),t},O.prototype.unbind=function(r,n){var j=this;return j.bind.call(j,r,function(){},n)},O.prototype.trigger=function(p,z){var i=this;return i._directMap[p+":"+z]&&i._directMap[p+":"+z]({},p),i},O.prototype.reset=function(){var T=this;return T._callbacks={},T._directMap={},T},O.prototype.stopCallback=function(f,B,z){var Z=this;return(" "+B.className+" ").indexOf(" mousetrap ")>-1?!1:V(B,Z.target)?!1:("INPUT"==B.tagName||"SELECT"==B.tagName||"TEXTAREA"==B.tagName||B.isContentEditable)&&z&&1===z.length?!0:void 0},O.prototype.handleKey=function(){var q=this;return q._handleKey.apply(q,arguments)},O.init=function(){var b=O(S);for(var a in b)"_"!==a.charAt(0)&&(O[a]=function(w){return function(){return b[w].apply(b,arguments)}}(a))},O.init(),c.Mousetrap=O}}(Q,H),vp.NinePatch=function(u){var K=this;K.setImage(u);var n,B;B=H.createElement("canvas"),B.width=u.width,B.height=u.height,n=B.getContext("2d"),n.imageSmoothingEnabled=!1,n.drawImage(u,0,0);var D=n.getImageData(0,0,u.width,1).data,e=D[0]+","+D[1]+","+D[2]+","+D[3];K.setHorizontalPieces(K.$207u(D,e)),D=n.getImageData(0,0,1,u.height).data,K.setVerticalPieces(K.$207u(D,e)),D=n.getImageData(u.width-1,0,1,u.height).data,K.setPixelRatio(K.$206u(D,e))},db("ht.ui.NinePatch",N,{ms_ac:["horizontalPieces","verticalPieces","image","pixelRatio"],ms_fire:!0,$206u:function(L,k){var y=L[4]+","+L[5]+","+L[6]+","+L[7];if(y==k)return 1;for(var j=1,o=8,O=L.length-4;O>o&&(y=L[o]+","+L[o+1]+","+L[o+2]+","+L[o+3],y!==k);o+=4)j++;return j},$207u:function(D,s){var f,q,w,b,T,o=new Array;b=D[4]+","+D[5]+","+D[6]+","+D[7],f=b==s?"s":"d",q=1;for(var K=8,G=D.length-4;G>K;K+=4)b=D[K]+","+D[K+1]+","+D[K+2]+","+D[K+3],T=b==s?"s":"d",f!=T&&(w=K/4-q,o.push(new Array(f,q,w)),f=T,q=K/4);return w=K/4-q,o.push(new Array(f,q,w)),o},draw:function(b,Z,i,o,B){var P=this,j=b.imageSmoothingEnabled;b.imageSmoothingEnabled=!1,b.beginPath();for(var O,q,l=P.getPixelRatio(),w=P.getHorizontalPieces(),R=P.getVerticalPieces(),m=0,Y=0,h=0,x=w.length;x>h;h++)"s"==w[h][0]?m+=w[h][2]/l:Y++;O=(o-m)/Y;var v=0;Y=0;for(var h=0,x=R.length;x>h;h++)"s"==R[h][0]?v+=R[h][2]/l:Y++;q=(B-v)/Y;for(var h=0,p=R.length;p>h;h++){for(var s=0,x=w.length;x>s;s++){var n,u;n="d"==w[s][0]?O:w[s][2]/l,u="d"==R[h][0]?q:R[h][2]/l,b.drawImage(P.getImage(),w[s][1],R[h][1],w[s][2],R[h][2],Z,i,n,u),b.translate(n,0)}b.translate(-o,"s"==R[h][0]?R[h][2]/l:q)}b.translate(0,-B),b.imageSmoothingEnabled=j}}),vp.Interactor=function(O){this._comp=O},db("ht.ui.Interactor",N,{ms_listener:1,getView:function(){return this._comp._interactionDiv},getComponent:function(){return this._comp}}),vp.drawable.Drawable=function(){},db("ht.ui.drawable.Drawable",N,{ms_fire:!0,draw:function(){},getSerializableProperties:function(){return{}}}),vp.drawable.ColorDrawable=function(t,a){vp.drawable.ColorDrawable.superClass.constructor.call(this),this.setColor(t),this.setRadius(a)},db("ht.ui.drawable.ColorDrawable",vp.drawable.Drawable,{ms_ac:[J,"radius"],draw:function(k,Z,B,p,P,i,K){var b,H,D,w,z=this,Y=i.getRootContext(K),G=z.getRadius(),I=z.getColor();mf(G)?(b=G[0],H=G[1],D=G[2],w=G[3]):b=H=D=w=G,Y.beginPath(),G!=$?(Y.fillStyle=I,Zq(Y,k,Z,B,p,b,H,D,w),Y.fill()):(Y.fillStyle=I,Y.rect(k,Z,B,p),Y.fill())},getSerializableProperties:function(){var h=vp.drawable.ColorDrawable.superClass.getSerializableProperties.call(this);return lf(h,{color:1,radius:1})}}),vp.drawable.ImageDrawable=function(A,Z){vp.drawable.ImageDrawable.superClass.constructor.call(this),this.setImage(A),Z&&this.setStretch(Z)},db("ht.ui.drawable.ImageDrawable",vp.drawable.Drawable,{ms_ac:["image","stretch","colorTint"],_stretch:"centerUniform",draw:function(q,D,n,L,N,I,T){var s=this,f=I.getRootContext(T),S=s.getColorTint();f.beginPath(),sc(f,ye(s.getImage(),S),s.getStretch(),q,D,n,L,N,I,S)},getSerializableProperties:function(){var M=vp.drawable.ImageDrawable.superClass.getSerializableProperties.call(this);return lf(M,{image:1,stretch:1,colorTint:1})}}),vp.drawable.NinePatchImageDrawable=function(z){vp.drawable.NinePatchImageDrawable.superClass.constructor.call(this),this.setImage(z)},db("ht.ui.drawable.NinePatchImageDrawable",vp.drawable.Drawable,{ms_ac:["image","colorTint"],onPropertyChanged:function(){this.ninePatch=$},draw:function(j,m,J,Q,X,y,P){var A=this,z=A.ninePatch;if(!z){var t=ye(A.getImage(),A.getColorTint());t&&(z=A.ninePatch=new vp.NinePatch(t))}if(z){var W=y.getRootContext(P);W.beginPath(),z.draw(W,j,m,J,Q)}},getSerializableProperties:function(){var c=vp.drawable.NinePatchImageDrawable.superClass.getSerializableProperties.call(this);return lf(c,{image:1,colorTint:1})}}),vp.drawable.HoverMenuItemDrawable=function(t,a){vp.drawable.HoverMenuItemDrawable.superClass.constructor.call(this),t!=$&&this.setBorderSize(t),a!=$&&this.setBorderColor(a)},db("ht.ui.drawable.HoverMenuItemDrawable",vp.drawable.Drawable,{ms_ac:["borderColor","borderSize"],draw:function(j,J,y,o,p,S,V){var M=this,C=S.getRootContext(V),T=M.getBorderColor(),a=M.getBorderSize();C.beginPath(),C.rect(j,J,y,a),C.fillStyle=T,C.fill()},getSerializableProperties:function(){var U=vp.drawable.HoverMenuItemDrawable.superClass.getSerializableProperties.call(this);return lf(U,{borderColor:1,borderSize:1})}}),vp.drawable.TabBackgroundDrawable=function(K,W,k,S,C){vp.drawable.TabBackgroundDrawable.superClass.constructor.call(this),K!=$&&this.setBorderWidth(K),W!=$&&this.setBorderColor(W),k!=$&&this.setBackgroundColor(k),S!=$&&this.setRadius(S),C!=$&&this.setOrientation(C)},db("ht.ui.drawable.TabBackgroundDrawable",vp.drawable.Drawable,{ms_ac:["backgroundColor","borderColor","borderWidth","radius","orientation"],_radius:4,draw:function(f,A,l,P,Y,u,t){var R=this,J=u.getRootContext(t),e=R.getBackgroundColor(),n=R.getBorderColor(),g=R.getBorderWidth(),V=R.getOrientation(),B=R.getRadius();if(V==$&&u.getTabPosition&&(V=u.getTabPosition()===xk?_i:u.getTabPosition()===_i?xk:yb),J.beginPath(),V===_i?R.drawRightTabRoundRect(J,f,A,l,P,B):V===xk?R.drawLeftTabRoundRect(J,f,A,l,P,B):R.drawBottomTabRoundRect(J,f,A,l,P,B),J.fillStyle=e,J.fill(),n!=$&&g!=$){J.beginPath();var I=g/2;V===_i?R.drawRightTabRoundRect(J,f+I,A+I,l-g,P-I,B):V===xk?R.drawLeftTabRoundRect(J,f+I,A+I,l-g,P-I,B):R.drawBottomTabRoundRect(J,f+I,A+I,l-g,P-I,B),J.strokeStyle=n,J.stroke()}},drawLeftTabRoundRect:function(G,k,n,u,y,e,Q){6===arguments.length&&(Q=e);var M,x,T=k+u,H=n+y,L=y>u?2*u:2*y;e=L>e?e:L,Q=L>Q?Q:L,G.moveTo(k,n),M=.29*e,x=.58*e,G.lineTo(T-e,n),G.quadraticCurveTo(T-x,n,T-M,n+M),G.quadraticCurveTo(T,n+x,T,n+e),M=.29*Q,x=.58*Q,G.lineTo(T,H-Q),G.quadraticCurveTo(T,H-x,T-M,H-M),G.quadraticCurveTo(T-x,H,T-Q,H),G.lineTo(k,H)},drawRightTabRoundRect:function(J,o,U,w,e,r,S){6===arguments.length&&(S=r);var N,g,m=o+w,i=U+e,c=e>w?2*w:2*e;r=c>r?r:c,S=c>S?S:c,J.moveTo(m,i),N=.29*S,g=.58*S,J.lineTo(o+S,i),J.quadraticCurveTo(o+g,i,o+N,i-N),J.quadraticCurveTo(o,i-g,o,i-S),N=.29*r,g=.58*r,J.lineTo(o,U+r),J.quadraticCurveTo(o,U+g,o+N,U+N),J.quadraticCurveTo(o+g,U,o+r,U),J.lineTo(m,U)},drawBottomTabRoundRect:function(w,x,Y,e,k,z,n){6===arguments.length&&(n=z);var y,a,J=x+e,c=Y+k,N=k>e?2*e:2*k;z=N>z?z:N,n=N>n?n:N,w.moveTo(x,c),y=.29*z,a=.58*z,w.lineTo(x,Y+z),w.quadraticCurveTo(x,Y+a,x+y,Y+y),w.quadraticCurveTo(x+a,Y,x+z,Y),y=.29*n,a=.58*n,w.lineTo(J-n,Y),w.quadraticCurveTo(J-a,Y,J-y,Y+y),w.quadraticCurveTo(J,Y+a,J,Y+n),w.lineTo(J,c)},getSerializableProperties:function(){var x=vp.drawable.TabBackgroundDrawable.superClass.getSerializableProperties.call(this);return lf(x,{backgroundColor:1,borderColor:1,borderWidth:1,radius:1,orientation:1})}}),vp.drawable.SelectListItemDrawable=function(z,S,s,l){vp.drawable.SelectListItemDrawable.superClass.constructor.call(this),z!=$&&this.setBorderSize(z),S!=$&&this.setBorderColor(S),s!=$&&this.setStartColor(s),l!=$&&this.setEndColor(l)},db("ht.ui.drawable.SelectListItemDrawable",vp.drawable.Drawable,{ms_ac:["borderColor","borderSize","startColor","endColor"],_borderColor:"#229ed5",_borderSize:2,_startColor:"rgba(204, 236, 248, 1)",_endColor:"rgba(204, 236, 248, 0)",draw:function(L,p,g,P,f,A,R){var y=this,J=A.getRootContext(R),Z=y.getBorderColor(),W=y.getBorderSize(),F=y.getStartColor(),V=y.getEndColor();J.beginPath();var a=J.createLinearGradient(L,p,L+g,p);a.addColorStop(0,F),a.addColorStop(.4,F),a.addColorStop(1,V),J.rect(L,p,g,P),J.fillStyle=a,J.fill(),J.beginPath(),J.rect(L,p,W,P),J.fillStyle=Z,J.fill()},getSerializableProperties:function(){var J=vp.drawable.SelectListItemDrawable.superClass.getSerializableProperties.call(this);return lf(J,{borderColor:1,borderSize:1,startColor:1,endColor:1})}}),vp.drawable.PanelHeaderBackgroundDrawable=function(s,n,L,R){vp.drawable.PanelHeaderBackgroundDrawable.superClass.constructor.call(this),s!=$&&this.setBorderSize(s),n!=$&&this.setBorderColor(n),L!=$&&this.setStartColor(L),R!=$&&this.setEndColor(R)},db("ht.ui.drawable.PanelHeaderBackgroundDrawable",vp.drawable.Drawable,{ms_ac:["borderColor","borderSize","startColor","endColor"],draw:function(c,R,k,U,v,j,e){var l=this,Z=j.getRootContext(e),Y=l.getBorderColor(),P=l.getBorderSize(),V=l.getStartColor(),u=l.getEndColor();if(Z.beginPath(),Z.rect(c,R,k,U),u!=$){var X=Z.createLinearGradient(c,R,c+k,R);X.addColorStop(0,V),X.addColorStop(1,u),Z.fillStyle=X}else Z.fillStyle=V;Z.fill(),Z.beginPath(),Z.rect(c,R+U-P,k,P),Z.fillStyle=Y,Z.fill()},getSerializableProperties:function(){var X=vp.drawable.PanelHeaderBackgroundDrawable.superClass.getSerializableProperties.call(this);return lf(X,{borderColor:1,borderSize:1,startColor:1,endColor:1})}}),vp.drawable.SliderBarDrawable=function(P,E,j){vp.drawable.SliderBarDrawable.superClass.constructor.call(this),P!=$&&this.setStartColor(P),E!=$&&this.setEndColor(E),j!=$&&this.setRadius(j)},db("ht.ui.drawable.SliderBarDrawable",vp.drawable.Drawable,{ms_ac:["startColor","endColor","radius"],_radius:4,draw:function(p,R,z,y,N,e,b){var P=this,q=e.getRootContext(b),D=e.getOrientation(),l=P.getStartColor(),L=P.getEndColor(),S=P.getRadius();if(q.beginPath(),c.Default.drawRoundRect(q,p,R,z,y,S),"h"===D||"horizontal"===D){if(L!=$){var V=q.createLinearGradient(p,R,p+z,R);V.addColorStop(0,l),V.addColorStop(1,L),q.fillStyle=V}else q.fillStyle=l;q.fill()}else if("v"===D||"vertical"===D){if(L!=$){var V=q.createLinearGradient(p,R,p,R+y);V.addColorStop(0,L),V.addColorStop(1,l),q.fillStyle=V}else q.fillStyle=l;q.fill()}},getSerializableProperties:function(){var S=vp.drawable.SliderBarDrawable.superClass.getSerializableProperties.call(this);return lf(S,{startColor:1,endColor:1,radius:1})}}),vp.border.Border=function(){},db("ht.ui.border.Border",N,{ms_fire:!0,isCSSBorder:function(){return!1},getLeft:function(){return 0},getRight:function(){return 0},getTop:function(){return 0},getBottom:function(){return 0},drawBorder:function(){},tearDownBorder:function(){},getSerializableProperties:function(){return{}}}),vp.border.LineBorder=function(W,v,u){vp.border.LineBorder.superClass.constructor.call(this),W!=$&&this.setWidth(W),v!=$&&this.setColor(v),u!=$&&this.setRadius(u)},db("ht.ui.border.LineBorder",vp.border.Border,{ms_ac:[ug,J,"radius"],_width:1,_color:"black",getLeft:function(){return this.getWidth()},getRight:function(){return this.getWidth()},getTop:function(){return this.getWidth()},getBottom:function(){return this.getWidth()},drawBorder:function(Z,V,O,E,y,q){var k=this,w=k.getWidth(),T=k.getColor(),e=k.getRadius();if(w&&T){var h=y.getRootContext(q);e===M&&y.getBorderRadius&&y.getBorderRadius()&&(e=$h(y.getBorderRadius())),e?(h.beginPath(),Zq(h,Z+w/2,V+w/2,O-w,E-w,e,e,e,e),h.strokeStyle=T,h.lineWidth=w,h.stroke()):Jr(h,T,Z,V,O,E,w)}},getSerializableProperties:function(){var _=vp.border.LineBorder.superClass.getSerializableProperties.call(this);return lf(_,{width:1,color:1,radius:1})}}),vp.border.FocusLineBorder=function(q,C,P,d){vp.border.FocusLineBorder.superClass.constructor.call(this),q!=$&&this.setWidth(q),C!=$&&this.setColor(C),P!=$&&this.setFocusColor(P),d!=$&&this.setRadius(d)},db("ht.ui.border.FocusLineBorder",vp.border.Border,{ms_ac:[ug,J,"focusColor","radius"],_width:1,_color:"black",getLeft:function(){return this.getWidth()},getRight:function(){return this.getWidth()},getTop:function(){return this.getWidth()},getBottom:function(){return this.getWidth()},drawBorder:function(K,s,j,I,b,f){var Q=this,S=Q.getWidth(),L=Q.getColor(),Z=Q.getFocusColor(),V=Q.getRadius();if(S){var r=b.getRootContext(f);V===M&&b.getBorderRadius&&b.getBorderRadius()&&(V=$h(b.getBorderRadius())),V?(r.beginPath(),Zq(r,K+S/2,s+S/2,j-S,I-S,V,V,V,V),r.strokeStyle=b.hasFocus()?Z:L,r.lineWidth=S,r.stroke()):Jr(r,b.hasFocus()?Z:L,K,s,j,I,S)}},getSerializableProperties:function(){var _=vp.border.FocusLineBorder.superClass.getSerializableProperties.call(this);return lf(_,{width:1,color:1,focusColor:1,radius:1})}}),vp.border.IndividualLineBorder=function(A,Y,X,y,z){vp.border.IndividualLineBorder.superClass.constructor.call(this),A!=$&&this.setTop(A),Y!=$&&this.setRight(Y),X!=$&&this.setBottom(X),y!=$&&this.setLeft(y),z!=$&&this.setColor(z)},db("ht.ui.border.IndividualLineBorder",vp.border.Border,{ms_ac:[xk,_i,hq,yb,J],_top:0,_right:0,_bottom:0,_left:0,_color:"black",drawBorder:function(M,X,G,_,Q,z){var H=this,P=H.getLeft(),g=H.getRight(),O=H.getTop(),l=H.getBottom(),K=H.getColor(),v=Q.getRootContext(z);P&&(v.beginPath(),v.rect(M,X,P,_),v.fillStyle=K,v.fill()),g&&(v.beginPath(),v.rect(M+G-g,X,g,_),v.fillStyle=K,v.fill()),O&&(v.beginPath(),v.rect(M,X,G,O),v.fillStyle=K,v.fill()),l&&(v.beginPath(),v.rect(M,X+_-l,G,l),v.fillStyle=K,v.fill())},getSerializableProperties:function(){var m=vp.border.IndividualLineBorder.superClass.getSerializableProperties.call(this);return lf(m,{left:1,right:1,top:1,bottom:1,color:1})}}),vp.border.CSSBorder=function(A,N,p){vp.border.CSSBorder.superClass.constructor.call(this);var F=this;A!=$&&F.setWidth(A),N!=$&&F.setColor(N),p!=$&&F.setStyle(p)},db("ht.ui.border.CSSBorder",vp.border.Border,{ms_ac:[ug,J,"style"],_style:"solid",_color:"black",_width:1,isCSSBorder:function(){return!0},getLeft:function(){var S=this.getWidth();return mf(S)?S[3]:S},getRight:function(){var e=this.getWidth();return mf(e)?e[1]:e},getTop:function(){var t=this.getWidth();return mf(t)?t[0]:t},getBottom:function(){var k=this.getWidth();return mf(k)?k[2]:k},getLeftColor:function(){var s=this.getColor();return mf(s)?s[3]:s},getRightColor:function(){var j=this.getColor();return mf(j)?j[1]:j},getTopColor:function(){var Z=this.getColor();return mf(Z)?Z[0]:Z},getBottomColor:function(){var X=this.getColor();return mf(X)?X[2]:X},getLeftStyle:function(){var h=this.getStyle();return mf(h)?h[3]:h},getRightStyle:function(){var K=this.getStyle();return mf(K)?K[1]:K},getTopStyle:function(){var U=this.getStyle();return mf(U)?U[0]:U},getBottomStyle:function(){var z=this.getStyle();return mf(z)?z[2]:z
},drawBorder:function(n,l,k,H,C,K){var z=this;K=K?K:C._interactionDiv;var $=K.style;$.borderLeft=z.getLeft()+Fq+" "+z.getLeftStyle()+" "+z.getLeftColor(),$.borderRight=z.getRight()+Fq+" "+z.getRightStyle()+" "+z.getRightColor(),$.borderTop=z.getTop()+Fq+" "+z.getTopStyle()+" "+z.getTopColor(),$.borderBottom=z.getBottom()+Fq+" "+z.getBottomStyle()+" "+z.getBottomColor()},tearDownBorder:function(f,n,m,D,J,e){e=e?e:J._interactionDiv;var o=e.style;o.borderLeft="",o.borderRight="",o.borderTop="",o.borderBottom=""},getSerializableProperties:function(){var r=vp.border.CSSBorder.superClass.getSerializableProperties.call(this);return lf(r,{width:1,color:1,style:1})}});var rs={translateX:1,sortColumn:1},Gh={sortable:1,sortOrder:1,sortFunc:1},$q={focusData:1},ak={dataModel:1,sortColumn:1,sortFunc:1,visibleFunc:1,rootData:1,rootVisible:1},Pd={propertyModel:1,dataModel:1,sortFunc:1,visibleFunc:1,categorizable:1},xd=function(K,V){V.add(K),K.hasChildren()&&K.eachChild(function(J){xd(J,V)})},Qb=function(k,P,h,S,H,X,g,Z,o,V,R){var Q=h.getValueType(),l=h.getAlign();if(P=h.formatValue(P),P!=$){if(Q===J&&P){var e=Z,r=o;return e>36&&(e=36),r>18&&(r=18),l===di?ij(k,X+(Z-e)/2,g+(o-r)/2,e,r,P):l===xk?ij(k,X,g+(o-r)/2,e,r,P):ij(k,X+Z-e,g+(o-r)/2,e,r,P),void 0}if(Q===I||!Q&&wi(P)){var F=P?R.getCheckIconDrawable():R.getUncheckIconDrawable(),v=R.getIconWidth(),G=R.getIconHeight();return l===di?F.draw(X+(Z-v)/2,g+(o-G)/2,v,G,V,R):l===xk?F.draw(X,g+(o-G)/2,v,G,V,R):F.draw(X+Z-v,g+(o-G)/2,v,G,V,R),void 0}fg(k,P,S,H,X,g,Z,o,l)}};Ei({$148u:function(P){P.addElement=function(i,u,O,r,I,f,x){if(i){var $,o=this,b=o.$126u;if(o.isColumnLineVisible&&o.isColumnLineVisible()&&(f-=1),o.isRowLineVisible()&&(x-=1),!(0>=f||0>=x)){o.$126u||(b=o.$126u={}),b[u]||(b[u]={}),f=w(f),x=w(x),b[u][O]?($=b[u][O],im&&($.style.opacity="1")):($=oq(!0),$.setAttribute("render_rowId",u),$.setAttribute("render_columnId",O),o._rendererDiv.appendChild($),i instanceof Ld?(i.setX(0),i.setY(0),i.setWidth(f),i.setHeight(x),$.appendChild(i.getView()),i.redraw(!0)):$.appendChild(i),i.onParentAdded&&i.onParentAdded($),b[u][O]=$);var Y=$.style;Y.left=w(o.getTranslateX()+r)+Fq,Y.top=w(o.getTranslateY()+I)+Fq,Y.width=f+Fq,Y.height=x+Fq,i instanceof Ld&&(i.setX(0),i.setY(0),i.setWidth(f),i.setHeight(x))}}},P.removeElements=function(){var I=this,l=I.$126u,V=Dp();if(l){var u=I._dataModel;for(var k in l){var _,K=u.getDataById(k);if(K&&(_=I.getRowIndex(K)),!K||_==$||_<I.getStartRowIndex()||_>=I.getEndRowIndex()){var T=l[k];for(var o in T){var X=T[o];im&&V&&I.$53u===V&&"p"===V.state?X.style.opacity="0":pc(X)}delete l[k]}else if(I.getColumnInfo){var D=I.$117u,T=l[k],e=[];for(var o in T){var y=I.getColumnInfo(D.getDataById(o));y||e.push(o)}e.forEach(function(D){pc(T[D]),delete T[D]})}}}}},$149u:function(l){l.getValue=function(P,c){return c.getValue?c.getValue(P,c,this):Cq(P,c.getAccessType(),c.getName())},l.isEditing=function(g,v){var e=this;return g||v?e.$231u===g&&e._editorColumn===v?!0:void 0:!!e._editor}},$147u:function(t){t.init=function(A){var J=this,F=new Af(A);J.setTableView(A),J.setTableHeader(F)},t.setUpInteractors=function(){},t.setTableHeader=function(r){var g=this,Z=g._tableHeader;Z&&g.removeView(Z),g.addView(r),g.setPropertyValue("tableHeader",r)},t.setTableView=function(n){var i=this,F=i._tableView;F&&i.removeView(F),i.addView(n),i.setPropertyValue("tableView",n)},t.getTableHeader=function(){return this._tableHeader},t.getTableView=function(){return this._tableView},t.getDataModel=function(){return this.getTableView().dm()},t.getColumnModel=function(){return this.getTableView().getColumnModel()},t.setColumns=function(l){this.getTableView().setColumns(l)},t.addColumns=function(o){this.getTableView().addColumns(o)},t.validateImpl=function(U,x,a,$){var j=this,E=j.getTableHeader(),S=j.getTableView();if(E){var R=E.getPreferredSize().height;j.layoutChild(E,U,x,a,R),x+=R,$-=R}j.layoutChild(S,U,x,a,$)}}}),sp("ui_"+L,{width:16,height:16,fitSize:!1,comps:[{type:"roundRect",background:"#CAECF7",borderWidth:1,borderColor:"#139DD7",rect:[1,1,14,14]},{type:"shape",background:"#139DD7",borderColor:"#979797",closePath:!0,points:[1.9353573121962588,10.604665012653744,5.696241997760149,13.587143057448532,14.918137322636078,5.145213676419297,11.98155612979847,2.8198918109860864,5.541685092873959,11.413472618021817,2.617676315605559,7.663675748339097,1.4554280314766945,10.323008106101533]}]}),sp("ui_"+S,{width:16,height:16,fitSize:!1,comps:[{type:"roundRect",background:"#F5F4F4",borderWidth:1,borderColor:"#868584",rect:[1,1,14,14]}]}),sp("ui_"+P,{width:16,height:16,fitSize:!1,comps:[{type:"oval",background:"#CAECF7",borderWidth:1,borderColor:"#139DD7",rect:[1,1,14,14]},{type:"oval",background:"rgb(19,156,214)",borderWidth:1,borderColor:"rgb(19,156,214)",rect:[5,5,6,6]}]}),sp("ui_"+_,{width:16,height:16,fitSize:!1,comps:[{type:"oval",background:"#F5F4F4",borderWidth:1,borderColor:"#868584",rect:[1,1,14,14]}]}),sp("ui_slider_thumb",{width:16,height:16,comps:[{type:"circle",rect:[17,1,1],relative:!0,background:"#009fda"}]}),sp("ui_slider_hoverThumb",{width:16,height:16,comps:[{type:"circle",rect:[17,1,1],relative:!0,background:"#c3edf8"}]}),sp("ui_slider_activeThumb",{width:16,height:16,comps:[{type:"circle",rect:[17,1,1],relative:!0,background:"#0095cc"}]}),sp("splitlayout_toggle",{width:40,height:7,fitSize:!1,comps:[{type:"roundRect",background:"#E2E4E4",borderColor:"#979797",cornerRadius:3,rect:[0,0,40,7]},{type:"rect",background:"#E2E4E4",borderColor:"#979797",rect:[0,0,3,3]},{type:"rect",background:"#E2E4E4",borderColor:"#979797",displayName:"矩形",rect:[37.37780090306542,0,2.6221990969345796,2.6309617140507213]},{type:"triangle",background:"rgb(255,255,255)",borderWidth:1,borderColor:"rgb(255,255,255)",rect:[15.5,.6309617140507213,9,4]}]}),sp("borderlayout_toggle",{width:70,height:7,fitSize:!1,comps:[{type:"roundRect",background:"#E2E4E4",borderColor:"#979797",cornerRadius:3,rect:[7.105427357601002e-15,0,70,7]},{type:"rect",background:"#E2E4E4",borderColor:"#979797",rect:[-2.220446049250313e-16,0,2,2]},{type:"rect",background:"#E2E4E4",borderColor:"#979797",rect:[68,2.220446049250313e-16,2,2]},{type:"triangle",background:"rgb(255,255,255)",borderWidth:1,borderColor:"rgb(255,255,255)",rect:[30.500000000000007,.5521726800209201,9,4]}]}),sp("ui_expand_icon",{gridBlockSize:1,gridThickLinesEvery:20,gridThickColor:"rgb(191, 191, 191)",gridLightColor:"rgba(191, 191, 191, 0.2)",gridZoomThreshold:.25,width:16,height:16,fitSize:!1,comps:[{type:"shape",borderWidth:2,borderColor:"#00123C",borderCap:"round",rotation:Math.PI/2,points:[3.9639639639639643,4.000000000000001,12.54645,8.000000000000002,4.000000000000001,12]}]}),sp("ui_collapse_icon",{gridBlockSize:1,gridThickLinesEvery:20,gridThickColor:"rgb(191, 191, 191)",gridLightColor:"rgba(191, 191, 191, 0.2)",gridZoomThreshold:.25,width:16,height:16,fitSize:!1,comps:[{type:"shape",borderWidth:2,borderColor:"#00123C",borderCap:"round",points:[3.9639639639639643,4.000000000000001,12.54645,8.000000000000002,4.000000000000001,12]}]}),sp("ui_expand_icon",{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:"#868686",rotation:3.14}]}),sp("ui_collapse_icon",{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:"#868686",rotation:1.57}]}),sp("ui_toggle_off",{width:34,height:20,fitSize:!1,comps:[{type:"roundRect",background:"rgb(255,255,255)",borderWidth:1,borderColor:"rgb(179,179,179)",cornerRadius:9.5,rect:[.5,.5,33,19]},{type:"oval",background:"rgb(179,179,179)",borderColor:"#979797",rect:[2,2,15.434678533388333,16]}]}),sp("ui_toggle_on",{width:34,height:20,fitSize:!1,comps:[{type:"roundRect",background:"rgb(255,255,255)",borderWidth:1,borderColor:"rgb(19,156,214)",cornerRadius:9.5,rect:[.5,.5,33,19]},{type:"oval",background:"rgb(19,156,214)",borderColor:"#979797",rect:[16.565321466611664,2.0000000000000018,15.434678533388333,16]}]}),sp("contextmenu_indicator",{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:{func:function(x,l){return l.isHoverMenuItem(x)?l.getHoverIndicatorColor(x)||l.getHoverLabelColor(x):l.getIndicatorColor(x)||l.getLabelColor(x)}},rotation:1.57}]}),sp("colorpane_slider",{width:28,height:8,comps:[{type:"shape",borderColor:{func:function(B,H){return H.getSliderColor()}},borderWidth:1,join:"miter",points:[0,0,0,8,5,4,28,0,28,8,23,4],segments:[1,2,2,5,1,2,2,5]}]}),sp("dialog_collapse",{width:20,height:10,fitSize:!1,comps:[{type:"roundRect",background:"rgb(255,255,255)",borderColor:"#979797",cornerRadius:2,rect:[.5,3,19,4]}]}),sp("dialog_hoverCollapse",{width:20,height:10,fitSize:!1,comps:[{type:"roundRect",background:"#00123C",borderColor:"#979797",cornerRadius:2,rect:[.5,3,19,4]}]}),sp("dialog_expand",{width:20,height:20,fitSize:!1,comps:[{type:"roundRect",background:"rgb(255,255,255)",borderColor:"#979797",cornerRadius:2,rect:[.5,8,19,4]},{type:"roundRect",background:"rgb(255,255,255)",borderColor:"#979797",cornerRadius:2,rotation:1.5707963267948966,rect:[.5,8,19,4]}]}),sp("dialog_hoverExpand",{width:20,height:20,fitSize:!1,comps:[{type:"roundRect",background:"#00123C",borderColor:"#979797",cornerRadius:2,rect:[.5,8,19,4]},{type:"roundRect",background:"#00123C",borderColor:"#979797",cornerRadius:2,rotation:1.5707963267948966,rect:[.5,8,19,4]}]}),sp("panel_expand",{width:16,height:16,comps:[{type:"triangle",rect:[2,2,12,10],background:"#b3b3b3",rotation:v}]}),sp("panel_collapse",{width:16,height:16,comps:[{type:"triangle",rect:[2,2,12,10],background:"#b3b3b3"}]}),sp("dialog_close",{width:20,height:20,fitSize:!1,comps:[{type:"roundRect",background:"rgb(255,255,255)",borderColor:"#979797",cornerRadius:2,rotation:2.356194490192345,rect:[.5,8,19,4]},{type:"roundRect",background:"rgb(255,255,255)",borderColor:"#979797",cornerRadius:2,rotation:.7853981633974483,rect:[.5,8,19,4]}]}),sp("dialog_hoverClose",{width:20,height:20,fitSize:!1,comps:[{type:"roundRect",background:"#00123C",borderColor:"#979797",cornerRadius:2,rotation:.7853981633974483,rect:[.5,8,19,4]},{type:"roundRect",background:"#00123C",borderColor:"#979797",cornerRadius:2,rotation:2.356194490192345,rect:[.5,8,19,4]}]}),sp("dialog_maximize",{width:20,height:20,fitSize:!1,comps:[{type:"roundRect",background:"rgb(255,255,255)",borderColor:"#979797",cornerRadius:1,rect:[.5,3,19,2]},{type:"roundRect",background:"rgba(0,18,61,0)",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",cornerRadius:0,rect:[1.5,7.503027939668277,17,9]}]}),sp("dialog_hoverMaximize",{width:20,height:20,fitSize:!1,comps:[{type:"roundRect",background:"rgb(0,18,61)",borderColor:"#979797",cornerRadius:1,rect:[.5,3,19,2]},{type:"roundRect",background:"rgba(0,18,61,0)",borderWidth:2,borderColor:"rgb(0,18,61)",borderCap:"round",cornerRadius:0,rect:[1.5,7.503027939668277,17,9]}]}),sp("dialog_restore",{width:20,height:20,fitSize:!1,comps:[{type:"roundRect",background:"rgba(255,255,255,0)",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",cornerRadius:0,rect:[2.1460762837904808,7.229858273996344,12.691451126554059,9]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"square",points:[4.952946414641633,4.601838616782987,4.952946414641633,3.350522574610518,18.59782820399751,3.350522574610518,18.59782820399751,11.993899651141996,17.320305974978485,11.993899651141996]}]}),sp("dialog_hoverRestore",{width:20,height:20,fitSize:!1,comps:[{type:"roundRect",background:"rgba(255,255,255,0)",borderWidth:2,borderColor:"rgb(0,18,61)",borderCap:"round",cornerRadius:0,rect:[2.1460762837904808,7.229858273996344,12.691451126554059,9]},{type:"shape",borderWidth:2,borderColor:"rgb(0,18,61)",borderCap:"square",points:[4.952946414641633,4.601838616782987,4.952946414641633,3.350522574610518,18.59782820399751,3.350522574610518,18.59782820399751,11.993899651141996,17.320305974978485,11.993899651141996]}]}),sp("ui_dropDownIcon",{width:{func:function(x,K){return K.getIconWidth()}},height:{func:function(s,p){return p.getContentHeight()}},fitSize:!1,comps:[{type:"rect",background:"#009fda",borderColor:"#979797",gradientColor:"rgb(255,255,255)",relative:1,rect:[17,1,1]},{type:"triangle",background:"rgb(255,255,255)",borderColor:"#979797",rotation:3.141592653589793,rect:[17,10,8]}]}),sp("ui_hoverDropDownIcon",{width:{func:function(x,U){return U.getIconWidth()}},height:{func:function(K,M){return M.getContentHeight()}},fitSize:!1,comps:[{type:"rect",background:"#c3edf8",borderColor:"#979797",gradientColor:"rgb(255,255,255)",relative:1,rect:[17,1,1]},{type:"triangle",background:"#0095cc",borderColor:"#979797",rotation:3.141592653589793,rect:[17,10,8]}]}),sp("ui_activeDropDownIcon",{width:{func:function(V,i){return i.getIconWidth()}},height:{func:function(x,V){return V.getContentHeight()}},comps:[{type:"rect",background:"#007ca7",borderColor:"#979797",gradientColor:"rgb(255,255,255)",relative:1,rect:[17,1,1]},{type:"triangle",background:"rgb(255,255,255)",borderColor:"#979797",rotation:3.141592653589793,rect:[17,10,8]}]}),sp("table_sortAsc",{width:16,height:16,comps:[{type:"triangle",rect:[4,4,8,7],background:"#868686",rotation:0}]}),sp("table_sortDesc",{width:16,height:16,comps:[{type:"triangle",rect:[4,4,8,7],background:"#868686",rotation:3.14}]}),sp("tablayout_close",{width:24,height:24,fitSize:!1,comps:[{type:"roundRect",background:"#00123C",borderColor:"#979797",cornerRadius:2,rotation:.7853981633974483,rect:[3.5,10,17,4]},{type:"roundRect",background:"#00123C",borderColor:"#979797",cornerRadius:2,rotation:2.356194490192345,rect:[3.5,10,17,4]}]}),sp("tablayout_hoverClose",{width:24,height:24,fitSize:!1,comps:[{type:"oval",background:"#E96678",borderWidth:2,borderColor:"#F14D63",rect:[1,1,22,22]},{type:"roundRect",background:"rgb(255,255,255)",borderColor:"#979797",cornerRadius:2,rotation:.7853981633974483,rect:[3.5,10,17,4]},{type:"roundRect",background:"rgb(255,255,255)",borderColor:"#979797",cornerRadius:2,rotation:2.356194490192345,rect:[3.5,10,17,4]}]}),sp("tablayout_activeClose",{width:24,height:24,fitSize:!1,comps:[{type:"oval",background:"#b74a3b",borderWidth:2,borderColor:"#b74a3b",rect:[1,1,22,22]},{type:"roundRect",background:"rgb(255,255,255)",borderColor:"#979797",cornerRadius:2,rotation:.7853981633974483,rect:[3.5,10,17,4]},{type:"roundRect",background:"rgb(255,255,255)",borderColor:"#979797",cornerRadius:2,rotation:2.356194490192345,rect:[3.5,10,17,4]}]}),sp("tablayout_tabBackground",{width:{func:function(M,d){return d.getTabWidth(M)}},height:{func:function(R,z){return z.getTabHeight()}},comps:[{type:"shape",points:{func:function(m,p){var Y=p.getTabHeight(),o=p.getTabWidth(m);return[0,Y,10,0,o-10,0,o,Y,0,Y]}},background:{func:function(j,X){return X.getTabBackgroundColor()}}}]}),sp("tablayout_hoverTabBackground",{width:{func:function(c,G){return G.getTabWidth(c)}},height:{func:function(D,L){return L.getTabHeight()}},comps:[{type:"shape",points:{func:function(W,N){var x=N.getTabHeight(),p=N.getTabWidth(W);return[0,x,10,0,p-10,0,p,x,0,x]}},background:{func:function(j,y){return y.getHoverTabBackgroundColor()}}}]}),sp("tablayout_activeTabBackground",{width:{func:function(N,M){return M.getTabWidth(N)}},height:{func:function(o,A){return A.getTabHeight()}},comps:[{type:"shape",points:{func:function(x,b){var h=b.getTabHeight(),J=b.getTabWidth(x);return[0,h,10,0,J-10,0,J,h,0,h]}},background:{func:function(I,z){return z.getActiveTabBackgroundColor()}}}]}),sp("tablayout_moveTabBackground",{width:{func:function(Y,h){return h.getTabWidth(Y)}},height:{func:function(V,U){return U.getTabHeight()}},comps:[{type:"shape",points:{func:function(h,H){var R=H.getTabHeight(),A=H.getTabWidth(h);return[0,R,10,0,A-10,0,A,R,0,R]}},background:{func:function(s,d){return d.getMoveTabBackgroundColor()}}}]}),sp("drag_add",{width:20,height:20,comps:[{type:"rect",rect:[17,14,4],background:"#008000"},{type:"rect",rect:[17,4,14],background:"#008000"}]}),sp("propertypane_activeCategory",{width:16,height:16,comps:[{type:"rect",borderWidth:1,borderColor:"#399cfb",rect:[1.52,2.53604,12.96,12]},{type:"rect",background:"#399cfb",borderColor:"#399cfb",rect:[1.52,2.53604,12.96,3]},{type:"rect",background:"#399cfb",borderColor:"#399cfb",rotation:3.14159,rect:[4,11,8,1]},{type:"rect",background:"#399cfb",borderColor:"#399cfb",rotation:3.14159,rect:[4,8.03604,8,1]}]}),sp("propertypane_category",{width:16,height:16,comps:[{type:"rect",borderWidth:1,borderColor:"rgb(138,138,138)",rect:[1.52,2.53604,12.96,12]},{type:"rect",background:"rgb(138,138,138)",borderColor:"rgb(138,138,138)",rect:[1.52,2.53604,12.96,3]},{type:"rect",background:"rgb(138,138,138)",borderColor:"rgb(138,138,138)",rotation:3.14159,rect:[4,11,8,1]},{type:"rect",background:"rgb(138,138,138)",borderColor:"rgb(138,138,138)",rotation:3.14159,rect:[4,8.03604,8,1]}]}),sp("propertypane_activeSort",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:"#399cfb",borderCap:"round",points:[1.5,13.22742,5.0325,3.22742,8.5,13.22742,7.1903,9.51313,3.05085,9.51313]},{type:"triangle",background:"#399cfb",borderColor:"#399cfb",rotation:6.28319,rect:[9.5,4,5,3]},{type:"triangle",background:"#399cfb",borderColor:"#399cfb",rotation:3.14159,rect:[9.5,10,5,3]}]}),sp("propertypane_sort",{width:16,height:16,comps:[{type:"shape",borderWidth:1,borderColor:"rgb(138,138,138)",borderCap:"round",points:[1.5,13.22742,5.0325,3.22742,8.5,13.22742,7.1903,9.51313,3.05085,9.51313]},{type:"triangle",background:"rgb(138,138,138)",borderColor:"rgb(138,138,138)",rotation:6.28319,rect:[9.5,4,5,3]},{type:"triangle",background:"rgb(138,138,138)",borderColor:"rgb(138,138,138)",rotation:3.14159,rect:[9.5,10,5,3]}]});var Ld=vp.View=function(){var K=this;K.initView(),K.setUpInteractors();var A=K.getView();A.addEventListener("focusin",function(){K.isRedrawOnFocus()&&K.redraw()}),A.addEventListener("focusout",function(){K.isRedrawOnFocus()&&K.redraw()})};db("ht.ui.View",N,{ms_fire:!0,ms_tip:!0,_styleProps:{preferredSize:!0,minSize:!0,maxSize:!0},ui_ac:["x","y",ug,fq,je,"drawable:background","cursor","padding","disabled","disabledBackground",Db,"zIndex","boxShadow","borderRadius","is:redrawOnFocus"],ms_ac:["id","focusable","parent","style"],_domProps:{x:!0,y:!0,width:!0,height:!0,padding:!0,border:!0,style:!0,parent:!0,boxShadow:!0,borderRadius:!0},_preferredSizeProps:{padding:!0,border:!0,style:!0,parent:!0},_minSizeProps:{padding:!0,border:!0,style:!0,parent:!0},_maxSizeProps:{},_focusable:!0,__padding:0,__scrollBarMode:"auto",__scrollBarColor:"rgba(0,0,0,0.35)",__scrollBarSize:7,__scrollBarTimeout:1e3,__scrollBarMinLength:20,__scrollBarActiveSize:12,__autoScrollSize:16,__disabledBackground:"rgba(0, 0, 0, 0.4)",setUpInteractors:function(){},tearDownInteractors:function(){var Y=this.$53u;Y&&(Y.removeListeners(),this.$53u=$)},addStyleProperty:function(q){var Z=up(this._styleProps);this._styleProps=Z,Z[q]=!0},removeStyleProperty:function(R){var J=up(this._styleProps);this._styleProps=J,delete J[R]},isSelfViewEvent:function(R){var y=this,A=Uq(R);return A===y._view||A===y._interactionDiv||A===y.$198u||A===y._rootCanvas||A===y._canvas||y._scrollBarDiv&&y._scrollBarDiv.contains(A)?!0:void 0},isContentEvent:function(I){var Y=this,m=Uq(I),F=I;return m&&(F=Y.lp(I)),Y.tx&&(F.x+=Y.getTranslateX(),F.y+=Y.getTranslateY()),F.x>0&&F.y>0&&F.x<Y.getContentWidth()&&F.y<Y.getContentHeight()?!0:void 0},isStyleProperty:function(Z){return this._styleProps[Z]},getStyleProperties:function(){return this._styleProps},fixWebkitBorderOverflow:function(){this._interactionDiv.style.webkitMaskImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC)"},getDOMProperties:function(){return this._domProps},getPreferredSizeProperties:function(){return this._preferredSizeProps},getMinSizeProperties:function(){return this._minSizeProps},getMaxSizeProperties:function(){return this._maxSizeProps},setFocusable:function(Z){var v=this,f=v._view,u=v.$198u,x=v._interactionDiv,_=v.hasFocus();Z?(f.setAttribute("tabIndex",-1),x.setAttribute("tabIndex",-1),u.setAttribute("tabIndex",-1)):(f.removeAttribute("tabIndex"),x.removeAttribute("tabIndex"),u.removeAttribute("tabIndex"),_&&H.body.focus()),v.setPropertyValue("focusable",!!Z)},hasFocus:function(){for(var r=this,E=H.activeElement;E;){var G=E.htComp;if(G)return G===r?!0:!1;E=E.parentNode}return!1},hasContentCanvas:function(){return!!this._canvas},getContentCanvas:function(){return this._canvas},initView:function(p){var J=this;J._view=oq(!0),J._view.htComp=J,J._view.setAttribute(C,"ht-view "+J.getClassName()),J._interactionDiv=oq(!1,J._view),J._interactionDiv.style.overflow="hidden",J._interactionDiv.setAttribute(C,"ht-interaction");var F=J.$198u=oq(!0,J._interactionDiv);if(F.style.zIndex="0",F.setAttribute(C,"ht-content"),p){var o=J._canvas=jq(F);o.setAttribute(C,"ht-canvas")}},getContentDiv:function(){return this.$198u},getBorderLeft:function(){var u=this.getBorder();return u?u.getLeft():0},getBorderTop:function(){var V=this.getBorder();return V?V.getTop():0},getBorderRight:function(){var R=this.getBorder();return R?R.getRight():0},getBorderBottom:function(){var R=this.getBorder();return R?R.getBottom():0},getPaddingLeft:function(){var D=this.getPadding();return mf(D)?D[3]:D},getPaddingTop:function(){var a=this.getPadding();return mf(a)?a[0]:a},getPaddingRight:function(){var s=this.getPadding();return mf(s)?s[1]:s},getPaddingBottom:function(){var F=this.getPadding();return mf(F)?F[2]:F},getContentWidth:function(){var b=this,H=b.getWidth();return H-=b.getBorderLeft()+b.getBorderRight(),H-=b.getPaddingLeft()+b.getPaddingRight()},getContentHeight:function(){var y=this,w=y.getHeight();return w-=y.getBorderTop()+y.getBorderBottom(),w-=y.getPaddingTop()+y.getPaddingBottom()},getContentLeft:function(){var M,e=this,q=e.getBorder();return M=q&&q.isCSSBorder()?e.getPaddingLeft():e.getBorderLeft()+e.getPaddingLeft()},getContentRight:function(){var P,t=this,r=t.getBorder();return P=r&&r.isCSSBorder()?t.getPaddingRight():t.getBorderRight()+t.getPaddingRight()},getContentTop:function(){var Y,P=this,x=P.getBorder();return Y=x&&x.isCSSBorder()?P.getPaddingTop():P.getBorderTop()+P.getPaddingTop()},getContentBottom:function(){var U,I=this,m=I.getBorder();return U=m&&m.isCSSBorder()?I.getPaddingBottom():I.getBorderBottom()+I.getPaddingBottom()},setPropertyValue:function(U,m){var B=_j(U,this);this["_"+U]=m,this.fp(U,B,m)},getPropertyValue:function(K){return _j(K,this)},getView:function(){return this._view},figurePreferredSize:function(){var c=this;return{width:c.getPaddingLeft()+c.getPaddingRight()+c.getBorderLeft()+c.getBorderRight(),height:c.getPaddingTop()+c.getPaddingBottom()+c.getBorderTop()+c.getBorderBottom()}},getPreferredSize:function(){if(c._uiSerializing)return this.$145u?this._preferredSize:M;var j=this,b=j._preferredSize||j.getStyleValue(fr)||j.__preferredSize;return b||(b=j._preferredSize=j.figurePreferredSize()),b},figureMinSize:function(){var q=this;return{width:q.getPaddingLeft()+q.getPaddingRight()+q.getBorderLeft()+q.getBorderRight(),height:q.getPaddingTop()+q.getPaddingBottom()+q.getBorderTop()+q.getBorderBottom()}},getMinSize:function(){if(c._uiSerializing)return this.$143u?this._minSize:M;var v=this,K=v._minSize||v.getStyleValue(gs)||v.__minSize;return K||(K=v._minSize=v.figureMinSize()),K},figureMaxSize:function(){return{width:1/0,height:1/0}},getMaxSize:function(){if(c._uiSerializing)return this.$144u?this._maxSize:M;var P=this,i=P._maxSize||P.getStyleValue(nl)||P.__maxSize;return i||(i=P._maxSize=P.figureMaxSize()),i},$100u:function(o,a){var G;return a===M?G=o:(o!=$||a!=$)&&(G={width:o,height:a}),G},isPreferredSizeSet:function(){return this.$145u},isMinSizeSet:function(){return this.$143u},isMaxSizeSet:function(){return this.$144u},setMinSize:function(f,O){var C=this.$100u(f,O);this.$143u=C!=$?!0:!1,this.setPropertyValue(gs,C)},setMaxSize:function(w,R){var n=this.$100u(w,R);this.$144u=n!=$?!0:!1,this.setPropertyValue(nl,n)},setPreferredSize:function(d,R){var j=this.$100u(d,R);this.$145u=j!=$?!0:!1,this.setPropertyValue(fr,j)},removeFromDOM:function(){var T=this,M=T.getView(),k=T._resizeHandler,U=M.parentNode;U&&(U.removeChild(M),Q.removeEventListener("orientationchange",k,!1),Q.removeEventListener("resize",k,!1))},addToDOM:function(X,P){var S=this,F=S.getView();if(X=X||Q,X===Q)if(sj(X.document.body,F),P)S.setX(P.x),S.setY(P.y),S.setWidth(P.width),S.setHeight(P.height);else{var m=S._resizeHandler=function(){var P=rd(X),c=S.getLayoutParams()||{},y=c.marginLeft||0,Q=c.marginRight||0,p=c.marginTop||0,Y=c.marginBottom||0;S.setX(y),S.setY(p),S.setWidth(P.width-y-Q),S.setHeight(P.height-p-Y)};X.addEventListener("orientationchange",m,!1),X.addEventListener("resize",m,!1),m()}else sj(X,F),P||(P={x:0,y:0,width:X.clientWidth,height:X.clientHeight}),S.setX(P.x),S.setY(P.y),S.setWidth(P.width),S.setHeight(P.height);S.iv(!0)},requestFocus:function(){var B=this;if(B.isFocusable()){for(var y=B._interactionDiv;y;)y.$110u=y.scrollLeft,y.$111u=y.scrollTop,y=y.parentNode;for(B._interactionDiv.focus(),y=B._interactionDiv;y;)y.$110u!=$&&(y.scrollLeft=y.$110u,delete y.$110u),y.$111u!=$&&(y.scrollTop=y.$111u,delete y.$111u),y=y.parentNode}},getLogicalPoint:function(y){var M=this,V=M.$198u.getBoundingClientRect(),L=M.tx?M.tx():0,X=M.ty?M.ty():0,S=M._zoom||1;return y=zf(y),{x:(y.clientX-V.left-L)/S,y:(y.clientY-V.top-X)/S}},lp:function(e){return this.getLogicalPoint(e)},redraw:function(_){var R=this;R.$103u=!0,R.$104u=!0,R.$113u=!0,R.iv(_)},iv:function(S){this.invalidate(S)},invalidateDOM:function(){var U=this;U.$113u||(U.$113u=!0,U.iv())},invalidate:function(F){var C=this;F&&(C.$102u=!0),C.$112u||(C.$112u=!0,kl(C.validate,C),C.onInvalidated&&C.onInvalidated(),C.fireViewEvent("invalidate"))},$101u:function(B,Z){return B==Z?!0:B&&Z?B.width===Z.width&&B.height===Z.height:void 0},$181u:function(A){var O=this,K=O.getPreferredSizeProperties();O._preferredSize&&K[A]&&!O.isPreferredSizeSet()&&!O.getStyleValue(fr)&&(O._preferredSize=$,O.fireViewEvent("invalidatePreferredSize"),O.iv())},$182u:function(K){var v=this,b=v.getMinSizeProperties();v._minSize&&b[K]&&!v.isMinSizeSet()&&!v.getStyleValue(gs)&&(v._minSize=$,v.fireViewEvent("invalidateMinSize"),v.iv())},$183u:function(K){var F=this,R=F.getMaxSizeProperties();F._maxSize&&R[K]&&!F.isMaxSizeSet()&&!F.getStyleValue(nl)&&(F._maxSize=$,F.fireViewEvent("invalidateMaxSize"),F.iv())},getBorder:function(){var H=this,f=H._border;f===M&&(f=H.getStyleValue(je),f===M&&(f=H["__"+je]));var _=H._borderCache;return _!==f&&(_&&(_.removePropertyChangeListener(H.handleBorderPropertyChange,H),H.tearDownBorder(_)),f&&f.addPropertyChangeListener(H.handleBorderPropertyChange,H),H._borderCache=f),f},setStyle:function(j){var K=this;K.$106u(),K.$105u(),K.setPropertyValue("style",j),K.iv(!0)},getContextMenu:function(){return this._contextMenu},setContextMenu:function(g){var B=this,w=B._contextMenu;if(w!==g){B.setPropertyValue("contextMenu",g);var m=B._contextMenuInteractor;if(g&&!m){var m=B._contextMenuInteractor=new vp.ViewContextMenuInteractor(B);m.addListeners()}else!g&&m&&(m.removeListeners(),B._contextMenuInteractor=$)}},setParent:function(Z){var k=this;(Z!=$||this.isInDOM&&this.isInDOM())&&(k.$106u(),k.$105u()),k.setPropertyValue("parent",Z)},$105u:function(){var $=this;if($.getChildren)for(var z=$.getChildren(),Q=0;Q<z.size();Q++){var q=z.get(Q);q.$106u(),q.$105u()}var o=$.$230u;o&&(o.$106u(),o.$105u())},$106u:function(){var c=this;c.$199u=$,c.isPreferredSizeSet()||(c._preferredSize=$),c.isMaxSizeSet()||(c._maxSize=$),c.isMinSizeSet()||(c._minSize=$),c.hasContentCanvas()&&(c.$103u=!0),c.$104u=!0,c.$113u=!0},onXYChanged:function(L,h){var M=this.getView(),u=M.style;u.left=L+Fq,u.top=h+Fq},onPropertyChanged:function(D){var o=this,U=D.property;if("parent"!==U||D.newValue!=$||this.isInDOM()){if("x"===U||"y"===U)return o.onXYChanged(o.getX(),o.getY()),void 0;var K=o.getDOMProperties();if(K[U]&&(o.$113u=!0),o.$181u(U),o.$182u(U),o.$183u(U),(U===je||"style"===U||"parent"===U)&&(o.hasContentCanvas()&&(o.$103u=!0),o.$104u=!0),"width"===U||"height"===U){o.endEdit&&o.endEdit(),o.hasContentCanvas()&&(o.$103u=!0);var j=o.getBorder();j&&!j.isCSSBorder()&&(o.$104u=!0)}("backgroundDrawable"===U||"background"===U||"style"===U||"parent"===U)&&o.hasContentCanvas()&&(o.$103u=!0),o.iv()}},handleBorderPropertyChange:function(){var g=this;g.$181u(je),g.$182u(je),g.$183u(je),g.hasContentCanvas()&&(g.$103u=!0),g.$104u=!0,g.$113u=!0,g.iv()},isInDOM:function(){for(var O=this.getView();O;){if(O===H.body)return!0;O=O.parentNode}return!1},drawBackground:function(b,F,g,M,J,l){if(b){var s=this;if(F==$){F=s.getContentLeft()-s.getPaddingLeft(),g=s.getContentTop()-s.getPaddingTop();var w=s.getWidth(),Q=s.getHeight(),o=s.getBorderLeft(),H=s.getBorderRight(),D=s.getBorderTop(),G=s.getBorderBottom();M=w-o-H,J=Q-D-G}b.draw(F,g,M,J,$,s,l)}},drawBorder:function(j,u,F,T,E,n){if(j){var U=this;u==$&&(u=0,F=0,T=U.getWidth(),E=U.getHeight()),j.drawBorder(u,F,T,E,U,n)}},tearDownBorder:function(x,E,T,I,P,F){if(x){var p=this;1===arguments.length&&(E=0,T=0,I=p.getWidth(),P=p.getHeight()),x.tearDownBorder(E,T,I,P,p,F)}},$176u:function(b,K,s,H){var a=this;if(a._rootCanvas){var T=a.getRootContext();T.clearRect(b,K,s,H)}},getRootCanvas:function(){return this._rootCanvas},getRootContext:function(){var S=this,P=S._rootCanvas,M=S._rootContext;if(!M){if(!P){var N=S._interactionDiv,o=N.children,_=S.getBorder();P=S._rootCanvas=jq(),P.setAttribute(C,"ht-rootCanvas"),_&&_.isCSSBorder()?An(P,S.getWidth()-S.getBorderLeft()-S.getBorderRight(),S.getHeight()-S.getBorderTop()-S.getBorderBottom()):An(P,S.getWidth(),S.getHeight()),o.length>0?N.insertBefore(P,o[0]):N.appendChild(P)}M=S._rootContext=ts(P),M[nl]=0,Oe(M,0,0,1)}return M},processValidateImpl:function(){var v=this,k=v.getBorder(),r=v.getContentWidth(),E=v.getContentHeight(),b=v.getContentLeft(),T=v.getContentTop(),p=!1;k&&k.isCSSBorder()&&(p=!0),v.hasContentCanvas()&&v.$103u===!1?v.validateImpl(b,T,r,E):(v.$176u(0,0,v.getWidth(),v.getHeight()),v.drawBackground(v.getBackgroundDrawable()),v.validateImpl(b,T,r,E),(!v.hasContentCanvas()&&!p||v.$104u!==!1)&&v.drawBorder(k),v.$103u=!1,v.$104u=!1),v._rootContext&&(v._rootContext.restore(),v._rootContext=$)},layoutDOM:function(J,i,x,T){var v=this,r=v._view,S=v.getBorder(),n=v._rootCanvas,q=v._canvas,y=v.getBorderLeft(),b=v.getBorderRight(),u=v.getBorderTop(),U=v.getBorderBottom(),C=v.getPaddingLeft(),h=v.getPaddingTop(),R=v.getBoxShadow(),Q=v.getBorderRadius(),L=v.$198u;tl(r,J,i,x,T),tl(v._interactionDiv,0,0,x,T);var g,M,c,Z;S&&S.isCSSBorder()?(g=C,M=h):(g=C+y,M=h+u),c=v.getContentWidth(),Z=v.getContentHeight(),tl(L,g,M,c,Z),n&&(S&&S.isCSSBorder()?An(n,x-y-b,T-u-U):An(n,x,T)),q&&(q._domChanged=!0,An(q,c,Z)),R!=$&&(r.style.boxShadow=R),Q!=$&&(Rb(Q)&&(Q+=Fq),v._interactionDiv.style.borderRadius=Q,v.fixWebkitBorderOverflow())},validate:function(){var O=this;if(O.$112u){delete O.$112u;var D=O.getView(),W=O.getX(),Q=O.getY(),i=O.getWidth(),Y=O.getHeight();if(O._dynamicDOM);else if(i==$||Y==$||!O.isInDOM())return;O.$113u&&(O.layoutDOM(W,Q,i,Y),O.$113u=$),im||(D.style.cursor=O.getCursor());var _=O.getZIndex();D.style.zIndex=_!=$?_+"":"",O.fireViewEvent("beginValidate"),O.processValidateImpl(),O.fireViewEvent("endValidate"),O.$127u&&O.$127u();var g=O.isDisabled(),U=O._disabledDiv;g&&!U?(U=O._disabledDiv=Ig(),U.setAttribute(C,"ht-disabled"),U.style.width="100%",U.style.height="100%",sj(O._view,U)):!g&&U&&(pc(U),O._disabledDiv=$),U&&(U.style.background=O.getDisabledBackground()),Ek(O),delete O.$102u}},handleDrawableChange:function(L,l){var z=this;z.iv(),"background"===l&&z.hasContentCanvas()&&(z.$103u=!0)},validateImpl:function(){},addViewListener:function(u,V,b){var B=this;B.$107u||(B.$107u=new c.Notifier),B.$107u.add(u,V,b)},removeViewListener:function(q,e){this.$107u.remove(q,e)},fireViewEvent:function(k){var C=this;C.$107u&&(ed(k)&&(k={kind:k,source:C}),C.$107u.fire(k)),B.viewListener&&B.viewListener(C,k)},$108u:function(q,X,h){var A=!1;if("*"===q)A=!0;else if(0===q.indexOf("&")){if(X&&X.length>0)for(var u=q.split("&").slice(1),P=0;P<X.length;P++){var o=u.indexOf(X[P]);if(o>-1&&(u.splice(o,1),0===u.length)){A=!0;
break}}}else if(q===h)A=!0;else if(-1!==q.indexOf("*",q.length-1))for(q=q.substr(0,q.length-1);h;){if(h===q){A=!0;break}var B=Ke(h);B?(B=B.superClass,h=B&&B.getClassName?B.getClassName():$):h=$}else if(q.indexOf("&")>0&&X&&X.length>0){var r=q.split("&"),W=r[0],u=r.slice(1);if(W===h)for(var P=0;P<X.length;P++){var o=u.indexOf(X[P]);if(o>-1&&(u.splice(o,1),0===u.length)){A=!0;break}}}return A},$109u:function(k){var X=this,W=k.split(/\s+/),c=!1;W.reverse();for(var F=X,P=0,x=!0;F;){var j=W[P];if(j.indexOf(">")>0){for(var J=F,g=F,K=j.split(">"),V=!0,R=K.length-1;R>=0;R--){if(!J){V=!1;break}var t=J.getStyle(),_=$,p=J.getClassName(),m=K[R];if(t&&(_=t.split(/\s+/)),!X.$108u(m,_,p)){V=!1;break}R>0&&(J=J.getParent(),J&&!J.getStyle&&(J=J.getParent()))}V?(P++,F=J):F=g}else{var A=F.getClassName(),l=F.getStyle(),i=$;l&&(i=l.split(/\s+/)),X.$108u(j,i,A)&&P++}if(x&&0===P){c=!1;break}if(P===W.length){c=!0;break}x=!1,F=F.getParent(),F&&!F.getStyle&&(F=F.getParent())}return c},getStyleValue:function(Y){var e=this,g=e.getMatchedStyles();return g[Y]},getMatchedStyles:function(){var F=this,R=F.$199u;if(!R){for(var d=B.defaultUIStyles,o=[],h=0;h<d.length;h++){var s=d[h];for(var K in s)if(K.indexOf(",")>0)for(var V=K.split(","),v=0;v<V.length;v++){var G=V[v].trim();if(F.$109u(G)){var b=bc(G);N.defineProperty(s[K],"_priority",{value:b,enumerable:!1,configurable:!0}),-1===o.indexOf(s[K])&&o.push(s[K])}}else F.$109u(K)&&o.push(s[K])}o.sort(function(C,S){return C._priority>S._priority?1:C._priority===S._priority?0:-1}),R=F.$199u={};for(var h=0;h<o.length;h++){var w=o[h];for(var t in w){var E=w[t];if(ys(E)){var Z=w["_"+t];Z||(Z=w["_"+t]=E()),R[t]=Z}else R[t]=E}}}return R},getSerializableProperties:function(){return{x:1,y:1,width:1,height:1,border:1,background:1,backgroundDrawable:1,cursor:1,padding:1,disabled:1,toolTipEnabled:1,disabledBackground:1,layoutParams:1,zIndex:1,preferredSize:1,minSize:1,maxSize:1,id:1,focusable:1,style:1,boxShadow:1,borderRadius:1,contextMenu:1,"is:redrawOnFocus":1}}});var os=Ld.prototype;vp.ViewContextMenuInteractor=function(U){var Q=this;vp.ViewContextMenuInteractor.superClass.constructor.call(Q,U),Q._boundHandleViewContextMenu=Q.handleViewContextMenu.bind(Q),Q.$131u=Q.handleDocMouseDown.bind(Q)},db("ht.ui.ViewContextMenuInteractor",vp.Interactor,{addListeners:function(){var Y=this,h=Y.getView();h.addEventListener("contextmenu",Y._boundHandleViewContextMenu)},removeListeners:function(){var m=this,c=m.getView();c.removeEventListener("contextmenu",m._boundHandleViewContextMenu)},handleViewContextMenu:function(d){im&&(d=getTouch(d)),d.preventDefault();var k=this.getComponent().getContextMenu();k.$226u=this.getComponent(),k.show(d),H.addEventListener(im?"touchstart":"mousedown",this.$131u,!0)},handleDocMouseDown:function(p){var e=this.getComponent().getContextMenu();e.getView().contains(Uq(p))||(e.hide(),e.$226u=$,H.removeEventListener(im?"touchstart":"mousedown",this.$131u,!0))}});var od=vp.ViewGroup=function(){var E=this;od.superClass.constructor.call(E),E._children=new c.List};db("ht.ui.ViewGroup",Ld,{ui_txy:1,_preferredSizeProps:lf(up(os._preferredSizeProps),{children:!0,childPreferredSize:!0,childStyle:!0,childLayoutParams:!0}),_minSizeProps:lf(up(os._minSizeProps),{children:!0,childMinSize:!0,childStyle:!0,childLayoutParams:!0}),_maxSizeProps:lf(up(os._maxSizeProps),{children:!0,childMaxSize:!0,childStyle:!0,childLayoutParams:!0}),_focusable:!1,initView:function(l){var Y=this;vp.ViewGroup.superClass.initView.call(Y,l),Y.$198u.style.zIndex="0"},setUpInteractors:function(){var Q=this.$66u;Q||(Q=this.$66u=new vp.ViewGroupScrollInteractor(this),Q.addListeners())},tearDownInteractors:function(){var q=this.$66u;q&&(q.removeListeners(),this.$66u=$)},adjustChildHeight:function(z,r){var u=z.getMaxSize(),n=z.getMinSize();return r=m(u.height,r),r=s(n.height,r)},adjustChildWidth:function(Q,g){var k=Q.getMaxSize(),P=Q.getMinSize();return g=m(k.width,g),g=s(P.width,g)},isSelfViewEvent:function(L){var v=this,J=od.superClass.isSelfViewEvent.call(v,L);if(!J){var g=Uq(L);(g===v.$40u||g===v.$41u)&&(J=!0)}return J},createMarginDiv:function(){var T=this,L=T.$198u,H=T.$40u=oq(),Q=T.$41u=oq();H.setAttribute(C,"ht-rightMargin"),H.style.top="0",H.style.height=1+Fq,H.style.width=1+Fq,Q.setAttribute(C,"ht-bottomMargin"),Q.style.left="0",Q.style.width=1+Fq,Q.style.height=1+Fq,L.appendChild(H),L.appendChild(Q)},setChildren:function(C){if(C instanceof c.List&&(C=C._as),mf(C))for(var k=0,y=C.length;y>k;k++)this.addView(C[k])},getChildren:function(){return this._children},getChildLayoutParams:function(W){return W.getLayoutParams()||{}},addView:function(X,c,V){var J=this;c!=$&&X.setLayoutParams(c),J.$175u(X,V)},clear:function(){for(var x=this,H=x.getChildren(),y=H._as.slice(0),b=0;b<y.length;b++){var t=y[b];t.removePropertyChangeListener(x.$174u,x),t.removeViewListener(x.$173u,x),t.getView().parentNode===x.$198u&&x.$198u.removeChild(t.getView()),t.setParent($),H.remove(t)}x.fp(Um,$,H)},removeView:function(Z){var S=this;if(Z&&Z.getParent()===S){var L=S.getChildren();Z.removePropertyChangeListener(S.$174u,S),Z.removeViewListener(S.$173u,S),Z.getView().parentNode===S.$198u&&S.$198u.removeChild(Z.getView()),Z.setParent($),L.remove(Z),S.fp(Um,$,L)}},removeViewAt:function(F){var I=this.getChildren().get(F);this.removeView(I)},findViewById:function(N,I){return this.$225u(N,this._children,I)},$225u:function(G,l,T){if(l)for(var a=0,m=l.size();m>a;a++){var D=l.get(a);if(D.getId()===G)return D;if(T){var P=this.$225u(G,D._children,T);if(P)return P}}},layoutChild:function(l,N,J,t,m){l.setX(N),l.setY(J),l.setWidth(t),l.setHeight(m),this.$102u&&l.iv(!0),l.validate()},getChildAt:function(P){var C=this,Z=Uq(P),Q=P,l=C.getChildren();Z&&(Q=C.lp(P));for(var x=0,w=l.size();w>x;x++){var I=l.get(x);if(Fb({x:I.getX(),y:I.getY(),width:I.getWidth(),height:I.getHeight()},Q))return I}},$174u:function(r){var z=this,B=r.property;B===fr?(z.$181u("childPreferredSize"),z.iv()):B===gs?(z.$182u("childMinSize"),z.iv()):B===nl?(z.$183u("childMaxSize"),z.iv()):"style"===B?(z.$181u("childStyle"),z.$182u("childStyle"),z.$183u("childStyle"),z.iv()):B===Db&&(z.$181u("childLayoutParams"),z.$182u("childLayoutParams"),z.$183u("childLayoutParams"),z.iv())},$173u:function(v){var a=this,V=v.kind,C=v.source;if("invalidatePreferredSize"===V){var i=a.getChildLayoutParams(C);i&&i.width!=$&&i.width!==Mk&&i.width!==Jm&&i.height!=$&&i.height!==Mk&&i.height!==Jm||(a.$181u("childPreferredSize"),a.iv())}else"invalidateMinSize"===V?(a.$182u("childMinSize"),a.iv()):"invalidateMaxSize"===V&&(a.$183u("childMaxSize"),a.iv())},$175u:function(v,T){var Y=this,t=Y.getChildren(),d=v.getParent();d&&d.removeView(v),t.add(v,T),v.addPropertyChangeListener(Y.$174u,Y),v.addViewListener(Y.$173u,Y),Y.$198u.appendChild(v.getView()),v.setParent(Y),this.fp(Um,$,t),v.iv(!0)},updateScrollBar:function(c,k,F,T){var L=this;L.$40u||L.createMarginDiv(),L.$40u.style.left=F-1+Fq,L.$41u.style.top=T-1+Fq;var o=L.tx(),e=L.ty();L.$118u={x:-o,y:-e,width:c,height:k},L.$189u=F,L.$188u=T,L.$198u.scrollTop=-e,L.$198u.scrollLeft=-o,L.tx(o),L.ty(e)},getSerializableProperties:function(){var z=od.superClass.getSerializableProperties.call(this);return lf(z,{scrollBarMode:1,scrollBarColor:1,scrollBarSize:1,scrollBarTimeout:1,scrollBarMinLength:1,scrollBarActiveSize:1,autoScrollSize:1,children:1,translateX:1,translateY:1})}});var kj=od.prototype;vp.RelativeLayout=function(){vp.RelativeLayout.superClass.constructor.call(this)},db("ht.ui.RelativeLayout",od,{$32u:["toTopOf","toRightOf","toBottomOf","toLeftOf","alignTopOf","alignRightOf","alignBottomOf","alignLeftOf"],isRelativeView:function(N){for(var m=this.getChildLayoutParams(N),J=this.$32u,H=!1,q=0,o=J.length;o>q;q++)if(m[J[q]]!=$){H=!0;break}return H},figurePreferredSize:function(){for(var B=this,j=B.getChildren(),I=j.size(),G={x:0,y:0,width:0,height:0},i={},Q=0;I>Q;Q++){var R=j.get(Q);if(!B.isRelativeView(R)){var E,O,L=B.getChildLayoutParams(R),Y=L.width,J=L.height,m=L.marginLeft||0,f=L.marginRight||0,T=L.marginTop||0,y=L.marginBottom||0,t=L.align||xk,u=L.vAlign||hq,V=R.getPreferredSize();E=Y===Jm?V.width:Y===Mk||Y==$?V.width:Y,O=J===Jm?V.height:J===Mk||J==$?V.height:J;var v=m,z=T,x=E+f,_=O+y;t===di&&(v=(m+f)/2),u===Eq&&(z=(T+y)/2);var Z={x:v,y:z,width:x,height:_,marginLeft:m,marginRight:f,marginTop:T,marginBottom:y};i[Q]=Z,G=Ni(G,Z)}}for(var d=N.keys(i).length;N.keys(i).length<I;){for(var Q=0;I>Q;Q++)if(i[Q]==$){var R=j.get(Q);if(B.isRelativeView(R)){var E,O,L=B.getChildLayoutParams(R),Y=L.width,J=L.height,m=L.marginLeft||0,f=L.marginRight||0,T=L.marginTop||0,y=L.marginBottom||0,t=L.align||xk,u=L.vAlign||hq,V=R.getPreferredSize();E=Y===Jm?V.width:Y===Mk||Y==$?V.width:Y,O=J===Jm?0:J===Mk||J==$?V.height:J;var D,q,v=m,z=T,x=E+f,_=O+y;if(L.toTopOf){var o=L.toTopOf;if(D=ed(o)?B.findViewById(o):o,q=i[j.indexOf(D)],!q)continue;z=q.y-q.marginTop-O-y}else if(L.toBottomOf){var k=L.toBottomOf;if(D=ed(k)?B.findViewById(k):k,q=i[j.indexOf(D)],!q)continue;z=q.y+q.height+T}else if(L.alignTopOf){var S=L.alignTopOf;if(D=ed(S)?B.findViewById(S):S,q=i[j.indexOf(D)],!q)continue;z=q.y+T}else if(L.alignBottomOf){var e=L.alignBottomOf;if(D=ed(e)?B.findViewById(e):e,q=i[j.indexOf(D)],!q)continue;z=q.y+q.height-q.marginBottom-O-y}else u===Eq&&(z=(T+y)/2);if(L.toLeftOf){var A=L.toLeftOf;if(D=ed(A)?B.findViewById(A):A,q=i[j.indexOf(D)],!q)continue;v=q.x-q.marginLeft-E-f}else if(L.toRightOf){var K=L.toRightOf;if(D=ed(K)?B.findViewById(K):K,q=i[j.indexOf(D)],!q)continue;v=q.x+q.width+m}else if(L.alignLeftOf){var g=L.alignLeftOf;if(D=ed(g)?B.findViewById(g):g,q=i[j.indexOf(D)],!q)continue;v=q.x+m}else if(L.alignRightOf){var F=L.alignRightOf;if(D=ed(F)?B.findViewById(F):F,q=i[j.indexOf(D)],!q)continue;v=q.x+q.width-q.marginRight-E-f}else t===di&&(v=(m+f)/2);var Z={x:v,y:z,width:x,height:_,marginLeft:m,marginRight:f,marginTop:T,marginBottom:y};i[Q]=Z,G=Ni(G,Z)}}var H=N.keys(i).length;if(H===d)throw new Error("Circular dependencies may exist in RelativeLayout : "+this.getId());d=H}return{width:B.getPaddingLeft()+B.getPaddingRight()+B.getBorderLeft()+B.getBorderRight()+G.width,height:B.getPaddingTop()+B.getPaddingBottom()+B.getBorderTop()+B.getBorderBottom()+G.height}},validateImpl:function(Y,i,I,V){for(var H=this,w=H.getChildren(),B=w.size(),O={x:0,y:0,width:I,height:V},h={},A=0;B>A;A++){var k=w.get(A);if(!H.isRelativeView(k)){var F,D,G=H.getChildLayoutParams(k),n=G.width,C=G.height,b=G.marginLeft||0,x=G.marginRight||0,r=G.marginTop||0,y=G.marginBottom||0,c=G.align||xk,R=G.vAlign||hq,S=k.getPreferredSize();F=n===Jm?O.width-b-x:n===Mk||n==$?S.width:n,F=H.adjustChildWidth(k,F),D=C===Jm?O.height-r-y:C===Mk||C==$?S.height:C,D=H.adjustChildHeight(k,D);var z=b,q=r,o=F+x,P=D+y;c===di?z=(O.width-F)/2:c===_i&&(z=O.width-F-x),R===Eq?q=(O.height-D)/2:R===yb&&(q=O.height-D-y);var L={x:z,y:q,width:o,height:P,marginLeft:b,marginRight:x,marginTop:r,marginBottom:y};h[A]=L,O=Ni(O,L),H.layoutChild(k,L.x,L.y,L.width-L.marginRight,L.height-L.marginBottom)}}for(var e=N.keys(h).length;N.keys(h).length<B;){for(var A=0;B>A;A++)if(h[A]==$){var k=w.get(A);if(H.isRelativeView(k)){var F,D,G=H.getChildLayoutParams(k),n=G.width,C=G.height,b=G.marginLeft||0,x=G.marginRight||0,r=G.marginTop||0,y=G.marginBottom||0,c=G.align||xk,R=G.vAlign||hq,S=k.getPreferredSize();F=n===Jm?O.width-b-x:n===Mk||n==$?S.width:n,F=H.adjustChildWidth(k,F),D=C===Jm?O.height-r-y:C===Mk||C==$?S.height:C,D=H.adjustChildHeight(k,D);var d,U,z=b,q=r,o=F+x,P=D+y;if(G.toTopOf){var Z=G.toTopOf;if(d=ed(Z)?H.findViewById(Z):Z,U=h[w.indexOf(d)],!U)continue;C===Jm&&(D=U.y-U.marginTop-r-y,D=H.adjustChildHeight(k,D),P=D+y),q=U.y-U.marginTop-D-y}else if(G.toBottomOf){var X=G.toBottomOf;if(d=ed(X)?H.findViewById(X):X,U=h[w.indexOf(d)],!U)continue;C===Jm&&(D=O.height-(U.y+U.height)-r-y,D=H.adjustChildHeight(k,D),P=D+y),q=U.y+U.height+r}else if(G.alignTopOf){var W=G.alignTopOf;if(d=ed(W)?H.findViewById(W):W,U=h[w.indexOf(d)],!U)continue;C===Jm&&(D=O.height-U.y-r-y,D=H.adjustChildHeight(k,D),P=D+y),q=U.y+r}else if(G.alignBottomOf){var g=G.alignBottomOf;if(d=ed(g)?H.findViewById(g):g,U=h[w.indexOf(d)],!U)continue;C===Jm&&(D=U.y+U.height-U.marginBottom-r-y,D=H.adjustChildHeight(k,D),P=D+y),q=U.y+U.height-U.marginBottom-D-y}else R===Eq?q=(O.height-D)/2:R===yb&&(q=O.height-D-y);if(G.toLeftOf){var T=G.toLeftOf;if(d=ed(T)?H.findViewById(T):T,U=h[w.indexOf(d)],!U)continue;n===Jm&&(F=U.x-U.marginLeft-b-x,F=H.adjustChildWidth(k,F),o=F+x),z=U.x-U.marginLeft-F-x}else if(G.toRightOf){var Q=G.toRightOf;if(d=ed(Q)?H.findViewById(Q):Q,U=h[w.indexOf(d)],!U)continue;n===Jm&&(F=O.width-(U.x+U.width)-b-x,F=H.adjustChildWidth(k,F),o=F+x),z=U.x+U.width+b}else if(G.alignLeftOf){var M=G.alignLeftOf;if(d=ed(M)?H.findViewById(M):M,U=h[w.indexOf(d)],!U)continue;n===Jm&&(F=O.width-U.x-b-x,F=H.adjustChildWidth(k,F),o=F+x),z=U.x+b}else if(G.alignRightOf){var _=G.alignRightOf;if(d=ed(_)?H.findViewById(_):_,U=h[w.indexOf(d)],!U)continue;n===Jm&&(F=U.x+U.width-U.marginRight-b-x,F=H.adjustChildWidth(k,F),o=F+x),z=U.x+U.width-U.marginRight-F-x}else c===di?z=(O.width-F)/2:c===_i&&(z=O.width-F-x);var L={x:z,y:q,width:o,height:P,marginLeft:b,marginRight:x,marginTop:r,marginBottom:y};h[A]=L,O=Ni(O,L),H.layoutChild(k,L.x,L.y,L.width-L.marginRight,L.height-L.marginBottom)}}var f=N.keys(h).length;if(f===e)throw new Error("Circular dependencies may exist in RelativeLayout : "+H.getId());e=f}var v=O.width+O.x,s=O.height+O.y;H.updateScrollBar(I,V,v,s)}}),vp.TableRow=function(){var L=this;vp.TableRow.superClass.constructor.call(L),L._children=new c.List},db("ht.ui.TableRow",N,{ms_ac:["id","parent","style"],ms_fire:!0,$208u:{children:!0,childPreferredSize:!0,childStyle:!0,childLayoutParams:!0},__weight:.1,_styleProps:{preferredHeight:!0,weight:!0},getStyleProperties:function(){return this._styleProps},setPropertyValue:os.setPropertyValue,getPropertyValue:os.getPropertyValue,getPreferredHeightProperties:function(){return this.$208u},getChildren:function(){return this._children},setChildren:kj.setChildren,figurePreferredHeight:function(){for(var k,M=this,E=M.getChildren(),j=0,n=E.size();n>j;j++){var h=E.get(j),q=M.getChildLayoutParams(h),o=q.height,f=q.marginTop||0,_=q.marginBottom||0,w=q.rowspan||1;if(!(w>1)){var D;D=isNaN(o)?h.getPreferredSize().height:$h(o),D+=f+_,k=k==$?D:s(k,D)}}return k},isPreferredHeightSet:function(){return!!this.$196u},isWeightSet:function(){return!!this.$197u},setPreferredHeight:function(i){this.$196u=i===M?!1:!0,this.setPropertyValue("preferredHeight",i)},setWeight:function(v){this.$197u=v===M?!1:!0,this.setPropertyValue("weight",v)},getPreferredHeight:function(){if(c._uiSerializing)return this.$196u?this._preferredHeight:M;var S=this,k=S._preferredHeight;return S.isPreferredHeightSet()||k==$&&(k=S.getStyleValue("preferredHeight"),k==$&&(k=S.__preferredHeight,k==$&&(k=S._preferredHeight=S.figurePreferredHeight()))),k},getWeight:function(){if(c._uiSerializing)return this.$197u?this._weight:M;var x=this,C=x._weight;return x.isWeightSet()||C==$&&(C=x.getStyleValue("weight"),C==$&&(C=x.__weight,C==$&&(C=x._weight=.1))),C},$106u:function(){var K=this;K.isPreferredHeightSet()||(K._preferredHeight=M),K.isWeightSet()||(K._weight=M)},setParent:os.setParent,getChildLayoutParams:kj.getChildLayoutParams,addView:kj.addView,clear:function(){for(var U=this,Q=U.getParent(),V=U.getChildren(),H=V._as.slice(0),I=0;I<H.length;I++){var T=H[I];Q&&(T.removePropertyChangeListener(Q.$174u,Q),T.removeViewListener(Q.$173u,Q),T.getView().parentNode===Q.$198u&&Q.$198u.removeChild(T.getView())),T.setParent($),V.remove(T)}U.fp(Um,$,V)},removeView:function(j){var U=this;if(j&&j.getParent()===U){var o=U.getParent(),E=U.getChildren();o&&(j.removePropertyChangeListener(o.$174u,o),j.removeViewListener(o.$173u,o),j.getView().parentNode===o.$198u&&o.$198u.removeChild(j.getView())),j.setParent($),E.remove(j),U.fp(Um,$,E)}},removeViewAt:kj.removeViewAt,$200u:function(T){var h=this,w=h.getPreferredHeightProperties();h._preferredHeight!==M&&w[T]&&!h.isPreferredHeightSet()&&(h.fireViewEvent("invalidatePreferredHeight"),h._preferredHeight=M)},addViewListener:os.addViewListener,removeViewListener:os.removeViewListener,fireViewEvent:os.fireViewEvent,findViewById:kj.findViewById,$225u:kj.$225u,$105u:os.$105u,getStyleValue:os.getStyleValue,getMatchedStyles:os.getMatchedStyles,isStyleProperty:os.isStyleProperty,$109u:os.$109u,$108u:os.$108u,$175u:function(S,r){var x=this,V=x.getParent(),u=S.getParent(),s=x.getChildren();u&&u.removeView(S),V&&(S.addPropertyChangeListener(V.$174u,V),S.addViewListener(V.$173u,V),S.getView().parentNode!==V.$198u&&V.$198u.appendChild(S.getView())),S.setParent(x),s.add(S,r),x.fp(Um,$,s)},getSerializableProperties:function(){return{id:1,preferredHeight:1,weight:1,children:1}}}),vp.TableLayout=function(){vp.TableLayout.superClass.constructor.call(this),this.$92u={}},db("ht.ui.TableLayout",od,{ui_ac:["columnGap","rowGap"],__padding:[8,8,8,8],__rowGap:8,_preferredSizeProps:lf(up(kj._preferredSizeProps),{columnGap:!0,rowGap:!0,columnWidthMap:!0}),figurePreferredSize:function(){for(var v=this,M=v.getColumnSize(),w=0,n=0,t=v.getColumnGap()||0,a=v.getRowGap()||0,K=0;M>K;K++){var m=v.getColumnPreferredWidth(K);w+=m||0,w+=t}w-=t;for(var _=v.getChildren(),K=0,c=_.size();c>K;K++){var s=_.get(K);n+=s.getPreferredHeight()||0,n+=a}return n-=a,{width:v.getPaddingLeft()+v.getPaddingRight()+v.getBorderLeft()+v.getBorderRight()+w,height:v.getPaddingTop()+v.getPaddingBottom()+v.getBorderTop()+v.getBorderBottom()+n}},clear:function(){for(var v=this,j=v.getChildren(),Y=j._as.slice(0),q=0;q<Y.length;q++){var r=Y[q];r.removePropertyChangeListener(v.$174u,v),r.removeViewListener(v.$173u,v);for(var h=r.getChildren(),d=0,V=h.size();V>d;d++){var b=h.get(d);b.getView().parentNode===v.$198u&&v.$198u.removeChild(b.getView()),b.removePropertyChangeListener(v.$174u,v),b.removeViewListener(v.$173u,v)}r.setParent($),j.remove(r)}v.fp(Um,$,j)},getChildAt:function(v){var U=this,I=Uq(v),N=v,b=U.getChildren();I&&(N=U.lp(v));for(var C=0,$=b.size();$>C;C++)for(var i=b.get(C),O=i.getChildren(),x=0,V=O.size();V>x;x++){var Q=O.get(x);if(Fb({x:Q.getX(),y:Q.getY(),width:Q.getWidth(),height:Q.getHeight()},N))return Q}},removeView:function(p){var Y=this;if(p&&p.getParent()===Y){var G=Y.getChildren();G.remove(p),p.removePropertyChangeListener(Y.$174u,Y),p.removeViewListener(Y.$173u,Y),p.setParent($);for(var s=p.getChildren(),F=0,q=s.size();q>F;F++){var O=s.get(F);O.getView().parentNode===Y.$198u&&Y.$198u.removeChild(O.getView()),O.removePropertyChangeListener(Y.$174u,Y),O.removeViewListener(Y.$173u,Y)}Y.fp(Um,$,G)}},$175u:function(E,f){var M=this,W=E.getParent(),n=M.getChildren();W&&W.removeView(E),n.add(E,f),E.addPropertyChangeListener(M.$174u,M),E.addViewListener(M.$173u,M);for(var B=E.getChildren(),G=0,N=B.size();N>G;G++){var l=B.get(G);M.$198u.appendChild(l.getView()),l.addPropertyChangeListener(M.$174u,M),l.addViewListener(M.$173u,M)}E.setParent(M),M.fp(Um,$,n);for(var G=0,N=B.size();N>G;G++){var l=B.get(G);l.iv(!0)}},$174u:function(V){var s=this,H=V.property,t=V.source;if(t instanceof vp.TableRow&&s.getChildren().contains(t))"preferredHeight"===H||"weight"===H?(s.$181u("childPreferredSize"),s.iv()):(t.$200u(H),(H===Um||"style"===H)&&s.iv());else if(H===fr){var I=t.getParent();I.$200u("childPreferredSize")}else if(H===gs)s.$182u("childMinSize"),s.iv();else if(H===nl)s.$183u("childMaxSize"),s.iv();else if(H===Db){var I=t.getParent();I.$200u("childLayoutParams"),s.$182u("childLayoutParams"),s.$183u("childLayoutParams"),s.iv()}else if("style"===H){var I=t.getParent();I.$200u("childStyle"),s.$182u("childStyle"),s.$183u("childStyle"),s.iv()}},$173u:function(p){var E=this,M=p.kind,c=p.source;if(c instanceof vp.TableRow&&E.getChildren().contains(c))"invalidatePreferredHeight"===M&&(E.$181u("childPreferredSize"),E.iv());else if("invalidatePreferredSize"===M){var S=c.getParent();S.$200u("childPreferredSize")}else"invalidateMinSize"===M?(E.$182u("childMinSize"),E.iv()):"invalidateMaxSize"===M&&(E.$183u("childMaxSize"),E.iv())},$106u:function(){var U=this,$=U.$92u;for(var z in $){var Z=$[z].prefWidthSet,s=$[z].weightSet;Z||s?Z?s||delete $[z].weight:delete $[z].preferredWidth:delete $[z]}vp.TableLayout.superClass.$106u.call(U)},setColumnWidthMap:function(L){var t=this,h=t.$92u;t.$92u=L,t.firePropertyChange("columnWidthMap",h,L)},getColumnWidthMap:function(){return this.$92u},setColumnPreferredWidth:function(R,H){var v=this,o=v.$92u[R];o||(o=v.$92u[R]={}),o.prefWidthSet=H===M?!1:!0,o.preferredWidth=H,v.firePropertyChange("columnWidthMap",$,v.$92u)},setColumnWeight:function(Z,T){var W=this,N=W.$92u[Z];N||(N=W.$92u[Z]={}),N.weightSet=T===M?!1:!0,N.weight=T,W.firePropertyChange("columnWidthMap",$,W.$92u)},$99u:function(F){for(var p,H=this,Y={},C=0,l=H.getChildren(),i=0,K=l.size();K>i;i++){for(var Q=l.get(i),Z=Q.getChildren(),X=-1,R=0,y=Z.size();y>R;R++){X++;var j=Z.get(R);if(j){for(var U=H.getChildLayoutParams(j),q=U.colspan||1,b=U.rowspan||1;Y[C]&&Y[C].indexOf(X)>=0;)X++;if(1===q){if(X===F){var O,n=U.marginLeft||0,f=U.marginRight||0,S=U.width;O=isNaN(S)?j.getPreferredSize().width:$h(S),O+=n+f,p=p==$?O:s(p,O)}}else X+=q-1;for(var x=1;b>x;x++){Y[C+x]||(Y[C+x]=[]);for(var t=0;q>t;t++)Y[C+x].indexOf(X+t)<0&&Y[C+x].push(X+t)}}}C++}return p},getColumnPreferredWidth:function(G){var w=this,z=w.$92u[G];z==$&&(z=w.$92u[G]={});var D=z.preferredWidth;return z.prefWidthSet||D==$&&(D=z.preferredWidth=w.$99u(G)),D},getColumnWeight:function(t){var U=this,W=U.$92u[t];W==$&&(W=U.$92u[t]={});var u=W.weight;return W.weightSet||u==$&&(u=W.weight=.1),u},getColumnSize:function(){for(var T=this.getChildren(),X=0,m=0,O=T.size();O>m;m++){for(var o=T.get(m),F=o.getChildren(),I=0,g=0,V=F.size();V>g;g++){var $=F.get(g);if($){var y=this.getChildLayoutParams($),R=y.colspan||1;I+=R}}X=s(I,X)}return X},validateImpl:function(O,N,b,w){for(var L=this,z=(L.$198u,L.getColumnGap()||0),S=L.getRowGap()||0,u=L.getChildren(),o=0,k=0,r=w,e=b,G=L.getColumnSize(),J=u.size(),Y=[],q=[],i=0;J>i;i++){var l=u.get(i),P=l.getPreferredHeight(),j=l.getWeight();J-1>i&&(r-=S),P!=$&&(r-=P),j!=$&&(o+=j)}for(var i=0;G>i;i++){var C=L.getColumnPreferredWidth(i),s=L.getColumnWeight(i);G-1>i&&(e-=z),C!=$&&(e-=C),s!=$&&(k+=s)}0>r&&(r=0),0>e&&(e=0);for(var I=0;J>I;I++){var l=u.get(I),P=l.getPreferredHeight(),j=l.getWeight();P==$&&(P=0),j!=$&&j>0&&(P+=j*r/o),q.push(P)}for(var I=0;G>I;I++){var C=L.getColumnPreferredWidth(I),s=L.getColumnWeight(I);C==$&&(C=0),s!=$&&s>0&&(C+=s*e/k),Y.push(C)}for(var n={},Q=0,T=0,i=0;J>i;i++){for(var l=u.get(i),p=l.getChildren(),F=-1,I=0,x=p.size();x>I;I++){var M=p.get(I);for(F++;n[Q]&&n[Q].indexOf(F)>=0;)F++;if(M){var Z=L.getChildLayoutParams(M),E=Z.colspan||1,R=Z.rowspan||1,g=Z.marginTop||0,U=Z.marginRight||0,y=Z.marginBottom||0,A=Z.marginLeft||0,H=Z.align,K=Z.vAlign,f=Z.width,a=Z.height;f=f==$?Jm:f,a=a==$?Jm:a;for(var c,X,_=0,h=0,B=0,D=0,t=0,v=0;F>v;v++)t+=Y[v],t+=z;for(var v=0;E>v;v++)B+=Y[F+v],v>0&&(B+=z);for(var v=0;R>v;v++)D+=q[Q+v],v>0&&(D+=S);B-=A+U,D-=g+y;var d=M.getPreferredSize(),V=M.getMaxSize();_=f===Mk?d.width:f===Jm?B:f,_=m(_,V.width),_=m(_,B),c=t,B>_&&(H===di?c=t+B/2-_/2:H===_i&&(c=t+B-_)),h=a===Mk?d.height:a===Jm?D:a,h=m(h,V.height),h=m(h,D),X=T,D>h&&(K===Eq?X=T+D/2-h/2:K===yb&&(X=T+D-h)),c+=A,X+=g,L.layoutChild(M,W(c),W(X),W(_),W(h))}for(var v=1;R>v;v++){n[Q+v]||(n[Q+v]=[]);for(var Cp=0;E>Cp;Cp++)n[Q+v].indexOf(F+Cp)<0&&n[Q+v].push(F+Cp)}F+=E-1}T+=q[Q]+S,Q++}var Go=0,Dm=0,Rj=!0;Y.forEach(function(h){Go+=h,Rj?Rj=!1:Go+=z}),Rj=!0,q.forEach(function(d){Dm+=d,Rj?Rj=!1:Dm+=S}),L.updateScrollBar(b,w,Go,Dm)},getSerializableProperties:function(){var Y=vp.TableLayout.superClass.getSerializableProperties.call(this);return lf(Y,{columnGap:1,rowGap:1,columnWidthMap:1})}}),vp.ViewGroupScrollInteractor=function(a){this._view=a},db("ht.ui.ViewGroupScrollInteractor",N,{ms_listener:1,getView:function(){return this._view._interactionDiv},clear:function(){var N=this;N._state=N.$44u=N.$45u=N.$46u=N._view._scrolling=$},handle_mousedown:function(v){this.handle_touchstart(v)},handle_touchstart:function(H){var q=this,D=q._view;if(D.isSelfViewEvent(H)&&(Qo(H),D.requestFocus()),!H.$146u){var L=D.isCloseToVScrollBar(H),K=D.isCloseToHScrollBar(H),F=Sc(H);L||K?(L?q._state="vScroll":K&&(q._state="hScroll"),q.$44u=F,q.$45u=D.tx(),q.$46u=D.ty(),Gm(q,H),H.$146u=!0,D._scrolling=!0,D.showScrollBar()):im&&(q.$44u=F,q.$45u=D.tx(),q.$46u=D.ty())}},handleWindowMouseUp:function(D){this.clear(D)},handleWindowTouchEnd:function(w){this.clear(w)},handle_mouseup:function(H){this.handle_touchend(H)},handle_touchend:function(d){var Y=this;Y.clear(d)},handleWindowMouseMove:function(g){this.handleWindowTouchMove(g)},handleWindowTouchMove:function(Q){if(!Q.$146u){var K=this,f=K._view,t=K._state,u=K.$45u,n=K.$46u,Y=K.$44u,B=Sc(Q),O=f.$118u;"vScroll"===t?f.setTranslateY(n+(Y.y-B.y)*f.$188u/O.height):"hScroll"===t?f.setTranslateX(u+(Y.x-B.x)*f.$189u/O.width):"p"===t&&f.setTranslate(u+B.x-Y.x,n+B.y-Y.y),Q.$146u=!0}},handle_mousemove:function(d){if(!d.$146u&&!Dp()&&gd(d)){var I=this,U=I._view,q=U.isCloseToVScrollBar(d),N=U.isCloseToHScrollBar(d);(q||N)&&U.showScrollBar()}},handle_touchmove:function(y){if(!y.$146u&&!Dp()&&gd(y)){var P=this,A=P.$44u;if(A){var R=Sc(y);if(lr(R,A)<2)return;P._state||(y.$146u=!0,P._view.scrolling=!0,P._state="p",Gm(P,y),P._view.showScrollBar())}}},handle_mousewheel:function(i){this.handleScroll(i,i.wheelDelta/40,i.wheelDelta!==i.wheelDeltaX)},handle_DOMMouseScroll:function(c){this.handleScroll(c,-c.detail,!0)},handleScroll:function(s,e,N){if(!s.$146u){var a=this._view,z=a.$118u,K=a.getScrollRect();a.showScrollBar(),N&&a.isVScrollable()?e>0?z.y<=0?s.preventDefault():(a.translate(0,20*e),s.$146u=!0):0>e&&(K.height-z.height<=z.y?s.preventDefault():(a.translate(0,20*e),s.$146u=!0)):a.isHScrollable()&&(e>0?z.x<=0?s.preventDefault():(a.translate(10*e,0),s.$146u=!0):0>e&&(K.width-z.width<=z.x?s.preventDefault():(a.translate(10*e,0),s.$146u=!0)))}}}),vp.BorderLayout=function(){vp.BorderLayout.superClass.constructor.call(this)},db("ht.ui.BorderLayout",od,{ui_ac:["drawable:splitter","splitterVisible","splitterSize","resizable","drawable:toggle","toggleVisible","toggleSize","leftWidth","rightWidth","topHeight","bottomHeight","leftExpanded","rightExpanded","topExpanded","bottomExpanded","is:continuous"],_preferredSizeProps:lf(up(os._preferredSizeProps),{leftExpanded:!0,rightExpanded:!0,topExpanded:!0,bottomExpanded:!0,splitterVisible:!0,leftWidth:!0,rightWidth:!0,topHeight:!0,bottomHeight:!0}),_minSizeProps:lf(up(os._minSizeProps),{leftExpanded:!0,rightExpanded:!0,topExpanded:!0,bottomExpanded:!0,splitterVisible:!0,leftWidth:!0,rightWidth:!0,topHeight:!0,bottomHeight:!0}),__splitterSize:7,__resizable:!0,__toggleSize:70,__splitterVisible:!0,__toggleVisible:!0,__toggle:["ht.ui.drawable.ImageDrawable","borderlayout_toggle","fill"],setUpInteractors:function(){var I=this.$53u;I||(I=this.$53u=new vp.BorderLayoutInteractor(this),I.addListeners()),vp.BorderLayout.superClass.setUpInteractors.call(this)},tearDownInteractors:function(){var J=this.$53u;J&&(J.removeListeners(),this.$53u=$),vp.BorderLayout.superClass.tearDownInteractors.call(this)},initView:function(){var W=this;vp.BorderLayout.superClass.initView.call(W);var v=W.$198u,$=W._interactionDiv,S=W._scrollBarDiv;v.style.zIndex="0";var A=W.$6u=jq();A.setAttribute(C,"ht-topSplitter"),S?$.insertBefore(A,S):$.appendChild(A);var K=W.$8u=jq();K.setAttribute(C,"ht-bottomSplitter"),S?$.insertBefore(K,S):$.appendChild(K);var J=W.$9u=jq();J.setAttribute(C,"ht-leftSplitter"),S?$.insertBefore(J,S):$.appendChild(J);var b=W.$7u=jq();b.setAttribute(C,"ht-rightSplitter"),S?$.insertBefore(b,S):$.appendChild(b)},isSelfViewEvent:function(u){var N=this,S=vp.BorderLayout.superClass.isSelfViewEvent.call(N,u);if(!S){var D=Uq(u);(D===N.$6u||D===N.$8u||D===N.$9u||D===N.$7u)&&(S=!0)}return S},getLeftView:function(){return this.getChildByRegion(xk)},getRightView:function(){return this.getChildByRegion(_i)},getTopView:function(){return this.getChildByRegion(hq)},getBottomView:function(){return this.getChildByRegion(yb)},getCenterView:function(){return this.getChildByRegion(di)},getLeftSplitterSize:function(){var I=this.getSplitterSize();return mf(I)?I[3]:I},getRightSplitterSize:function(){var n=this.getSplitterSize();return mf(n)?n[1]:n},getTopSplitterSize:function(){var M=this.getSplitterSize();return mf(M)?M[0]:M},getBottomSplitterSize:function(){var x=this.getSplitterSize();return mf(x)?x[2]:x},getLeftToggleSize:function(){var I=this.getToggleSize();return mf(I)?I[3]:I},getRightToggleSize:function(){var e=this.getToggleSize();return mf(e)?e[1]:e},getTopToggleSize:function(){var w=this.getToggleSize();return mf(w)?w[0]:w},getBottomToggleSize:function(){var w=this.getToggleSize();return mf(w)?w[2]:w},$1u:function(g){var y=this,I=y["_"+g+"Expanded"];if(I!=$)return I;var F=y[Un(g+"View")]();if(F){var V=y.getChildLayoutParams(F);return I=V&&V.expanded!=$?V.expanded:!0,y["_"+g+"Expanded"]=I,I}},isLeftExpanded:function(){return this.$1u(xk)},isRightExpanded:function(){return this.$1u(_i)},isTopExpanded:function(){return this.$1u(hq)},isBottomExpanded:function(){return this.$1u(yb)},$2u:function(b){var T=this,P=T[Un(b+"Width")]();if(P!=$)return P;var j=T[Un(b+"View")]();if(j){var s=T.getChildLayoutParams(j);return P=s&&s.width!=$&&s.width!==Jm&&s.width!==Mk?s.width:j.getPreferredSize().width,s&&s.marginLeft&&(P+=s.marginLeft),s&&s.marginRight&&(P+=s.marginRight),T["_"+b+"Width"]=P,T._minSize=T._preferredSize=$,P}},$3u:function(Y){var z=this,W=z[Un(Y+"Height")]();if(W!=$)return W;var M=z[Un(Y+"View")]();if(M){var Q=z.getChildLayoutParams(M);return W=Q&&Q.height!=$&&Q.height!==Jm&&Q.height!==Mk?Q.height:M.getPreferredSize().height,Q&&Q.marginTop&&(W+=Q.marginTop),Q&&Q.marginBottom&&(W+=Q.marginBottom),z["_"+Y+"Height"]=W,z._minSize=z._preferredSize=$,W}},isLeftSplitterVisible:function(){var O=this.isSplitterVisible();return mf(O)?O[3]:O},isRightSplitterVisible:function(){var G=this.isSplitterVisible();return mf(G)?G[1]:G},isTopSplitterVisible:function(){var U=this.isSplitterVisible();return mf(U)?U[0]:U},isBottomSplitterVisible:function(){var Y=this.isSplitterVisible();return mf(Y)?Y[2]:Y},isLeftToggleVisible:function(){var I=this.isToggleVisible();return mf(I)?I[3]:I},isRightToggleVisible:function(){var h=this.isToggleVisible();return mf(h)?h[1]:h},isTopToggleVisible:function(){var R=this.isToggleVisible();return mf(R)?R[0]:R},isBottomToggleVisible:function(){var s=this.isToggleVisible();return mf(s)?s[2]:s},isLeftResizable:function(){var l=this.isResizable();return mf(l)?l[3]:l},isRightResizable:function(){var I=this.isResizable();return mf(I)?I[1]:I},isTopResizable:function(){var h=this.isResizable();return mf(h)?h[0]:h},isBottomResizable:function(){var v=this.isResizable();return mf(v)?v[2]:v},getChildByRegion:function(N){for(var R=this,O=R.getChildren(),x=0,P=O.size();P>x;x++){var q=O.get(x);if(R.getChildLayoutParams(q).region===N)return q}},$4u:function(K){var v,n,Y,p,y,V=this,r=V.getLeftView(),P=V.getRightView(),U=V.getTopView(),h=V.getBottomView(),C=V.getCenterView(),o=C?V.getChildLayoutParams(C):{},u=o.marginLeft||0,G=o.marginTop||0,b=o.marginRight||0,d=o.marginBottom||0,e=r?V.getChildLayoutParams(r):{},Z=e.marginLeft||0,A=e.marginTop||0,t=e.marginRight||0,F=e.marginBottom||0,g=V.isLeftExpanded(),_=P?V.getChildLayoutParams(P):{},E=_.marginLeft||0,c=_.marginTop||0,H=_.marginRight||0,B=_.marginBottom||0,Q=V.isRightExpanded(),f=U?V.getChildLayoutParams(U):{},z=f.marginLeft||0,x=f.marginTop||0,a=f.marginRight||0,k=f.marginBottom||0,M=V.isTopExpanded(),N=h?V.getChildLayoutParams(h):{},X=N.marginLeft||0,m=N.marginTop||0,O=N.marginRight||0,R=N.marginBottom||0,D=V.isBottomExpanded();r?(g?(v=up(r[Un(K+"Size")]()),e&&e.width!=$&&e.width!==Jm&&e.width!==Mk&&(v.width=e.width),e&&e.height!==$&&e.height!==Jm&&e.height!==Mk&&(v.height=e.height),v.width+=Z+t,v.height+=A+F,V.getLeftWidth()!=$&&(v.width=V.getLeftWidth())):v={width:0,height:0},v.width+=V.isLeftSplitterVisible()?V.getLeftSplitterSize():0):v={width:0,height:0},P?(Q?(n=up(P[Un(K+"Size")]()),_&&_.width!=$&&_.width!==Jm&&_.width!==Mk&&(n.width=_.width),_&&_.height!=$&&_.height!==Jm&&_.height!==Mk&&(n.height=_.height),n.width+=E+H,n.height+=c+B,V.getRightWidth()!=$&&(n.width=V.getRightWidth())):n={width:0,height:0},n.width+=V.isRightSplitterVisible()?V.getRightSplitterSize():0):n={width:0,height:0},U?(M?(Y=up(U[Un(K+"Size")]()),f&&f.width!=$&&f.width!==Jm&&f.width!==Mk&&(Y.width=f.width),f&&f.height!=$&&f.height!==Jm&&f.height!==Mk&&(Y.height=f.height),Y.width+=z+a,Y.height+=x+k,V.getTopHeight()!=$&&(Y.height=V.getTopHeight())):Y={width:0,height:0},Y.height+=V.isTopSplitterVisible()?V.getTopSplitterSize():0):Y={width:0,height:0},h?(D?(p=up(h[Un(K+"Size")]()),N&&N.width!=$&&N.width!==Jm&&N.width!==Mk&&(p.width=N.width),N&&N.height!=$&&N.height!==Jm&&N.height!==Mk&&(p.height=N.height),p.width+=X+O,p.height+=m+R,V.getBottomHeight()!=$&&(p.height=V.getBottomHeight())):p={width:0,height:0},p.height+=V.isBottomSplitterVisible()?V.getBottomSplitterSize():0):p={width:0,height:0},C?(y=up(C[Un(K+"Size")]()),o&&o.width!=$&&o.width!==Jm&&o.width!==Mk&&(y.width=o.width),o&&o.height!=$&&o.height!==Jm&&o.height!==Mk&&(y.height=o.height)):y={width:0,height:0},y.width+=u+b,y.height+=G+d;
var I={width:v.width+n.width+y.width,height:Y.height+y.height+p.height};return I.width=s(I.width,Y.width),I.width=s(I.width,p.width),I.width+=V.getBorderLeft()+V.getBorderRight()+V.getPaddingLeft()+V.getPaddingRight(),I.height+=V.getBorderTop()+V.getBorderBottom()+V.getPaddingTop()+V.getPaddingBottom(),I},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},hasContentCanvas:function(){return!0},getToggleAt:function(V){var b,O=this;b=V instanceof Event?O.lp(V):V;for(var q=[xk,_i,hq,yb],z=0,W=q.length;W>z;z++){var U=q[z],$=O["_"+U+"ToggleRect"];if($&&($={x:$.x,y:$.y,width:$.width-1,height:$.height-1},$&&Fb($,b)))return U}},getSplitterAt:function(v){var K,M=this;K=v instanceof Event?M.lp(v):v;for(var V=[xk,_i,hq,yb],i=0,N=V.length;N>i;i++){var k=V[i],w=M["_"+k+"SplitterRect"];if(w&&(w={x:w.x,y:w.y,width:w.width-1,height:w.height-1},w&&Fb(w,K)))return k}},getSplitterCanvas:function(g){return g===xk?this.$9u:g===hq?this.$6u:g===yb?this.$8u:g===_i?this.$7u:void 0},drawSplitter:function(G,R,B,W,c,J){G&&G.draw(R,B,W,c,$,this,this.getSplitterCanvas(J))},drawToggle:function(g,I,L,k,K,p){if(g){var O=this,q=O.getSplitterCanvas(p),H=O.getRootContext(q),j=k/2,X=K/2,W=I+j,S=L+X;H.save(),p===hq?(H.translate(W,S),O.isTopExpanded()||H.rotate(v),g.draw(-j,-X,k,K,$,O,q)):p===xk?(H.translate(W,S),O.isLeftExpanded()?H.rotate(-v/2):H.rotate(v/2),g.draw(-X,-j,K,k,$,O,q)):p===_i?(H.translate(W,S),O.isRightExpanded()?H.rotate(v/2):H.rotate(-v/2),g.draw(-X,-j,K,k,$,O,q)):p===yb&&(H.translate(W,S),O.isBottomExpanded()&&H.rotate(v),g.draw(-j,-X,k,K,$,O,q)),H.restore()}},getRootContext:function(A){if(!A)return vp.BorderLayout.superClass.getRootContext.call(this);var $=A.$93u;return $||($=A.$93u=ts(A),Oe($,0,0,1)),$},$5u:function(p,y,i,P){var F,B,h,T,c=xk,G=hq,r=0,k=0,b=0,W=0;return y&&(F=y.width,B=y.height,c=y.align||xk,G=y.vAlign||_i,r=y.marginLeft||0,k=y.marginRight||0,b=y.marginTop||0,W=y.marginBottom||0),F=F==$?Jm:F,B=B==$?Jm:B,F===Jm?(F=i,F-=r+k):F===Mk&&(F=p.getPreferredSize().width),F=this.adjustChildWidth(p,F),B===Jm?(B=P,B-=b+W):B===Mk&&(B=p.getPreferredSize().height),B=this.adjustChildHeight(p,B),h=c===di?(i-F)/2:c===_i?i-k-F:r,T=G===Eq?(P-B)/2:G===yb?P-W-B:b,{x:h,y:T,width:F,height:B}},$122u:function(h,p,M,v,P){h.style.display=Dn,An(h,v,P),h.style.left=this.getContentLeft()+this.tx()+p+Fq,h.style.top=this.getContentTop()+this.ty()+M+Fq},validateImpl:function(M,t,W,j){var E,T,S,H,L,s,U,b,z,e=this,B=e.$2u(xk),Q=e.$2u(_i),D=e.$3u(hq),Y=e.$3u(yb),q=e.getMinSize(),m=q.width>e.getWidth(),f=q.height>e.getHeight(),v=e.getChildByRegion(xk),i=e.getChildByRegion(_i),G=e.getChildByRegion(hq),w=e.getChildByRegion(yb),y=e.getChildByRegion(di),o=e.isLeftSplitterVisible(),F=e.isRightSplitterVisible(),V=e.isTopSplitterVisible(),g=e.isBottomSplitterVisible(),n=o?e.getLeftSplitterSize():0,R=F?e.getRightSplitterSize():0,d=V?e.getTopSplitterSize():0,c=g?e.getBottomSplitterSize():0,O=e.getLeftToggleSize(),J=e.getRightToggleSize(),l=e.getTopToggleSize(),x=e.getBottomToggleSize(),h=e.getSplitterDrawable(),Z=e.getToggleDrawable(),K=e.$9u,N=e.$7u,X=e.$6u,r=e.$8u,u=m?q.width-e.getBorderLeft()-e.getBorderRight()-e.getPaddingLeft()-e.getPaddingRight():W,k=f?q.height-e.getBorderTop()-e.getBorderBottom()-e.getPaddingTop()-e.getPaddingBottom():j,P=0,p=0,A=u,I=k,_=0,C=0,a=0,Ld=0;G&&(E=e.getChildLayoutParams(G),s=e.isTopExpanded(),s?(_=D,p=_+d):(_=0,p=d)),w&&(T=e.getChildLayoutParams(w),U=e.isBottomExpanded(),U?(C=Y,I=k-C-c):(C=0,I=k-c)),v&&(S=e.getChildLayoutParams(v),b=e.isLeftExpanded(),b?(a=B,P=a+n):(a=0,P=n)),i&&(H=e.getChildLayoutParams(i),z=e.isRightExpanded(),z?(Ld=Q,A=u-Ld-R):(Ld=0,A=u-R));var wb=A-P,Ab=I-p;if(y&&(L=e.getChildLayoutParams(y)),e._topSplitterRect=$,e._topToggleRect=$,X.style.display=be,G){var fg=e.$5u(G,E,u,_);if(s||(fg.height=0),e.layoutChild(G,fg.x,fg.y,fg.width,fg.height),V){var Wp=e._topSplitterRect={x:0,y:_,width:u,height:d};if(e.$122u(X,Wp.x,Wp.y,Wp.width,Wp.height,hq),e.drawSplitter(h,0,0,Wp.width,Wp.height,hq),Z&&e.isTopToggleVisible()){var Wp=e._topToggleRect={x:.618*u-l/2,y:_,width:l,height:d};e.drawToggle(Z,Wp.x,0,Wp.width,Wp.height,hq)}X.$93u&&(X.$93u.restore(),X.$93u=$)}}if(e._bottomSplitterRect=$,e._bottomToggleRect=$,r.style.display=be,w){var fg=e.$5u(w,T,u,C);if(U||(fg.height=0),e.layoutChild(w,fg.x,fg.y+I+c,fg.width,fg.height),g){var Wp=e._bottomSplitterRect={x:0,y:I,width:u,height:c};if(e.$122u(r,Wp.x,Wp.y,Wp.width,Wp.height,yb),e.drawSplitter(h,0,0,Wp.width,Wp.height,yb),Z&&e.isBottomToggleVisible()){var Wp=e._bottomToggleRect={x:.618*u-x/2,y:I,width:x,height:c};e.drawToggle(Z,Wp.x,0,Wp.width,Wp.height,yb)}r.$93u&&(r.$93u.restore(),r.$93u=$)}}if(e._leftSplitterRect=$,e._leftToggleRect=$,K.style.display=be,v){var fg=e.$5u(v,S,a,Ab);if(b||(fg.width=0),e.layoutChild(v,fg.x,fg.y+p,fg.width,fg.height),o){var Wp=e._leftSplitterRect={x:a,y:p,width:n,height:Ab};if(e.$122u(K,Wp.x,Wp.y,Wp.width,Wp.height,xk),e.drawSplitter(h,0,0,Wp.width,Wp.height,xk),Z&&e.isLeftToggleVisible()){var Wp=e._leftToggleRect={x:a,y:p+.618*Ab-O/2,width:n,height:O};e.drawToggle(Z,0,Wp.y-p,Wp.width,Wp.height,xk)}K.$93u&&(K.$93u.restore(),K.$93u=$)}}if(e._rightSplitterRect=$,e._rightToggleRect=$,N.style.display=be,i){var fg=e.$5u(i,H,Ld,Ab,m,f);if(z||(fg.width=0),e.layoutChild(i,fg.x+A+R,fg.y+p,fg.width,fg.height),F){var Wp=e._rightSplitterRect={x:A,y:p,width:R,height:Ab};if(e.$122u(N,Wp.x,Wp.y,Wp.width,Wp.height,_i),e.drawSplitter(h,0,0,Wp.width,Wp.height,_i),Z&&e.isRightToggleVisible()){var Wp=e._rightToggleRect={x:A,y:p+.618*Ab-J/2,width:R,height:J};e.drawToggle(Z,0,Wp.y-p,Wp.width,Wp.height,_i)}N.$93u&&(N.$93u.restore(),N.$93u=$)}}if(y&&wb>0&&Ab>0){var fg=e.$5u(y,L,wb,Ab);e.layoutChild(y,fg.x+P,fg.y+p,fg.width,fg.height)}e.updateScrollBar(W,j,u,k)},getSerializableProperties:function(){var n=vp.BorderLayout.superClass.getSerializableProperties.call(this);return lf(n,{splitter:1,splitterDrawable:1,splitterVisible:1,splitterSize:1,resizable:1,toggle:1,toggleDrawable:1,toggleVisible:1,toggleSize:1,leftWidth:1,rightWidth:1,topHeight:1,bottomHeight:1,leftExpanded:1,rightExpanded:1,topExpanded:1,bottomExpanded:1,"is:continuous":1})}}),vp.BorderLayoutInteractor=function(N){this._view=N},db("ht.ui.BorderLayoutInteractor",N,{ms_listener:1,getView:function(){return this._view.getView()},clear:function(){var U=this;U._view,U.$12u&&pc(U.$12u),U.$12u=U.$36u=U.$115u=U._layoutSize=U.$11u=U.$10u=U.$13u=$,[xk,_i,hq,yb,di].forEach(function(p){var j=U["_"+p+"Mask"];j&&(delete U["_"+p+"Mask"],pc(j))})},handle_mousedown:function(N){this.handle_touchstart(N)},handle_touchstart:function(W){var I=this,Y=I._view,$=Y.getToggleAt(W);if($){Qo(W);var Z=Y[Un($+"Resizable")]();Z&&(I.$10u=$,I.$13u=Sc(W))}else{var i=Y.getSplitterAt(W);if(i){Qo(W);var Z=Y[Un(i+"Resizable")](),U=Y[Un(i+"Expanded")]();Z&&U&&(I.$11u=i,I.$13u=Sc(W))}}I.$94u(W)},handleWindowMouseUp:function(N){this.handleWindowTouchEnd(N)},setLayoutRegionSize:function(I){var X=this,J=X._view,m=X._layoutSize,w=X.$11u;w===xk||w===_i?w===xk?J.setLeftWidth(m[3]+I):J.setRightWidth(m[1]-I):w===hq?J.setTopHeight(m[0]+I):J.setBottomHeight(m[2]-I)},handleWindowTouchEnd:function(l){var e=this,d=e.$11u,L=e._view;if(L.isSelfViewEvent(l)&&Qo(l),!L.isContinuous()){var x=e.$115u;if(d===xk||d===_i){var v=x.x+L.getContentLeft()+L.tx(),N=$h(e.$12u.style.left),n=N-v;e.setLayoutRegionSize(n)}else{var j=x.y+L.getContentTop()+L.ty(),O=$h(e.$12u.style.top),n=O-j;e.setLayoutRegionSize(n)}}e.clear()},handle_mouseup:function(n){this.handle_touchend(n)},handle_touchend:function(_){if(!Dp()){var r=this,q=r._view,k=r.$10u,N=r.$13u,g=Sc(_);k&&lr(N,g)<2&&(q[Un(k+"Expanded")]()===!0?q[Wo(k+"Expanded")](!1):q[Wo(k+"Expanded")](!0)),r.clear()}},handleWindowMouseMove:function(e){this.handleWindowTouchMove(e)},handleWindowTouchMove:function(b){var t,W=this,m=W._view,F=m.isContinuous(),w=m.$189u,N=m.$188u,z=m.getLeftSplitterSize(),Q=m.getRightSplitterSize(),o=m.getTopSplitterSize(),L=m.getBottomSplitterSize(),A=W.$11u,S=m.getChildByRegion(_i),q=m.getChildByRegion(xk),B=m.getChildByRegion(hq),c=m.getChildByRegion(yb),v=m.getChildByRegion(di),d=v?m.getChildLayoutParams(v):{},j=d.marginLeft||0,H=d.marginTop||0,K=d.marginRight||0,i=d.marginBottom||0,O=q?m.getChildLayoutParams(q):{},e=O.marginLeft||0,D=O.marginTop||0,a=O.marginRight||0,J=O.marginBottom||0,k=S?m.getChildLayoutParams(S):{},I=k.marginLeft||0,h=k.marginTop||0,Z=k.marginRight||0,V=k.marginBottom||0,R=B?m.getChildLayoutParams(B):{},$=R.marginTop||0,E=R.marginBottom||0,U=c?m.getChildLayoutParams(c):{},x=U.marginTop||0,r=U.marginBottom||0,n=W.$115u,X=Sc(b);if(F||(t=W.$12u.style),A===xk||A===_i){var G=n.x,l=v?v.getMinSize().width:0;l+=j+K;var Y=X.x-W.$36u+G;if(A===xk){var y=0;m.isRightExpanded()&&(y=m.getRightWidth());var P=q.getMinSize().width+e+a;S?Y>w-z-Q-y-l&&(Y=w-z-Q-y-l):Y>w-z-l&&(Y=w-z-l),P>Y&&(Y=P),t?t.left=Y+m.getContentLeft()+m.tx()+Fq:W.setLayoutRegionSize(Y-G)}else{var f=0;m.isLeftExpanded()&&(f=m.getLeftWidth());var _=S.getMinSize().width+I+Z;Y>w-Q-_&&(Y=w-Q-_),q?f+z+l>Y&&(Y=f+z+l):l>Y&&(Y=l),t?t.left=Y+m.getContentLeft()+m.tx()+Fq:W.setLayoutRegionSize(Y-G)}}else{var u=n.y,C=v?v.getMinSize().height:0;C+=H+i;var M=q?q.getMinSize().height:0;M+=D+J;var g=S?S.getMinSize().height:0;g+=h+V,C=s(C,M),C=s(C,g);var Y=X.y-W.$36u+u;if(A===hq){var T=0;m.isBottomExpanded()&&(T=m.getBottomHeight());var p=B.getMinSize().height+$+E;c?Y>N-o-L-T-C&&(Y=N-o-L-T-C):Y>N-o-C&&(Y=N-o-C),p>Y&&(Y=p),t?t.top=Y+m.getContentTop()+m.ty()+Fq:W.setLayoutRegionSize(Y-u)}else{var Bi=0;m.isTopExpanded()&&(Bi=m.getTopHeight());var tp=c.getMinSize().height+x+r;Y>N-L-tp&&(Y=N-L-tp),B?Bi+o+C>Y&&(Y=Bi+o+C):C>Y&&(Y=C),t?t.top=Y+m.getContentTop()+m.ty()+Fq:W.setLayoutRegionSize(Y-u)}}},handle_mousemove:function(U){this.handle_touchmove(U)},setCursor:function(M){var t=this,K=t._view,w=(K._interactionDiv,"");if(!Dp()){var o=K.getToggleAt(M);if(o){var Y=K[Un(o+"Resizable")]();Y&&(w=a)}else{var h=K.getSplitterAt(M);if(h){var Y=K[Un(h+"Resizable")](),P=K[Un(h+"Expanded")]();Y&&P&&(w=h===xk||h===_i?F:D)}}K.setCursor(w)}},$94u:function(s){var q=this,b=q._view,u=q.$11u,_=b.isContinuous(),v=q.$115u=b["_"+u+"SplitterRect"],r=q.$13u;if(u&&!Dp()){if(!_){var h=q.$12u=oq(),Z=h.style;Z.left=b.tx()+b.getContentLeft()+v.x+Fq,Z.top=b.ty()+b.getContentTop()+v.y+Fq,Z.width=v.width+Fq,Z.height=v.height+Fq,Z.opacity="0.5",Z.background="black"}q.$36u=u===xk||u===_i?r.x:r.y,Gm(q,s),q._layoutSize=[b.getTopHeight(),b.getRightWidth(),b.getBottomHeight(),b.getLeftWidth()];var y=b._scrollBarDiv,l=b._interactionDiv;[xk,_i,hq,yb,di].forEach(function(t){var Y=b.getChildByRegion(t),H=b[Un(u+"Expanded")]();if(Y&&(t===di||H)){var Q=oq();Q.style.left=Y.getX()+b.getContentLeft()+b.tx()+Fq,Q.style.top=Y.getY()+b.getContentTop()+b.ty()+Fq,Q.style.width=Y.getWidth()+Fq,Q.style.height=Y.getHeight()+Fq,y?l.insertBefore(Q,y):l.appendChild(Q),q["_"+t+"Mask"]=Q}}),_||(y?l.insertBefore(h,y):l.appendChild(h))}},handle_touchmove:function(i){var b=this;b.setCursor(i)},handle_mouseout:function(){}}),vp.HBoxLayout=function(){vp.HBoxLayout.superClass.constructor.call(this)},db("ht.ui.HBoxLayout",od,{ui_ac:["align","is:equalMode"],__align:"left",figurePreferredSize:function(){for(var Q=this,F=Q.getChildren(),V=F.size(),H={x:0,y:0,width:0,height:0},X={},T=0;V>T;T++){var K,t,E=F.get(T),q=Q.getChildLayoutParams(E),G=q.width==$?Mk:q.width,g=q.height==$?Mk:q.height,u=q.marginLeft||0,Y=q.marginRight||0,o=q.marginTop||0,p=q.marginBottom||0,R=q.vAlign||hq,W=E.getPreferredSize();K=G===Jm?W.width:G===Mk?W.width:G,t=g===Jm?W.height:g===Mk?W.height:g;var e,A,z,k;if(e=u,A=o,z=K+Y,k=t+p,T>0){var M=X[T-1];e+=M.x+M.width}R===Eq&&(A=(o+p)/2);var I={x:e,y:A,width:z,height:k,marginLeft:u,marginRight:Y,marginTop:o,marginBottom:p};X[T]=I,H=Ni(H,I)}return{width:Q.getPaddingLeft()+Q.getPaddingRight()+Q.getBorderLeft()+Q.getBorderRight()+H.width,height:Q.getPaddingTop()+Q.getPaddingBottom()+Q.getBorderTop()+Q.getBorderBottom()+H.height}},$5u:function(k,J,_){var A,E,n=this,v=n.getChildLayoutParams(k),G=v.width==$?Mk:v.width,d=v.height==$?Mk:v.height,w=v.marginLeft||0,X=v.marginRight||0,i=v.marginTop||0,P=v.marginBottom||0,q=v.vAlign||hq,V=k.getPreferredSize();return A=G===Jm?_:G===Mk?V.width:G,A=n.adjustChildWidth(k,A),E=d===Jm?J-i-P:d===Mk?V.height:d,E=n.adjustChildHeight(k,E),{marginLeft:w,marginTop:i,marginRight:X,marginBottom:P,width:A,height:E,vAlign:q}},$29u:function(E,h){0>E&&(E=0);for(var j=this,q=j.getChildren(),y=q.size(),T=0,n={x:0,y:0,width:0,height:0},p=0;y>p;p++){var X=q.get(p),z=j.$5u(X,h),R=z.vAlign,l=T,Z=z.marginTop;R===Eq?Z=(h-z.height)/2:R===yb&&(Z=h-z.height-z.marginBottom),T+=z.width,p===y-1?n=Ni(n,{x:l,y:Z,width:z.width,height:z.height}):(T+=E,n=Ni(n,{x:l,y:Z,width:z.width+E,height:z.height+z.marginBottom})),j.layoutChild(X,l,Z,z.width,z.height)}return n},$30u:function($,N,T,I){for(var i=this,g=i.getChildren(),D=g.size(),P={x:0,y:0,width:0,height:0},q=0;D>q;q++){var a=g.get(q),d=i.$5u(a,N,T),F=d.vAlign,X=0,x=d.marginTop;0===q&&I||($+=d.marginLeft),X+=$,F===Eq?x=(N-d.height)/2:F===yb&&(x=N-d.height-d.marginBottom),$+=d.width,q===D-1&&I?P=Ni(P,{x:X,y:x,width:d.width,height:d.height}):($+=d.marginRight,P=Ni(P,{x:X,y:x,width:d.width+d.marginRight,height:d.height+d.marginBottom})),i.layoutChild(a,X,x,d.width,d.height)}return P},validateImpl:function(u,b,D,f){for(var R=this,Q=R.getAlign(),q=R.getChildren(),d=q.size(),e={x:0,y:0,width:0,height:0},r=0,a=R.isEqualMode(),l=0,U=0;d>U;U++){var W,i=q.get(U),J=R.getChildLayoutParams(i),Y=J.width==$?Mk:J.width,S=J.marginLeft||0,Z=J.marginRight||0;Y!==Jm?(W=Y===Mk?i.getPreferredSize().width:Y,a||(W+=S+Z),r+=W,l++):a||(r+=S+Z)}if(a){var n=(D-r)/(d-1);e=R.$29u(n,f)}else{var k=(D-r)/(d-l);if(Q===xk)e=R.$30u(0,f,k);else if(Q===_i){for(var C=0,U=0;d>U;U++){var i=q.get(U),L=R.$5u(i,f,k);C+=L.width+L.marginLeft+L.marginRight}if(D>C){C=D;for(var U=d-1;U>=0;U--){var i=q.get(U),L=R.$5u(i,f,k),G=L.vAlign,g=C-L.marginRight-L.width,c=L.marginTop;C-=L.marginLeft+L.width+L.marginRight,G===Eq?c=(f-L.height)/2:G===yb&&(c=f-L.height-L.marginBottom),e=Ni(e,{x:g,y:c,width:L.width+L.marginRight,height:L.height+L.marginBottom}),R.layoutChild(i,g,c,L.width,L.height)}}else e=R.$30u(0,f,k)}else if(Q===di){for(var C=0,U=0;d>U;U++){var i=q.get(U),L=R.$5u(i,f,k);C+=L.width,C>0&&(C+=L.marginLeft),d-1>C&&(C+=L.marginRight)}D>C?(C=(D-C)/2,e=R.$30u(C,f,k,!0)):e=R.$30u(0,f,k)}}var I=e.width+e.x,B=e.height+e.y;R.updateScrollBar(D,f,I,B)},getSerializableProperties:function(){var b=vp.HBoxLayout.superClass.getSerializableProperties.call(this);return lf(b,{align:!0,"is:equalMode":!0})}}),vp.VBoxLayout=function(){vp.VBoxLayout.superClass.constructor.call(this)},db("ht.ui.VBoxLayout",od,{ui_ac:["vAlign","is:equalMode"],__vAlign:"top",figurePreferredSize:function(){for(var O=this,c=O.getChildren(),_=c.size(),H={x:0,y:0,width:0,height:0},p={},i=0;_>i;i++){var z,L,m=c.get(i),T=O.getChildLayoutParams(m),K=T.width==$?Mk:T.width,Q=T.height==$?Mk:T.height,D=T.marginLeft||0,d=T.marginRight||0,C=T.marginTop||0,e=T.marginBottom||0,X=T.align||xk,Y=m.getPreferredSize();z=K===Jm?Y.width:K===Mk?Y.width:K,L=Q===Jm?Y.height:Q===Mk?Y.height:Q;var x,t,J,R;if(x=D,t=C,J=z+d,R=L+e,i>0){var j=p[i-1];t+=j.y+j.height}X===di&&(x=(D+d)/2);var A={x:x,y:t,width:J,height:R,marginLeft:D,marginRight:d,marginTop:C,marginBottom:e};p[i]=A,H=Ni(H,A)}return{width:O.getPaddingLeft()+O.getPaddingRight()+O.getBorderLeft()+O.getBorderRight()+H.width,height:O.getPaddingTop()+O.getPaddingBottom()+O.getBorderTop()+O.getBorderBottom()+H.height}},$5u:function(M,S,W){var x,C,V=this,L=V.getChildLayoutParams(M),m=L.width==$?Mk:L.width,s=L.height==$?Mk:L.height,U=L.marginLeft||0,z=L.marginRight||0,E=L.marginTop||0,T=L.marginBottom||0,v=L.align||xk,_=M.getPreferredSize();return C=s===Jm?W:s===Mk?_.height:s,C=V.adjustChildHeight(M,C),x=m===Jm?S-U-z:m===Mk?_.width:m,x=V.adjustChildWidth(M,x),{marginLeft:U,marginTop:E,marginRight:z,marginBottom:T,width:x,height:C,align:v}},$29u:function(G,s){0>G&&(G=0);for(var U=this,Q=U.getChildren(),p=Q.size(),_=0,P={x:0,y:0,width:0,height:0},B=0;p>B;B++){var h=Q.get(B),O=U.$5u(h,s),j=O.align,x=_,W=O.marginLeft;j===di?W=(s-O.width)/2:j===_i&&(W=s-O.width-O.marginRight),_+=O.height,B===p-1?P=Ni(P,{x:W,y:x,width:O.width,height:O.height}):(_+=G,P=Ni(P,{x:W,y:x,width:O.width+O.marginRight,height:O.height+G})),U.layoutChild(h,W,x,O.width,O.height)}return P},$30u:function(t,w,s,H){for(var W=this,$=W.getChildren(),U=$.size(),X={x:0,y:0,width:0,height:0},v=0;U>v;v++){var Z=$.get(v),n=W.$5u(Z,w,s),F=n.align,_=0,I=n.marginLeft;0===v&&H||(t+=n.marginTop),_+=t,F===di?I=(w-n.width)/2:F===_i&&(I=w-n.width-n.marginRight),t+=n.height,v===U-1&&H?X=Ni(X,{x:I,y:_,width:n.width,height:n.height}):(t+=n.marginBottom,X=Ni(X,{x:I,y:_,width:n.width+n.marginRight,height:n.height+n.marginBottom})),W.layoutChild(Z,I,_,n.width,n.height)}return X},validateImpl:function(J,j,f,C){for(var m=this,V=m.getVAlign(),q=m.getChildren(),c=q.size(),N={x:0,y:0,width:0,height:0},d=0,X=m.isEqualMode(),s=0,i=0;c>i;i++){var x,z=q.get(i),K=m.getChildLayoutParams(z),h=K.height==$?Mk:K.height,e=K.marginTop||0,l=K.marginBottom||0;h!==Jm?(x=h===Mk?z.getPreferredSize().height:h,X||(x+=e+l),d+=x,s++):X||(d+=e+l)}if(X){var t=(C-d)/(c-1);N=m.$29u(t,f)}else{var v=(C-d)/(c-s);if(V===hq)N=m.$30u(0,f,v);else if(V===yb){for(var o=0,i=0;c>i;i++){var z=q.get(i),L=m.$5u(z,f,v);o+=L.height+L.marginTop+L.marginBottom}if(C>o){o=C;for(var i=c-1;i>=0;i--){var z=q.get(i),L=m.$5u(z,f,v),a=L.align,A=o-L.marginBottom-L.height,F=L.marginLeft;o-=L.marginTop+L.height+L.marginBottom,a===di?F=(f-L.width)/2:a===_i&&(F=f-L.width-L.marginRight),N=Ni(N,{x:F,y:A,width:L.width+L.marginRight,height:L.height+L.marginBottom}),m.layoutChild(z,F,A,L.width,L.height)}}else N=m.$30u(0,f,v)}else if(V===Eq){for(var o=0,i=0;c>i;i++){var z=q.get(i),L=m.$5u(z,f,v);o+=L.height,o>0&&(o+=L.marginTop),c-1>o&&(o+=L.marginBottom)}C>o?(o=(C-o)/2,N=m.$30u(o,f,v,!0)):N=m.$30u(0,f,v)}}var n=N.width+N.x,k=N.height+N.y;m.updateScrollBar(f,C,n,k)},getSerializableProperties:function(){var F=vp.HBoxLayout.superClass.getSerializableProperties.call(this);return lf(F,{vAlign:!0,"is:equalMode":!0})}}),vp.SplitLayout=function(M,f,K){var k=this;vp.SplitLayout.superClass.constructor.call(k),M&&k.addView(M,{region:"first"}),f&&k.addView(f,{region:"second"}),K!=$&&k.setOrientation(K)},db("ht.ui.SplitLayout",od,{ui_ac:["positionType","position","orientation","drawable:toggle","toggleVisible","toggleSize","toggleGap","drawable:splitter","splitterSize","splitterVisible","resizable","collapseRegion","is:continuous"],_preferredSizeProps:lf(up(os._preferredSizeProps),{collapseRegion:!0,positionType:!0,position:!0,splitterVisible:!0,orientation:!0,splitterSize:!0}),_minSizeProps:lf(up(os._minSizeProps),{collapseRegion:!0,positionType:!0,position:!0,splitterVisible:!0,orientation:!0,splitterSize:!0}),__positionType:"percentage",__orientation:"h",__splitterSize:7,__toggleSize:40,__toggleGap:10,__toggleVisible:!0,__resizable:!0,__splitterVisible:!0,__toggle:["ht.ui.drawable.ImageDrawable","splitlayout_toggle","fill"],initView:function(){var o=this;vp.SplitLayout.superClass.initView.call(o);var Q=o.$198u,M=o._interactionDiv,l=o._scrollBarDiv;Q.style.zIndex="0";var F=o.$33u=jq();F.setAttribute(C,"ht-splitter"),l?M.insertBefore(F,l):M.appendChild(F)},isSelfViewEvent:function(F){var M=this,t=vp.SplitLayout.superClass.isSelfViewEvent.call(M,F);if(!t){var s=Uq(F);s===M.$33u&&(t=!0)}return t},setUpInteractors:function(){var U=this.$95u;U||(U=this.$95u=new vp.SplitLayoutInteractor(this),U.addListeners()),vp.SplitLayout.superClass.setUpInteractors.call(this)},tearDownInteractors:function(){var u=this.$95u;u&&(u.removeListeners(),this.$95u=$),vp.SplitLayout.superClass.tearDownInteractors.call(this)},getChildByRegion:function(_){for(var n=this,e=n.getChildren(),Q=0,u=e.size();u>Q;Q++){var Y=e.get(Q);if(n.getChildLayoutParams(Y).region===_)return Y}},getFirstView:function(){return this.getChildByRegion("first")},getSecondView:function(){return this.getChildByRegion("second")},$4u:function(b){var f=this,l=f.getCollapseRegion(),S=f.getOrientation(),h=f.getPositionType(),g=f.getPosition(),M=f.getFirstView(),p=f.getSecondView(),z=M?f.getChildLayoutParams(M):{},B=z.marginLeft||0,x=z.marginTop||0,Z=z.marginRight||0,G=z.marginBottom||0,A="first"!==l,V=p?f.getChildLayoutParams(p):{},t=V.marginLeft||0,c=V.marginTop||0,k=V.marginRight||0,W=V.marginBottom||0,U="second"!==l,C={width:0,height:0},X={width:0,height:0};M&&A&&A&&(C=up(M[Un(b+"Size")]()),z&&z.width!=$&&z.width!==Jm&&z.width!==Mk&&(C.width=z.width),z&&z.height!=$&&z.height!==Jm&&z.height!==Mk&&(C.height=z.height),C.width+=B+Z,C.height+=x+G,"absoluteFirst"===h&&g!=$&&("h"===S||"horizontal"===S?C.width=g:C.height=g)),p&&U&&U&&(X=up(p[Un(b+"Size")]()),V&&V.width!=$&&V.width!==Jm&&V.width!==Mk&&(X.width=V.width),V&&V.height!=$&&V.height!==Jm&&V.height!==Mk&&(X.height=V.height),X.width+=t+k,X.height+=c+W,"absoluteSecond"===h&&g!=$&&("h"===S||"horizontal"===S?X.width=g:X.height=g));var P;return"h"===S||"horizontal"===S?(P={width:C.width+X.width,height:s(C.height,X.height)},M&&A&&p&&U&&(P.width+=f.isSplitterVisible()?f.getSplitterSize():0)):(P={width:s(C.width,X.width),height:C.height+X.height},M&&A&&p&&U&&(P.height+=f.isSplitterVisible()?f.getSplitterSize():0)),P.width+=f.getBorderLeft()+f.getBorderRight()+f.getPaddingLeft()+f.getPaddingRight(),P.height+=f.getBorderTop()+f.getBorderBottom()+f.getPaddingTop()+f.getPaddingBottom(),P},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},hasContentCanvas:function(){return!0},$34u:function(N){var u=this,h=u.getPositionType(),O=u.getPosition(),E=u[Un(N+"View")]();if(E)if("percentage"===h){if("first"===N)return O!=$?O:(u._position=.5,u._minSize=u._preferredSize=$,u._position)}else if("absoluteFirst"===h){if("first"===N){if(O!=$)return O;var g=u._position=u.$35u(N);return u._minSize=u._preferredSize=$,g}}else if("absoluteSecond"===h&&"second"===N){if(O!=$)return O;var g=u._position=u.$35u(N);return u._minSize=u._preferredSize=$,g}},$35u:function(L){var H=this,R=H.getOrientation(),m=H[Un(L+"View")](),i=H.getChildLayoutParams(m);if("h"===R||"horizontal"===R){var K;return K=i&&i.width!=$&&i.width!==Jm&&i.width!==Mk?i.width:m.getPreferredSize().width,i&&i.marginLeft&&(K+=i.marginLeft),i&&i.marginRight&&(K+=i.marginRight),K}var p;return p=i&&i.height!=$&&i.height!==Jm&&i.height!==Mk?i.height:m.getPreferredSize().height,i&&i.marginTop&&(p+=i.marginTop),i&&i.marginBottom&&(p+=i.marginBottom),p},getToggleAt:function(v){var F,q=this;F=v instanceof Event?q.lp(v):v;for(var D=[q.$97u,q.$96u],U=0,Q=D.length;Q>U;U++){var V=0===U?"expand":"collapse",S=D[U];if(S&&(S={x:S.x,y:S.y,width:S.width-1,height:S.height-1},S&&Fb(S,F)))return V}},splitterHitTest:function(Z){var U,m=this;U=Z instanceof Event?m.lp(Z):Z;var _=m.$115u;return _&&(_={x:_.x,y:_.y,width:_.width-1,height:_.height-1},_&&Fb(_,U))?!0:void 0},drawSplitter:function(q,i,c,G,X){q&&q.draw(i,c,G,X,$,this,this.$33u)},drawToggle:function(m,l,x,F,Y,S){if(m){var w=this,G=w.$33u,W=w.getOrientation(),T=w.getRootContext(G),f=F/2,E=Y/2,L=l+f,J=x+E;T.save(),"h"===W||"horizontal"===W?"collapse"===S?(T.translate(L,J),T.rotate(-v/2),m.draw(-E,-f,Y,F,$,w,G)):"expand"===S&&(T.translate(L,J),T.rotate(v/2),m.draw(-E,-f,Y,F,$,w,G)):"collapse"===S?(T.translate(L,J),m.draw(-f,-E,F,Y,$,w,G)):"expand"===S&&(T.translate(L,J),T.rotate(v),m.draw(-f,-E,F,Y,$,w,G)),T.restore()}},getRootContext:function(W){if(!W)return vp.SplitLayout.superClass.getRootContext.call(this);var G=W.$93u;return G||(G=W.$93u=ts(W),Oe(G,0,0,1)),G},$5u:function(b,c,Z,V){var x,f,n,w,y=xk,e=hq,Q=0,P=0,d=0,D=0;return c&&(x=c.width,f=c.height,y=c.align||xk,e=c.vAlign||hq,Q=c.marginLeft||0,P=c.marginRight||0,d=c.marginTop||0,D=c.marginBottom||0),x=x==$?Jm:x,f=f==$?Jm:f,x===Jm?(x=Z,x-=Q+P):x===Mk&&(x=b.getPreferredSize().width),x=this.adjustChildWidth(b,x),f===Jm?(f=V,f-=d+D):f===Mk&&(f=b.getPreferredSize().height),f=this.adjustChildHeight(b,f),n=y===di?(Z-x)/2:y===_i?Z-P-x:Q,w=e===Eq?(V-f)/2:e===yb?V-D-f:d,{x:n,y:w,width:x,height:f}},$122u:function($,k,E,z,Z){$.style.display=Dn,An($,z,Z),$.style.left=this.getContentLeft()+this.tx()+k+Fq,$.style.top=this.getContentTop()+this.ty()+E+Fq},validateImpl:function(y,t,H,O){var G,V,P=this,c=P.$34u("first"),F=P.$34u("second"),T=P.getMinSize(),h=T.width>P.getWidth(),Z=T.height>P.getHeight(),I=P.getOrientation(),k=P.getCollapseRegion(),l=P.getPositionType(),M=P.getFirstView(),D=P.getSecondView(),W=P.isSplitterVisible(),p=W?P.getSplitterSize():0,v=P.getSplitterDrawable(),C=P.getToggleDrawable(),g=P.getToggleSize(),Y=P.getToggleGap(),L=P.isToggleVisible(),K=P.$33u,f="first"!==k,b="second"!==k,e=h?T.width-P.getBorderLeft()-P.getBorderRight()-P.getPaddingLeft()-P.getPaddingRight():H,o=Z?T.height-P.getBorderTop()-P.getBorderBottom()-P.getPaddingTop()-P.getPaddingBottom():O,R=0,N=0,d=0,q=0;if(M&&(G=P.getChildLayoutParams(M)),D&&(V=P.getChildLayoutParams(D)),"h"===I||"horizontal"===I){if("first"===k?(c=0,F=e-c-p):"second"===k?(F=0,c=e-F-p):"absoluteFirst"===l?F=e-c-p:"absoluteSecond"===l?c=e-F-p:(c*=e,F=e-c-p,M&&f&&(c=s(c,M.getMinSize().width+(G.marginLeft||0)+(G.marginRight||0)),F=e-c-p),D&&b&&(F=s(F,D.getMinSize().width+(V.marginLeft||0)+(V.marginRight||0)),c=e-F-p)),M&&(d=f?c:0),D&&(q=b?F:0),P.$115u=$,K.style.display=be,M){var m=P.$5u(M,G,d,o);f||(m.width=0),P.layoutChild(M,m.x,m.y,m.width,m.height)}if(D){var m=P.$5u(D,V,q,o);b||(m.width=0),P.layoutChild(D,m.x+d+p,m.y,m.width,m.height)}if(W){var U=P.$115u={x:d,y:0,width:p,height:o};if(P.$122u(K,U.x,U.y,U.width,U.height),P.drawSplitter(v,0,0,U.width,U.height),C&&L){var X=P.$96u={x:d,y:(o-2*g-Y)/2,width:p,height:g},j=P.$97u={x:d,y:(o+2*g+Y)/2-g,width:p,height:g};P.drawToggle(C,0,X.y,X.width,X.height,"collapse"),P.drawToggle(C,0,j.y,j.width,j.height,"expand")}K.$93u&&(K.$93u.restore(),K.$93u=$)}}else{if("first"===k?(c=0,F=o-c-p):"second"===k?(F=0,c=o-F-p):"absoluteFirst"===l?F=o-c-p:"absoluteSecond"===l?c=o-F-p:(c*=o,F=o-c-p,M&&f&&(c=s(c,M.getMinSize().height+(G.marginTop||0)+(G.marginBottom||0)),F=o-c-p),D&&b&&(F=s(F,D.getMinSize().height+(V.marginTop||0)+(V.marginBottom||0)),c=o-F-p)),M&&(R=f?c:0),D&&(N=b?F:0),P.$115u=$,K.style.display=be,M){var m=P.$5u(M,G,e,R);f||(m.height=0),P.layoutChild(M,m.x,m.y,m.width,m.height)}if(D){var m=P.$5u(D,V,e,N);b||(m.height=0),P.layoutChild(D,m.x,m.y+R+p,m.width,m.height)}if(W){var U=P.$115u={x:0,y:R,width:e,height:p};if(P.$122u(K,U.x,U.y,U.width,U.height),P.drawSplitter(v,0,0,U.width,U.height),C&&L){var X=P.$96u={x:(e-2*g-Y)/2,y:R,width:g,height:p},j=P.$97u={x:(e+2*g+Y)/2-g,y:R,width:g,height:p};P.drawToggle(C,X.x,0,X.width,X.height,"collapse"),P.drawToggle(C,j.x,0,j.width,j.height,"expand")}K.$93u&&(K.$93u.restore(),K.$93u=$)}}P.updateScrollBar(H,O,e,o)},getSerializableProperties:function(){var c=vp.SplitLayout.superClass.getSerializableProperties.call(this);return lf(c,{positionType:1,position:1,orientation:1,toggle:1,toggleDrawable:1,toggleVisible:1,toggleSize:1,toggleGap:1,splitter:1,splitterDrawable:1,splitterSize:1,splitterVisible:1,resizable:1,collapseRegion:1,"is:continuous":1})}}),vp.SplitLayoutInteractor=function(e){this._view=e},db("ht.ui.SplitLayoutInteractor",N,{ms_listener:1,getView:function(){return this._view.getView()},clear:function(){var l=this;l._view,l.$12u&&pc(l.$12u),l.$12u=l.$36u=l.$115u=l.$37u=l.$13u=l.$10u=$,["first","second"].forEach(function(c){var X=l["_"+c+"Mask"];X&&(delete l["_"+c+"Mask"],pc(X))})},handle_mousedown:function(s){this.handle_touchstart(s)},handle_touchstart:function(M){var q=this,x=q._view,r=x.getToggleAt(M);if(r){Qo(M);var y=x.isResizable();y&&(q.$10u=r,q.$13u=Sc(M))}else if(x.splitterHitTest(M)){Qo(M);var y=x.isResizable(),e=x.getCollapseRegion();y&&!e&&(q.$37u=!0,q.$13u=Sc(M))}q.$37u&&!Dp()&&q.$98u(M)},handleWindowMouseUp:function(G){this.handleWindowTouchEnd(G)},setLayoutPosition:function($){var m=this,G=m._view,I=G.getOrientation(),c=G.getPositionType();"h"===I||"horizontal"===I?"absoluteFirst"===c?G.setPosition($):"absoluteSecond"===c?G.setPosition(G.$189u-$-G.getSplitterSize()):"percentage"===c&&G.setPosition($/G.$189u):"absoluteFirst"===c?G.setPosition($):"absoluteSecond"===c?G.setPosition(G.$188u-$-G.getSplitterSize()):"percentage"===c&&G.setPosition($/G.$188u)},handleWindowTouchEnd:function(m){var u=this,R=u._view,$=R.getOrientation();if(R.getPositionType(),R.isSelfViewEvent(m)&&Qo(m),!R.isContinuous())if("h"===$||"horizontal"===$){var c=$h(u.$12u.style.left),J=c-R.getContentLeft()-R.tx();u.setLayoutPosition(J)}else{var y=$h(u.$12u.style.top),J=y-R.getContentTop()-R.ty();u.setLayoutPosition(J)}u.clear()},handle_mouseup:function(Y){this.handle_touchend(Y)},handle_touchend:function(h){if(!Dp()){var H=this,B=H._view,I=H.$10u,N=B.getCollapseRegion(),w=H.$13u,G=Sc(h);I&&lr(w,G)<2&&("collapse"===I?"second"===N?B.setCollapseRegion(""):B.setCollapseRegion("first"):"expand"===I&&("first"===N?B.setCollapseRegion(""):B.setCollapseRegion("second"))),H.clear()}},handleWindowMouseMove:function(V){this.handleWindowTouchMove(V)},handleWindowTouchMove:function(Y){var c,l=this,T=l._view,z=T.isContinuous(),D=T.$189u,N=T.$188u,M=T.getOrientation(),m=T.getSplitterSize(),t=T.getFirstView(),r=T.getSecondView(),B=l.$115u,S=Sc(Y),n=t?T.getChildLayoutParams(t):{},I=n.marginLeft||0,e=n.marginTop||0,$=n.marginRight||0,F=n.marginBottom||0,f=r?T.getChildLayoutParams(r):{},X=f.marginLeft||0,E=f.marginTop||0,v=f.marginRight||0,R=f.marginBottom||0;if(z||(c=l.$12u.style),"h"===M||"horizontal"===M){var w=B.x,U=S.x-l.$36u+w,y=0,O=0;t&&(y=t.getMinSize().width+I+$),r&&(O=r.getMinSize().width+X+v),U>D-m-O&&(U=D-m-O),y>U&&(U=y),c?c.left=U+T.getContentLeft()+T.tx()+Fq:l.setLayoutPosition(U)}else{var i=B.y,U=S.y-l.$36u+i,G=0,P=0;t&&(G=t.getMinSize().height+e+F),r&&(P=r.getMinSize().height+E+R),U>N-m-P&&(U=N-m-P),G>U&&(U=G),c?c.top=U+T.getContentTop()+T.ty()+Fq:l.setLayoutPosition(U)}},handle_mousemove:function(E){this.handle_touchmove(E)},setCursor:function(x){var E=this,$=E._view,d="";if(!Dp()){var g=$.getToggleAt(x),o=$.getCollapseRegion();if(g){var L=$.isResizable();L&&("second"===o&&"expand"===g||"first"===o&&"collapse"===g||(d=a))}else{var b=$.splitterHitTest(x);if(b){var L=$.isResizable(),o=$.getCollapseRegion(),_=$.getOrientation();L&&!o&&(d="h"===_||"horizontal"===_?F:D)}}$.setCursor(d)}},$98u:function(k){var F=this,a=F._view,$=a.isContinuous(),x=a.getOrientation(),M=F.$115u=a.$115u,Y=F.$13u;if(!$){var q=F.$12u=oq(),_=q.style;_.left=a.tx()+a.getContentLeft()+M.x+Fq,_.top=a.ty()+a.getContentTop()+M.y+Fq,_.width=M.width+Fq,_.height=M.height+Fq,_.opacity="0.5",_.background="black"}F.$36u="h"===x||"horizontal"===x?Y.x:Y.y,Gm(F,k);var A=a._scrollBarDiv,I=a._interactionDiv;["first","second"].forEach(function(Y){var Z=a.getChildByRegion(Y);if(Z){var Q=oq();Q.style.left=Z.getX()+a.getContentLeft()+a.tx()+Fq,Q.style.top=Z.getY()+a.getContentTop()+a.ty()+Fq,Q.style.width=Z.getWidth()+Fq,Q.style.height=Z.getHeight()+Fq,A?I.insertBefore(Q,A):I.appendChild(Q),F["_"+Y+"Mask"]=Q}}),$||(A?I.insertBefore(q,A):I.appendChild(q))},handle_touchmove:function(z){var c=this;c.setCursor(z)},handle_mouseout:function(){}}),vp.TabLayout=function(){var K=this;vp.TabLayout.superClass.constructor.call(K),K.$38u=new n},db("ht.ui.TabLayout",od,{ui_ac:["movable","tabHeight","tabGap","tabGapTop","tabPosition","titleFont","tabPadding","titleColor","hoverTitleColor","activeTitleColor","moveTitleColor","iconWidth","iconHeight","iconTitleGap","drawable:closeIcon","drawable:hoverCloseIcon","drawable:activeCloseIcon","closeIconSize","closeIconX","closeIconY","drawable:tabHeaderBackground","tabHeaderLineColor","tabHeaderLineSize","drawable:tabBackground","drawable:hoverTabBackground","drawable:activeTabBackground","drawable:moveTabBackground","drawable:insertLine",oo],ms_ac:["activeViewIndex","hoverViewIndex","moveTabInfo","currentCloseViewIndex","currentCloseState"],_preferredSizeProps:lf(up(os._preferredSizeProps),{tabPosition:!0,iconWidth:!0,iconHeight:!0,iconTitleGap:!0,tabHeight:!0,titleFont:!0}),_minSizeProps:lf(up(os._minSizeProps),{tabPosition:!0,iconWidth:!0,iconHeight:!0,iconTitleGap:!0,tabHeight:!0,titleFont:!0}),__tabPosition:"top",__tabHeight:30,__tabGap:4,__tabGapTop:2,__tabHeaderLineColor:"#0092d4",__tabHeaderLineSize:1,__titleColor:"black",__moveTitleColor:"black",__activeTitleColor:"#139DD7",__titleFont:"12px Arial",__tabBackground:["ht.ui.drawable.TabBackgroundDrawable",0,$,"#eee"],__hoverTabBackground:["ht.ui.drawable.TabBackgroundDrawable",0,$,"#eee"],__activeTabBackground:["ht.ui.drawable.TabBackgroundDrawable",1,"#0092d4","#fafafa"],__moveTabBackground:["ht.ui.drawable.TabBackgroundDrawable",0,$,"#dee0e0"],__movable:!0,__iconWidth:16,__iconHeight:16,__iconTitleGap:4,__tabPadding:6,__closeIconSize:14,__scrollBarMode:"off",__closeIcon:"tablayout_close",__hoverCloseIcon:"tablayout_hoverClose",__activeCloseIcon:"tablayout_activeClose",__closeIconX:-13,__closeIconY:.5,__insertLine:"#0092d4",__autoMakeVisible:!0,setUpInteractors:function(){var L=this.$53u;
L||(L=this.$53u=new vp.TabLayoutInteractor(this),L.addListeners())},tearDownInteractors:function(){var q=this.$53u;q&&(q.removeListeners(),this.$53u=$)},getChildByTitle:function(s){for(var C=this,o=C.getChildren(),I=0,K=o.size();K>I;I++){var Y=o.get(I),X=C.getChildLayoutParams(Y);if(s===X.title)return Y}},getActiveView:function(){var L=this,Y=L.getActiveViewIndex(),J=L.getChildren();return Y>=0?J.get(Y):void 0},getCurrentCloseView:function(){var S=this,A=S.getCurrentCloseViewIndex(),G=S.getChildren();return A>=0?G.get(A):void 0},getHoverView:function(){var B=this,y=B.getHoverViewIndex(),$=B.getChildren();return y>=0?$.get(y):void 0},adjustTranslateX:function(e){var r=this.getContentWidth()-this.$133u;return r>e&&(e=r),e>0?0:w(e)},adjustTranslateY:function(r){var E=this.getContentHeight()-this.$134u;return E>r&&(r=E),r>0?0:w(r)},$4u:function(f){var Z=this,U=Z.getTabPosition(),H=Z.getActiveView(),_=Z.getChildren(),z=_.size(),G={width:0,height:0};if(H&&(G=up(H[Un(f+"Size")]())),U===xk||U===_i){var K=0,w=0;if("min"!==f)for(var C=0;z>C;C++){var L=_.get(C);K=s(Z.getTabWidth(L),K),w+=Z.getTabHeight(),z-1>C&&(w+=Z.getTabGap())}G.width+=K,G.height=s(w,G.height)}else if(U===hq||U===yb){var E=0;if("min"!==f)for(var C=0;z>C;C++){var L=_.get(C);E+=Z.getTabWidth(L),z-1>C&&(E+=Z.getTabGap())}G.width=s(E,G.width),G.height+=Z.getTabHeight()}else{var w=0;if("min"!==f)for(var C=0;z>C;C++){var L=_.get(C);w+=Z.getTabWidth(L),z-1>C&&(w+=Z.getTabGap())}G.width+=Z.getTabHeight(),G.height=s(w,G.height)}return G.width+=Z.getBorderLeft()+Z.getBorderRight()+Z.getPaddingLeft()+Z.getPaddingRight(),G.height+=Z.getBorderTop()+Z.getBorderBottom()+Z.getPaddingTop()+Z.getPaddingBottom(),G},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},getTitle:function(q){var E=this.getChildLayoutParams(q);return E.title||""},getTextWidth:function(P,K){return Lb(this.getTitleFont(K),P).width},getTabWidth:function(I){var R=this,E=0,r=R.getChildLayoutParams(I),O=r.closable!=$?r.closable:!1,C=r.icon;C&&(E+=R.getIconWidth());var N=R.getTitle(I);return N&&(E+=R.getTextWidth(N,I),C&&(E+=R.getIconTitleGap())),O&&(E+=R.getCloseIconSize(),N&&(E+=R.getIconTitleGap())),E+=2*R.getTabPadding()},getCurrentTabBackgroundDrawable:function(W){var K=this,k=K.getActiveView(),w=K.getHoverView(),o=K.getTabBackgroundDrawable(W),S=K._moveTabInfo;return W?S&&W===S.view?K.getMoveTabBackgroundDrawable(W)||o:W===k?K.getActiveTabBackgroundDrawable(W)||o:W===w?K.getHoverTabBackgroundDrawable(W)||o:o:$},getCurrentCloseIconDrawable:function(f){var _=this,F=_.getHoverView(),Q=_.getCurrentCloseView(),W=_.getCurrentCloseState(),h=_.getCloseIconDrawable();if(!f)return $;if(f===Q){if(W===om)return _.getHoverCloseIconDrawable()||h;if(W===bg)return _.getActiveCloseIconDrawable()||h}else if(f===F)return h},getCurrentTitleColor:function(T){var S=this,Z=S.getHoverView(),H=S.getActiveView(),Y=S.getTitleColor(),A=S._moveTabInfo;return T?A&&T===A.view?S.getMoveTitleColor()||Y:T===H?S.getActiveTitleColor()||Y:T===Z?S.getHoverTitleColor()||Y:Y:$},isClosable:function(N){return N?this.getChildLayoutParams(N).closable:void 0},makeVisible:function(z){z&&(this._makeVisibleView=z,this.iv())},closeTab:function(q){var H=this,T=H.getChildren(),G=T.size(),y=T.indexOf(q),I=!1;if(!(0>y)){var c=H.getActiveView();if(q===c){if(G)for(var A=y-1;A>=0;A++){var j=T.get(A);if(!H.getChildLayoutParams(j).disabled){I=!0;break}}c=I?H.selectPrevious(q):H.selectNext(q)}if(H.removeView(q),c&&c!==q){var d=T.indexOf(c);d>=0&&H.setActiveViewIndex(d)}else H.setActiveViewIndex($)}},setActiveView:function(G){var b=this,J=b.getChildren().indexOf(G);J>=0&&b.setActiveViewIndex(J)},setActiveViewIndex:function(L){var D=this;D.setPropertyValue("activeViewIndex",L);var r=D.getActiveView();r&&D.isAutoMakeVisible()&&D.makeVisible(r)},selectNext:function(V){var P=this,N=P.getChildren(),q=N.size(),x=N.indexOf(V);if(!(0>x)){if(q){x===q-1&&(x=-1);for(var z=x+1;q>z;z++){var R=N.get(z);if(!P.getChildLayoutParams(R).disabled)return P.setActiveViewIndex(z),R}}P.getActiveView()&&P.setActiveViewIndex($)}},selectPrevious:function(i){var b=this,M=b.getChildren(),T=M.size(),H=M.indexOf(i);if(!(0>H)){if(T){0===H&&(H=T);for(var D=H-1;D>=0;D--){var g=M.get(D);if(!b.getChildLayoutParams(g).disabled)return b.setActiveViewIndex(D),g}}b.getActiveView()&&b.setActiveViewIndex($)}},getIconDrawable:function(G){var E=this.getChildLayoutParams(G);if(E){var a=E.iconDrawable;if(!a&&E.icon&&(a=E.iconDrawable=Xg(E.icon)),a)return a}},getTabInfoAt:function(G){var C,b=this,N=b.$38u,v=b.getActiveView(),F=N.size();C=G instanceof Event?b.lp(G):G;for(var J,Y=0;F>Y;Y++){var x=N.get(Y);if(Fb(x.rect,C)&&(J=x,x.view===v))break}return J},closeIconHitTest:function(X,Q){var k,T=this;return k=Q instanceof Event?T.lp(Q):Q,Fb(X.closeRect,k)},getCloseRect:function(v,F,h,I,S,i,w){var t=this,Q=t.getCloseIconSize();if("left-vertical"===w||"right-vertical"===w){var o=S;S=i,i=o}return"right-vertical"===w?0>S?v-=S:S>1?v=v+h-S:v+=h*(1-S):0>S?v=v+h+S:v+=S>1?S:h*S,"left-vertical"===w?0>i?F-=i:i>1?F=F+I-i:F+=I*(1-i):0>i?F=F+I+i:F+=i>1?i:I*i,{x:v-Q/2,y:F-Q/2,width:Q,height:Q}},drawTabHeaderBackground:function(z,L,I,g,B){z&&z.draw(L,I,g,B,$,this)},drawTabBackground:function(X,C,R,x,f,U){X&&X.draw(C,R,x,f,U,this)},drawTabIcon:function(F,d,B,_,P,R){F&&F.draw(d,B,_,P,R,this)},drawVerticalTabIcon:function(z,L,g,s,S,$,i,E,C,N,k){var X=g+S/2,A=N===xk+"-vertical";A&&($f(z,X,s+$/2),Hh(z,v),$f(z,-X,-s-$/2));var e=g+(S-E)/2,u=C,r=e+E/2,M=u+i/2;$f(z,r,M),Hh(z,j),$f(z,-r,-M),this.drawTabIcon(L,g+(S-i)/2,C+i/2-E/2,i,E,k),$f(z,r,M),Hh(z,-j),$f(z,-r,-M),A&&($f(z,X,s+$/2),Hh(z,-v),$f(z,-X,-s-$/2))},drawTabTitle:function(Y,b,p,m,S,k,R,U){fg(Y,b,p,m,S,k,R,U)},drawVerticalTabTitle:function($,J,l,w,C,Y,o,r,M,T,q,D){var n=C+o/2,t=q===xk+"-vertical";t&&($f($,n,Y+r/2),Hh($,v),$f($,-n,-Y-r/2));var X=o;$f($,C+o/2,T+M/2),Hh($,j),$f($,-C-o/2,-T-M/2),this.drawTabTitle($,J,l,w,C+o/2-M/2,T+M/2-X/2,M,X,D),$f($,C+o/2,T+M/2),Hh($,-j),$f($,-C-o/2,-T-M/2),t&&($f($,n,Y+r/2),Hh($,-v),$f($,-n,-Y-r/2))},drawInsertLine:function(j,M,A,d,k){j&&j.draw(M,A,d,k,$,this)},drawCloseIcon:function(r,U,b,C,P,S){r&&r.draw(U,b,C,P,S,this)},isHTabScrollable:function(){var V=this,i=V.getTabPosition();return i===hq||i===yb?this.$133u>V.getContentWidth():void 0},isVTabScrollable:function(){var P=this,l=P.getTabPosition();return l===xk||l===_i||l===xk+"-vertical"||l===_i+"-vertical"?this.$134u>P.getContentHeight():void 0},drawTab:function(i,s,v,A,G,J){var B,c=this,W=c.getTabPosition(),r=c.getChildLayoutParams(s),l=c.isClosable(s),g=W===xk+"-vertical",V=W===_i+"-vertical",u=v,o=A,Z=c.getIconDrawable(s),a=r.disabled,N=c.getIconTitleGap(),x=c.getCurrentTitleColor(s),p=c.getTitleFont(s),k=c.getTitle(s),M=c.getTabPadding(),U=c.getCurrentTabBackgroundDrawable(s),h=c.getIconWidth(s)||0,P=c.getIconHeight(s)||0;if(a&&(i.globalAlpha=zo),g||V?($f(i,v+G/2,A+J/2),g?Hh(i,-j):Hh(i,j),$f(i,-v-G/2,-A-J/2),c.drawTabBackground(U,v+G/2-J/2,A+J/2-G/2,J,G,s),$f(i,v+G/2,A+J/2),g?Hh(i,j):Hh(i,-j),$f(i,-v-G/2,-A-J/2)):c.drawTabBackground(U,u,A,G,J,s),u+=M,o+=M,Z&&(g||V?c.drawVerticalTabIcon(i,Z,v,A,G,J,h,P,o,W,s):c.drawTabIcon(Z,u,A+(J-P)/2,h,P,s),u+=h+N,o+=h+N),g||V){var K=J-2*M-N-h;c.drawVerticalTabTitle(i,k,p,x,v,A,G,J,K,o,W,s)}else c.drawTabTitle(i,k,p,x,u,A,G,J,s);if(l){var n=c.getCurrentCloseIconDrawable(s);B=g||V?c.getCloseRect(v,A,G,J,c.getCloseIconX(),c.getCloseIconY(),W,s):c.getCloseRect(v,A,G,J,c.getCloseIconX(),c.getCloseIconY(),W,s),c.drawCloseIcon(n,B.x,B.y,B.width,B.height,s)}return a&&(i.globalAlpha=1),B},hideView:function(v){v.getView().style.display=be},showView:function(i){i.getView().style.display=Dn},validateImpl:function(l,k,X,h){var T,j=this,m=j.getChildren(),c=m.size(),e=j.getTabPosition(),w=j.getActiveView(),W=j.getTabHeight(),y=j.getTabHeaderBackgroundDrawable(),b=j.getTabHeaderLineColor(),U=j.getTabHeaderLineSize(),A=j.getTabGap(),r=j.getTabGapTop(),z=j.$38u,M=e===hq,F=e===xk,n=e===_i,O=e===xk+"-vertical",H=e===_i+"-vertical",x=j._moveTabInfo,V=0,L=j._makeVisibleView,Q=j.getRootContext();if(Q.save(),Q.beginPath(),Q.rect(l,k,X,h),Q.clip(),F||n)for(var u=0;c>u;u++){var g=m.get(u);V=s(j.getTabWidth(g),V)}T=M?{x:0,y:W,width:X,height:s(0,h-W)}:F?{x:V+r,y:0,width:s(0,X-V-r),height:h}:n?{x:0,y:0,width:s(0,X-V-r),height:h}:O?{x:W,y:0,width:s(0,X-W),height:h}:H?{x:0,y:0,width:s(0,X-W),height:h}:{x:0,y:0,width:X,height:s(0,h-W)};for(var u=0;c>u;u++){var g=m.get(u);g===w||j.hideView(g)}if(w&&j.showView(w),w&&j.layoutChild(w,T.x,T.y,T.width,T.height),z.clear(),W-r>0)if(O||H){var P=O?l:l+T.width;j.drawTabHeaderBackground(y,P,k,X-T.width,h),Q.translate(0,j.ty());for(var i,t,f=k+A,u=0;c>u;u++){var Z,g=m.get(u),C=j.getTabWidth(g);g!==w?(x&&x.view===g||(Z=j.drawTab(Q,g,O?P+r:P,f,W-r,C),Z&&(Z.x-=l,Z.y-=k)),z.add({closeRect:Z,view:g,rect:{x:O?P+r-l:P-l,y:f-k,width:W-r,height:C}})):i=f,f+=C+A}if(w){var G=m.indexOf(w);t=C=j.getTabWidth(w),x&&x.view===w||(Z=j.drawTab(Q,w,O?P+r:P,i,W-r,C),Z&&(Z.x-=l,Z.y-=k)),z.add({closeRect:Z,view:w,rect:{x:O?P+r-l:P-l,y:i-k,width:W-r,height:C}},G)}if(U>0&&b){var Y=k-j.ty(),_=O?P+W-U:l+T.width;i!=$?(Q.beginPath(),Q.rect(_,Y,U,i-Y),Q.rect(_,i+t,U,Y+h-(i+t)),Q.fillStyle=b,Q.fill()):(Q.beginPath(),Q.rect(_,Y,U,h),Q.fillStyle=b,Q.fill())}if(j.$134u=s(0,f-k),x){var I=x.insertPosition,E=x.rect;j.drawTab(Q,x.view,l+E.x,k+E.y,E.width,E.height),j.drawInsertLine(j.getInsertLineDrawable(),l+E.x,k+I,E.width,1)}if(L){for(var d=null,u=0;u<z.size();u++){var R=z.get(u);R.view===L&&(d=R)}if(d){var J=d.rect,o=-j.getTranslateY();J.y+J.height>o+h?j.ty(h-J.y-J.height):J.y<o&&j.ty(-J.y)}delete j._makeVisibleView}j.ty(j.ty())}else if(F||n){j.drawTabHeaderBackground(y,F?l:l+T.width,k,X-T.width,h),Q.translate(0,j.ty());for(var i,t,f=k+A,u=0;c>u;u++){var Z,g=m.get(u),C=j.getTabWidth(g);g!==w?(x&&x.view===g||(Z=j.drawTab(Q,g,F?l+V+r-C:l+T.width,f,C,W),Z&&(Z.x-=l,Z.y-=k)),z.add({closeRect:Z,view:g,rect:{x:F?V+r-C:T.width,y:f-k,width:C,height:W}})):(i=f,t=W),f+=W+A}if(w){var G=m.indexOf(w);C=j.getTabWidth(w),x&&x.view===w||(Z=j.drawTab(Q,w,F?l+V+r-C:l+T.width,i,C,W),Z&&(Z.x-=l,Z.y-=k)),z.add({closeRect:Z,view:w,rect:{x:F?V+r-C:T.width,y:i-k,width:C,height:W}},G)}if(U>0&&b){var _=F?l+V+r-U:l+T.width,Y=k-j.ty();i!=$?(Q.beginPath(),Q.rect(_,Y,U,i-Y),Q.rect(_,i+t,U,Y+h-(i+t)),Q.fillStyle=b,Q.fill()):(Q.beginPath(),Q.rect(_,Y,U,h),Q.fillStyle=b,Q.fill())}if(j.$134u=s(0,f-k),x){var I=x.insertPosition,E=x.rect;j.drawTab(Q,x.view,l+E.x,k+E.y,E.width,E.height),j.drawInsertLine(j.getInsertLineDrawable(),l+E.x,k+I,E.width,1)}if(L){for(var d=null,u=0;u<z.size();u++){var R=z.get(u);R.view===L&&(d=R)}if(d){var J=d.rect,o=-j.getTranslateY();J.y+J.height>o+h?j.ty(h-J.y-J.height):J.y<o&&j.ty(-J.y)}delete j._makeVisibleView}j.ty(j.ty())}else{var K=M?k:k+T.height;j.drawTabHeaderBackground(y,l,K,X,h-T.height),Q.translate(j.tx(),0);for(var q,v,a=l+A,u=0;c>u;u++){var Z,g=m.get(u),C=j.getTabWidth(g);g!==w?(x&&x.view===g||(Z=j.drawTab(Q,g,a,K+r,C,W-r),Z&&(Z.x-=l,Z.y-=k)),z.add({closeRect:Z,view:g,rect:{x:a-l,y:K+r-k,width:C,height:W-r}})):q=a,a+=C+A}if(w){var G=m.indexOf(w);v=C=j.getTabWidth(w),x&&x.view===w||(Z=j.drawTab(Q,w,q,K+r,C,W-r),Z&&(Z.x-=l,Z.y-=k)),z.add({closeRect:Z,view:w,rect:{x:q-l,y:K+r-k,width:C,height:W-r}},G)}if(U>0&&b){var Y=K+W-U,_=l-j.tx();q!=$?(Q.beginPath(),Q.rect(_,Y,q-_,U),Q.rect(q+v,Y,_+X-(q+v),U),Q.fillStyle=b,Q.fill()):(Q.beginPath(),Q.rect(_,Y,_+X-_,U),Q.fillStyle=b,Q.fill())}if(j.$133u=s(0,a-l),x){var I=x.insertPosition,E=x.rect;j.drawTab(Q,x.view,l+E.x,k+E.y,E.width,E.height),j.drawInsertLine(j.getInsertLineDrawable(),l+I,k+E.y,1,E.height)}if(L){for(var d=null,u=0;u<z.size();u++){var R=z.get(u);R.view===L&&(d=R)}if(d){var J=d.rect,D=-j.getTranslateX();J.x+J.width>D+X?j.tx(X-J.x-J.width):J.x<D&&j.tx(-J.x)}delete j._makeVisibleView}j.tx(j.tx())}Q.restore()},getSerializableProperties:function(){var c=vp.TabLayout.superClass.getSerializableProperties.call(this);return lf(c,{movable:1,tabHeight:1,tabGap:1,tabGapTop:1,tabPosition:1,titleFont:1,tabPadding:1,titleColor:1,hoverTitleColor:1,activeTitleColor:1,moveTitleColor:1,iconWidth:1,iconHeight:1,iconTitleGap:1,closeIcon:1,closeIconDrawable:1,hoverCloseIcon:1,hoverCloseIconDrawable:1,activeCloseIcon:1,activeCloseIconDrawable:1,closeIconSize:1,closeIconX:1,closeIconY:1,tabHeaderBackground:1,tabHeaderBackgroundDrawable:1,tabHeaderLineColor:1,tabHeaderLineSize:1,tabBackground:1,tabBackgroundDrawable:1,hoverTabBackground:1,hoverTabBackgroundDrawable:1,activeTabBackground:1,activeTabBackgroundDrawable:1,moveTabBackground:1,moveTabBackgroundDrawable:1,insertLine:1,insertLineDrawable:1,autoMakeVisible:1,activeViewIndex:1})}}),vp.TabLayoutInteractor=function(B){this._view=B},db("ht.ui.TabLayoutInteractor",N,{ms_listener:1,getView:function(){return this._view.getView()},handle_mousewheel:function(P){this.handleScroll(P,10*(P.wheelDelta/40))},handle_DOMMouseScroll:function(d){this.handleScroll(d,10*-d.detail)},handleScroll:function(K,j){var Y=this._view,k=Y.getTabPosition();Y.isSelfViewEvent(K)&&(Qo(K),!Y.isHTabScrollable()||k!==hq&&k!==yb||Y.tx(Y.tx()+j),!Y.isVTabScrollable()||k!==xk&&k!==_i&&k!==xk+"-vertical"&&k!==_i+"-vertical"||Y.ty(Y.ty()+j))},isClickable:function(p){var Q=this._view,U=Q.getTabPosition();return!Q.isHTabScrollable()||U!==hq&&U!==yb?!Q.isVScrollable()||U!==xk&&U!==_i&&U!==xk+"-vertical"&&U!==_i+"-vertical"?p&&(!Q.getChildLayoutParams(p.view).disabled||Q.isMovable()):!0:!0},handle_mousemove:function(H){var K=this,O=K._view,A=O.getTabInfoAt(H);A?Dp()||(O.setCursor(K.isClickable(A)?a:""),O.setHoverViewIndex(O.getChildren().indexOf(A.view)),K.close||(O.closeIconHitTest(A,H)?(O.setCurrentCloseViewIndex(O.getChildren().indexOf(A.view)),O.setCurrentCloseState(om)):(O.setCurrentCloseViewIndex($),O.setCurrentCloseState($)))):(O.setCursor($),O.setHoverViewIndex($),K.close||(O.setCurrentCloseViewIndex($),O.setCurrentCloseState($)))},handle_mouseleave:function(){var u=this,I=u._view;I.setHoverViewIndex($)},handle_mousedown:function(z){this.handle_mousemove(z),this.handle_touchstart(z)},handle_touchstart:function(C){var x=this,j=x._view,v=j.getTabPosition();if(j.isSelfViewEvent(C)){Qo(C);var P=j.getTabInfoAt(C);x.isClickable(P)&&(j.getCurrentCloseState()!=$?(j.setCurrentCloseState(bg),x.tabInfo=P,x.close=!0):(x.tabInfo=P,x.$44u=Sc(C),x.lp=j.lp(C),v===hq||v===yb?x.$45u=j.tx():x.$46u=j.ty()),Gm(x,C))}},handleWindowMouseMove:function(T){this.handleWindowTouchMove(T)},handleWindowTouchMove:function(c){if(!this.close){var Y,M=this,X=M._view,y=X.getTabPosition(),L=M.tabInfo,P=M.lp;if(y===hq||y===yb){if(Y=Sc(c).x-M.$44u.x,!M.$130u&&!M.$202u&&Z(Y)>2&&(X.isHTabScrollable()&&!gi(c)?M.$130u=1:L&&X.isMovable()&&(M.$202u=1)),M.$130u)X.tx(M.$45u+Y);else if(M.$202u){var U=P.x+Y,K=X.getTabGap()/2;X.$38u.each(function(D){var p=D.rect,H=p.x+p.width,E=U-p.x<H-U;U>=p.x&&H>=U&&X.setMoveTabInfo({view:L.view,rect:{x:L.rect.x+Y,y:L.rect.y,width:L.rect.width,height:L.rect.height},front:E,insertView:D.view,insertPosition:E?s(0,p.x-K):m(X.$133u,H+K)})})}}else if(Y=Sc(c).y-M.$44u.y,!M.$130u&&!M.$202u&&Z(Y)>2&&(X.isVTabScrollable()&&!gi(c)?M.$130u=1:L&&X.isMovable()&&(M.$202u=1)),M.$130u)X.ty(M.$46u+Y);else if(M.$202u){var h=P.y+Y,K=X.getTabGap()/2;X.$38u.each(function(V){var C=V.rect,e=C.y+C.height,y=h-C.y<e-h;h>=C.y&&e>=h&&X.setMoveTabInfo({view:L.view,rect:{x:L.rect.x,y:L.rect.y+Y,width:L.rect.width,height:L.rect.height},front:y,insertView:V.view,insertPosition:y?s(0,C.y-K):m(X.$134u,e+K)})})}}},handleWindowMouseUp:function(S){this.handleWindowTouchEnd(S)},handleWindowTouchEnd:function(K){var E=this,s=E._view,v=s.getChildren(),i=E.tabInfo;if(E.close)s.closeIconHitTest(i,K)&&s.closeTab(i.view),s.setCurrentCloseViewIndex($),s.setCurrentCloseState($),delete E.close;else if(E.$202u){var S=s.getMoveTabInfo();if(S&&S.insertView!==S.view){var r=S.view;v.remove(r);var F=v.indexOf(S.insertView);F>=0&&(S.front||F++,F<=v.size()&&(v.add(r,F),s.fp(Um,$,v),s.setActiveViewIndex(F)))}s.setMoveTabInfo($),delete E.$202u}else!E.$130u&&i&&(r=i.view,s.getChildLayoutParams(r).disabled||s.getActiveView()===r||s.setActiveViewIndex(s.getChildren().indexOf(r)));E.$130u=E.tabInfo=E.$44u=E.lp=E.$45u=E.$46u=$}}),vp.Panel=function(){vp.Panel.superClass.constructor.call(this)},db("ht.ui.Panel",od,{ui_ac:["title","titleFont","titleColor","hoverTitleColor","activeTitleColor","drawable:icon","iconWidth","iconHeight","iconTitleGap","tools","toolWidth","toolHeight","toolGap","expanded","collapsable","collapseToolIndex","drawable:expandIcon","drawable:hoverExpandIcon","drawable:activeExpandIcon","drawable:collapseIcon","drawable:hoverCollapseIcon","drawable:activeCollapseIcon","headerVisible","headerHeight","headerPaddingLeft","headerPaddingRight","drawable:headerBackground","drawable:hoverHeaderBackground","drawable:activeHeaderBackground"],ms_ac:["currentToolIndex","currentToolState","contentView","headerState"],_preferredSizeProps:lf(up(kj._preferredSizeProps),{iconWidth:!0,iconHeight:!0,icon:!0,iconTitleGap:!0,title:!0,titleFont:!0,tools:!0,toolWidth:!0,toolHeight:!0,toolGap:!0,expanded:!0,contentView:!0,collapsable:!0,headerVisible:!0,headerHeight:!0,headerPaddingLeft:!0,headerPaddingRight:!0}),_minSizeProps:lf(up(kj._minSizeProps),{iconWidth:!0,iconHeight:!0,icon:!0,iconTitleGap:!0,title:!0,titleFont:!0,tools:!0,toolWidth:!0,toolHeight:!0,toolGap:!0,expanded:!0,contentView:!0,collapsable:!0,headerVisible:!0,headerHeight:!0,headerPaddingLeft:!0,headerPaddingRight:!0}),_domProps:lf(up(os._domProps),{expanded:!0}),_headerState:ej,__headerHeight:30,__iconTitleGap:5,__toolGap:8,__expanded:!0,__collapsable:!0,__headerVisible:!0,__titleFont:"12px Arial",__expandIcon:"panel_expand",__collapseIcon:"panel_collapse",__headerPaddingRight:8,__headerPaddingLeft:8,__toolWidth:16,__toolHeight:16,__iconWidth:12,__iconHeight:12,__titleColor:"black",__headerBackground:["ht.ui.drawable.PanelHeaderBackgroundDrawable",1,"#229ed5","#e2e4e4"],__borderRadius:"4px 4px 0 0",__border:new vp.border.LineBorder(1,"#e3e4e4"),setUpInteractors:function(){var h=this.$53u;h||(h=this.$53u=new vp.PanelInteractor(this),h.addListeners())},tearDownInteractors:function(){var s=this.$53u;s&&(s.removeListeners(),this.$53u=$)},$4u:function(j){var O=this,T=O.getContentView(),x=O.isHeaderVisible(),I=O.isExpanded(),N=O.getHeaderHeight(),Y={width:0,height:0};if(T){Y=up(T[Un(j+"Size")]()),I||(Y.height=0);var p=O.getChildLayoutParams(T);p&&(Y.width+=(p.marginLeft||0)+(p.marginRight||0),Y.height+=(p.marginTop||0)+(p.marginBottom||0))}if(x){Y.height+=N;var v=0,r=O.getIcon()||O.getIconDrawable(),y=O.getIconWidth(),M=O.getHeaderPaddingLeft(),H=O.getHeaderPaddingRight(),a=O.getIconTitleGap(),m="min"===j?0:30,G=O.getToolGap(),X=O.getTitle(),e=O.getTitleFont(),t=O.getTools();if(v+=M,r&&(v+=y+a),X&&(v+=Lb(e,X).width),(r||X)&&t&&(v+=m),t){t._as&&(t=t._as);for(var D=0;D<t.length;D++){var q=t[D];v+=O.getToolWidth(q),D<t.length-1&&(v+=G)}}v+=H,Y.width=s(v,Y.width)}return Y.width+=O.getBorderLeft()+O.getBorderRight()+O.getPaddingLeft()+O.getPaddingRight(),Y.height+=O.getBorderTop()+O.getBorderBottom()+O.getPaddingTop()+O.getPaddingBottom(),Y},figurePreferredSize:function(){return this.$4u("preferred")},figureMinSize:function(){return this.$4u("min")},setContentView:function(D,f){var O=this;O.getChildren(),O.clear(),O.addView(D,f,M,!0),O.setPropertyValue("contentView",D)},addView:function(r,X,w,G){if(!G)throw"Panel: Use setContentView instead of addView.";vp.Panel.superClass.addView.call(this,r,X,w)},getContentView:function(){return this._contentView},getTools:function(){var h=this,U=h._tools,O=h.isExpanded(),l=h.isCollapsable();U||(U=h.getStyleValue("tools"),U&&(U._as&&(U=U._as),U=U.slice(0))),U?U._as&&(U=U._as):U=[];for(var d,x=0;x<U.length;x++){var X=U[x];if(X.$203u){d=X;break}}if(l){var A=h.getCollapseToolIndex();d?U.splice(U.indexOf(d),1):(d=h._collapseTool,d||(d=h._collapseTool={$203u:!0,onClick:function(){var J=h.isExpanded();J?h.setExpanded(!1):h.setExpanded(!0)}})),A==$?U.push(d):U.splice(A,0,d),O?(d.iconDrawable=h.getCollapseIconDrawable(),d.hoverIconDrawable=h.getHoverCollapseIconDrawable(),d.activeIconDrawable=h.getActiveCollapseIconDrawable()):(d.iconDrawable=h.getExpandIconDrawable(),d.hoverIconDrawable=h.getHoverExpandIconDrawable(),d.activeIconDrawable=h.getActiveExpandIconDrawable())}else d&&U.splice(U.indexOf(d),1);return U},getCurrentTitleColor:function(K){var Q=this,P=Q.getTitleColor();return K||(K=Q.getHeaderState()),K===om?Q.getHoverTitleColor()||P:K===bg?Q.getActiveTitleColor()||P:P},getCurrentHeaderBackgroundDrawable:function(J){var n=this,Q=n.getHeaderBackgroundDrawable();return J||(J=n.getHeaderState()),J===om?n.getHoverHeaderBackgroundDrawable()||Q:J===bg?n.getActiveHeaderBackgroundDrawable()||Q:Q},getCurrentToolIconDrawable:function(K,H){var I=this,B=I.getCurrentToolIndex(),V=I.getCurrentToolState();if(H===B){var _;return!K.iconDrawable&&K.icon&&(K.iconDrawable=Xg(K.icon)),_=K.iconDrawable,V===ej?_:V===om?(!K.hoverIconDrawable&&K.hoverIcon&&(K.hoverIconDrawable=Xg(K.hoverIcon)),K.hoverIconDrawable||_):(!K.activeIconDrawable&&K.activeIcon&&(K.activeIconDrawable=Xg(K.activeIcon)),K.activeIconDrawable||_)}return!K.iconDrawable&&K.icon&&(K.iconDrawable=Xg(K.icon)),K.iconDrawable},drawTool:function(T,i,B,C,g,D){var d=this,H=d.getCurrentToolIconDrawable(T,i);H&&H.draw(B,C,g,D,T,d)},drawIcon:function(L,l,I,a,g){L&&L.draw(l,I,a,g,$,this)},drawTitle:function(D,e,S,P,u,t,W,r){fg(this.getRootContext(),e,S,P,u,t,W,r,xk,Eq)},headerHitTest:function(V){var c,Z=this,a=Z.$193u;return a?(c=V instanceof Event?Z.lp(V):V,Fb(a,c)):void 0},getToolIndex:function(g){var x=this,n=x.getTools();return n._as&&(n=n._as),n.indexOf(g)},getToolAt:function(k){var R,K=this,Q=K.getTools();if(K.isHeaderVisible()){R=k instanceof Event?K.lp(k):k;var a=K.getToolWidth(),q=K.getToolHeight(),l=K.getToolGap(),X=K.getHeaderHeight(),$=K.getHeaderPaddingRight();Q._as&&(Q=Q._as);for(var o=K.getContentWidth()-$-a,L=Q.length-1;L>=0;L--){var P={x:o,y:(X-q)/2,width:a,height:q};if(Fb(P,R))return Q[L];o-=l,o-=a}}},addTool:function(O,H){var g=this,f=g._tools=g.getTools();f._as&&(f=f._as),H!=$?f.splice(H,0,O):f.push(O),g.fp("tools",$,g.getTools())},removeToolAt:function(g){var k=this,i=k._tools=k.getTools();i._as&&(i=i._as),i.splice(g,1),k.fp("tools",$,k.getTools())},handleToolClick:function(U,h){var F=this,J=F.getTools();J._as&&(J=J._as);var u=J[U];u.onClick&&u.onClick.call(F,h),F.fireViewEvent({kind:"clickTool",tool:u,toolIndex:U,event:h}),F.fireViewEvent({kind:"toolClick",tool:u,toolIndex:U,event:h})},drawHeaderBackground:function(n,B,z,J,P){n&&n.draw(B,z,J,P,$,this)},drawHeader:function(i,Z,P,G){var B=this,u=(B.getHeaderState(),B.getCurrentHeaderBackgroundDrawable()),h=B.getRootContext(),D=B.getIconDrawable(),l=B.getIconWidth(),H=B.getIconHeight(),S=B.getTitle(),T=B.getTitleFont(),r=B.getCurrentTitleColor(),U=B.getTools(),M=B.getHeaderPaddingLeft(),$=B.getHeaderPaddingRight(),v=B.getIconTitleGap(),m=B.getToolWidth(),N=B.getToolHeight(),W=B.getToolGap();B.drawHeaderBackground(u,i,Z,P,G);var k=i+M;if(D&&(B.drawIcon(D,k,Z+(G-H)/2,l,H),k+=l+v),S&&B.drawTitle(h,S,T,r,k,Z,P,G),U){var f=i+P-$-m,t=Z+(G-N)/2;U._as&&(U=U._as);for(var p=U.length-1;p>=0;p--){var g=U[p];B.drawTool(g,p,f,t,m,N),f-=m,f-=W}}},getHeight:function(){var p,r=this,K=r.isExpanded();return c._uiSerializing?r.getPropertyValue(fq):p=K?r.getPropertyValue(fq):r.$4u("min").height},$5u:function(q){var V,u=this,y=u.isHeaderVisible(),z=u.getHeaderHeight(),Z=u.isExpanded(),a=u.getContentWidth(),W=u.getContentHeight(),P=q.marginLeft||0,k=q.marginRight||0,p=q.marginTop||0,J=q.marginBottom||0;return V=Z?{x:P,y:(y?z:0)+p,width:a-P-k,height:W-(y?z:0)-p-J}:{x:P,y:(y?z:0)+p,width:a-P-k,height:0}},validateImpl:function(b,g,k){var v=this,V=v.isHeaderVisible(),u=v.getHeaderHeight(),m=v.getContentView();if(v.$193u=$,V&&(v.$193u={x:0,y:0,width:k,height:u},v.drawHeader(b,g,k,u)),m){var r=v.getChildLayoutParams(m),Q=v.$5u(r);v.layoutChild(m,Q.x,Q.y,Q.width,Q.height)}},getSerializableProperties:function(){var t=vp.Panel.superClass.getSerializableProperties.call(this);return delete t.children,lf(t,{title:1,titleFont:1,titleColor:1,hoverTitleColor:1,activeTitleColor:1,icon:1,iconDrawable:1,iconWidth:1,iconHeight:1,iconTitleGap:1,tools:1,toolWidth:1,toolHeight:1,toolGap:1,expanded:1,collapsable:1,collapseToolIndex:1,expandIcon:1,expandIconDrawable:1,hoverExpandIcon:1,hoverExpandIconDrawable:1,activeExpandIcon:1,activeExpandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,hoverCollapseIcon:1,hoverCollapseIconDrawable:1,activeCollapseIcon:1,activeCollapseIconDrawable:1,headerVisible:1,headerHeight:1,headerPaddingLeft:1,headerPaddingRight:1,headerBackground:1,headerBackgroundDrawable:1,hoverHeaderBackground:1,hoverHeaderBackgroundDrawable:1,activeHeaderBackground:1,activeHeaderBackgroundDrawable:1,contentView:1})}}),vp.PanelInteractor=function(j){this._view=j},db("ht.ui.PanelInteractor",N,{ms_listener:1,getView:function(){return this._view._interactionDiv},handle_mousedown:function(v){this.handle_touchstart(v)},handle_touchstart:function(K){var L=this,U=L._view;if(L.handle_mousemove(K),!K._stop){var X=U.getCurrentToolIndex();if(U.isSelfViewEvent(K)&&Qo(K),typeof X===f&&X>=0)L.$31u=Sc(K),U.setCurrentToolState(bg),Gm(L,K);else{var D=U.headerHitTest(K);D&&(U.setHeaderState(bg),Gm(L,K))}}},handleWindowMouseUp:function(K){this.handleWindowTouchEnd(K)},handleWindowTouchEnd:function(R){var s=this,Q=s._view,J=Q.getToolIndex(Q.getToolAt(R));if(delete s.$31u,!im&&typeof J===f&&J>=0)Q.setCurrentToolIndex(J),Q.setCurrentToolState(om);else{Q.setCurrentToolIndex($),Q.setCurrentToolState(ej);var r=Q.headerHitTest(R);r&&!im?Q.setHeaderState(om):Q.setHeaderState(ej)}},handle_mouseup:function(E){this.handle_touchend(E)},handle_touchend:function(F){var c=this,a=c._view,W=a.getCurrentToolIndex(),e=c.$31u,J=Sc(F);e&&typeof W===f&&W>=0&&lr(e,J)<2&&a.handleToolClick(W,F)},handleWindowMouseMove:function(X){this.handleWindowTouchMove(X)},handleWindowTouchMove:function(){},handle_mousemove:function(D){var h=this,n=h._view;if(!Dp()){var Q=n.getToolIndex(n.getToolAt(D));if(typeof Q===f&&Q>=0)n.setCurrentToolIndex(Q),n.setCursor(a),n.setCurrentToolState(om);else{n.setCursor($),n.setCurrentToolState(ej),n.setCurrentToolIndex($);var x=n.headerHitTest(D);x?n.setHeaderState(om):n.setHeaderState(ej)}}},handle_touchmove:function(){},handle_mouseleave:function(){var y=this,r=y._view,m=r.getCurrentToolState(),c=r.getHeaderState();m!==bg&&(r.setCurrentToolState(ej),r.setCurrentToolIndex($)),c!==bg&&r.setHeaderState(ej)}}),vp.Dialog=function(){var w=this;vp.Dialog.superClass.constructor.call(w),w.$201u=function(){w.isMaximized()&&w.invalidateDOM()}},db("ht.ui.Dialog",vp.Panel,{ui_ac:["is:modal","resizable","maskBackground","drawable:closeIcon","drawable:hoverCloseIcon","drawable:activeCloseIcon","closable","closeToolIndex","maximizable","maximized","maximizeToolIndex","drawable:maximizeIcon","drawable:hoverMaximizeIcon","drawable:activeMaximizeIcon","drawable:restoreIcon","drawable:hoverRestoreIcon","drawable:activeRestoreIcon","footerHeight","drawable:footerBackground","buttonGap","buttonAlign","footerPaddingLeft","footerPaddingRight"],ms_ac:[Mn,"buttons"],_preferredSizeProps:lf(up(vp.Panel.prototype._preferredSizeProps),{buttons:!0,buttonGap:!0,closable:!0,maximized:!0,footerHeight:!0,footerPaddingLeft:!0,footerPaddingRight:!0}),_minSizeProps:lf(up(vp.Panel.prototype._minSizeProps),{buttons:!0,buttonGap:!0,closable:!0,maximized:!0,footerHeight:!0,footerPaddingLeft:!0,footerPaddingRight:!0}),_domProps:lf(up(vp.Panel.prototype._domProps),{maximized:!0}),_dynamicDOM:!0,__modal:!0,__closable:!0,__footerHeight:26,__footerPaddingLeft:10,__footerPaddingRight:10,__buttonGap:4,__buttonAlign:"right",__expandIcon:"dialog_expand",__hoverExpandIcon:"dialog_hoverExpand",__activeExpandIcon:"dialog_hoverExpand",__collapseIcon:"dialog_collapse",__hoverCollapseIcon:"dialog_hoverCollapse",__activeCollapseIcon:"dialog_hoverCollapse",__closeIcon:"dialog_close",__hoverCloseIcon:"dialog_hoverClose",__activeCloseIcon:"dialog_hoverClose",__maximizeIcon:"dialog_maximize",__hoverMaximizeIcon:"dialog_hoverMaximize",__activeMaximizeIcon:"dialog_hoverMaximize",__restoreIcon:"dialog_restore",__hoverRestoreIcon:"dialog_hoverRestore",__activeRestoreIcon:"dialog_hoverRestore",__maximizable:!0,__buttonViews:$,__maskBackground:"rgba(0, 0, 0, 0.2)",__resizable:!0,__background:"white",__titleColor:"white",__headerBackground:["ht.ui.drawable.PanelHeaderBackgroundDrawable",1,"#229ed5","rgba(19, 158, 215, 1)","rgba(19, 158, 215, 0.2)"],__boxShadow:"0 8px 8px rgba(19, 158, 215, 0.6)",__borderRadius:"4px",__toolWidth:12,__toolHeight:12,__border:M,setUpInteractors:function(){var i=this.$53u;i||(i=this.$53u=new vp.DialogInteractor(this),i.addListeners())},getX:function(){var m,Z=this,J=Z.isMaximized();return c._uiSerializing?vp.Dialog.superClass.getX.call(Z):m=J?rd().left:vp.Dialog.superClass.getX.call(Z)},getY:function(){var H,U=this,s=U.isMaximized();return c._uiSerializing?vp.Dialog.superClass.getY.call(U):H=s?rd().top:vp.Dialog.superClass.getY.call(U)},getWidth:function(){var i,S=this,E=S.isMaximized();if(c._uiSerializing)return S.getPropertyValue(ug);if(E){var M=rd();i=M.width}else i=vp.Dialog.superClass.getWidth.call(S);return i},getHeight:function(){var z,r=this,y=r.isExpanded(),F=r.isMaximized();if(c._uiSerializing)return r.getPropertyValue(fq);if(y&&F){var Q=rd();z=Q.height}else z=vp.Dialog.superClass.getHeight.call(r);return z},initView:function(c){var x=this;vp.Dialog.superClass.initView.call(x,c);var R=x._interactionDiv,P=x._view;R.style.overflow=Mn,P.style.overflow=Mn;var m=x.$19u=oq(!1),u=m.style;u.position="fixed",u.width="100%",u.height="100%",u.left="0",u.top="0",im?(x.$14u=x.$172u("18px","100%",$,-10,0,$),x.$15u=x.$172u("18px","100%",-10,$,0,$),x.$16u=x.$172u("100%","18px",0,$,$,-10),x.$17u=x.$172u("18px","18px",-10,$,$,-10),x.$18u=x.$172u("18px","18px",$,-10,$,-10)):(x.$14u=x.$172u("9px","100%",$,-5,0,$),x.$15u=x.$172u("9px","100%",-5,$,0,$),x.$16u=x.$172u("100%","9px",0,$,$,-5),x.$17u=x.$172u("9px","9px",-5,$,$,-5),x.$18u=x.$172u("9px","9px",$,-5,$,-5))},isSelfViewEvent:function(z){var X=this,e=vp.Dialog.superClass.isSelfViewEvent.call(X,z);if(!e){var v=Uq(z);(v===X.$14u||v===X.$15u||v===X.$16u||v===X.$17u||v===X.$18u||v===X.$19u)&&(e=!0)}return e},getResizeDivAt:function(z){var T=this,d=T.$14u,q=T.$15u,C=T.$16u,R=T.$17u,Q=T.$18u,Y=Uq(z);return d.contains(Y)?"east":q.contains(Y)?"west":C.contains(Y)?"south":R.contains(Y)?"southwest":Q.contains(Y)?"southeast":void 0},getTools:function(){var h=this,C=vp.Dialog.superClass.getTools.call(h),R=h.isClosable(),Y=h.isMaximizable();C._as&&(C=C._as);for(var L,G,z=0;z<C.length;z++){var A=C[z];A.$204u?L=A:A.$205u&&(G=A)}if(Y){var t=h.getMaximizeToolIndex();G?C.splice(C.indexOf(G),1):(G=h._maximizeTool,G||(G=h._maximizeTool={$205u:!0,onClick:function(){h.setMaximized(!h.isMaximized())}})),t==$?C.push(G):C.splice(t,0,G),h.isMaximized()?(G.iconDrawable=h.getRestoreIconDrawable(),G.hoverIconDrawable=h.getHoverRestoreIconDrawable(),G.activeIconDrawable=h.getActiveRestoreIconDrawable()):(G.iconDrawable=h.getMaximizeIconDrawable(),G.hoverIconDrawable=h.getHoverMaximizeIconDrawable(),G.activeIconDrawable=h.getActiveMaximizeIconDrawable())}else G&&C.splice(C.indexOf(G),1);if(R){var S=h.getCloseToolIndex();L?C.splice(C.indexOf(L),1):(L=h._closeTool,L||(L=h._closeTool={$204u:!0,onClick:function(){h.hide()}})),S==$?C.push(L):C.splice(S,0,L),L.iconDrawable=h.getCloseIconDrawable(),L.hoverIconDrawable=h.getHoverCloseIconDrawable(),L.activeIconDrawable=h.getActiveCloseIconDrawable()}else L&&C.splice(C.indexOf(L),1);return C},getButtonViews:function(){var S=this,x=S.$138u,R=S.$198u;if(!x){x=S.$138u=[];var I=S.getButtons();if(I){I._as&&(I=I._as);for(var F=0;F<I.length;F++){var g=new vp.Button,d=I[F];for(var M in d){var N=Wo(M);N&&g[N]&&g[N](d[M])}g.addViewListener(function(O){"click"===O.kind&&S.handleButtonClick(O)}),x.push(g),S.addView(g,$,$,!0),R.appendChild(g.getView())}}}return x},onPropertyChanged:function(c){var J=this,y=c.property;vp.Dialog.superClass.onPropertyChanged.call(J,c),"visible"===y&&(c.newValue?(J._oldBodyOverflow=H.body.style.overflow,H.body.style.overflow="hidden",Q.addEventListener("resize",J.$201u),J.iv(!0)):(H.body.style.overflow=J._oldBodyOverflow,delete J._oldBodyOverflow,Q.removeEventListener("resize",J.$201u)))
},$172u:function(F,H,T,C,_,m){var A=this,a=oq(!0,A._interactionDiv),v=a.style;return v.width=F,v.height=H,v.background="red",v.opacity="0",T!=$&&(a.$20u=T),C!=$&&(a.$21u=C),_!=$&&(a.$22u=_),m!=$&&(a.$23u=m),a},handleButtonClick:function(g){var A=this,L=g.source,X=A.getButtonViews().indexOf(L),k=A.getButtons()[X];k.onClick&&k.onClick.call(A,L,g),A.fireViewEvent({kind:"clickButton",button:L,source:A,buttonEvent:g})},$24u:function(){var I=this,R=I.getButtonGap(),F=I.getButtonViews(),W=0;if(F){F._as&&(F=F._as);for(var H=F.length,y=0;H>y;y++)W+=I.getButtonWidth(F[y]),H-1>y&&(W+=R)}return W},$4u:function(N){var H=this,J=H.getFooterHeight(),R=H.getFooterPaddingLeft(),r=H.getFooterPaddingRight(),K=H.getButtons(),j=vp.Dialog.superClass.$4u.call(H,N);if(K){j.height+=J;var x=R+r;x+=H.$24u(),x+=H.getBorderLeft()+H.getBorderRight()+H.getPaddingLeft()+H.getPaddingRight(),j.width=s(j.width,x)}return j},getButtonWidth:function(Y){return Y.getPreferredSize().width},getButtonHeight:function(h){return h.getPreferredSize().height},addButton:function(Y,u){var R=this,v=R.getButtons();v||(v=R._buttons=[]),v._as&&(v=v._as),u!=$?v.splice(u,0,Y):v.push(Y),R.$138u=$,R.fp("buttons",$,R.getButtons())},removeButtonAt:function(J){var x=this,U=x.getButtons();U&&(U._as&&(U=U._as),U.splice(J,1),x.$138u=$,x.fp("buttons",$,x.getButtons()))},drawFooterBackground:function(R,e,l,_,Z){R&&R.draw(e,l,_,Z,$,this)},show:function(B,H){var N=this,W=N.isVisible();if(B&&H==$&&(H=B.y,B=B.x),!W){if(B==$&&H==$){var S=N.getCenterPosition();B=S.x,H=S.y}B!=$&&N.setX(B),H!=$&&N.setY(H),N.getWidth()==$&&N.setWidth(N.getPreferredSize().width),N.getHeight()==$&&N.setHeight(N.getPreferredSize().height),N.setVisible(!0)}},hide:function(){var V=this,y=V.isVisible();y&&V.setVisible(!1)},getCenterPosition:function(){var m=this,B=rd(),Y=m.getWidth()||m.getPreferredSize().width,Q=m.getHeight()||m.getPreferredSize().height;return{x:(B.width-Y)/2,y:(B.height-Q)/2}},$5u:function(b){var E,Z=this,O=Z.isExpanded(),x=Z.getFooterHeight(),l=Z.getButtons();return E=vp.Dialog.superClass.$5u.call(Z,b),O&&l&&(l._as&&(l=l._as),l.length>0&&(E.height-=x)),E},$25u:function(){var x=this,j=x.$14u,O=x.$15u,H=x.$16u,b=x.$17u,C=x.$18u,Q=x.getBorder(),z=0,q=0,V=0,U=0;Q&&Q.isCSSBorder()&&(z=x.getBorderLeft(),q=x.getBorderRight(),V=x.getBorderTop(),U=x.getBorderBottom()),[j,O,H,b,C].forEach(function(m){m.$20u&&(m.style.left=m.$20u-z+Fq),m.$21u&&(m.style.right=m.$21u-q+Fq),m.$22u&&(m.style.top=m.$22u-V+Fq),m.$23u&&(m.style.bottom=m.$23u-U+Fq)})},validateImpl:function(Y,b,U,q){var G=this,N=G.getView(),g=G.isVisible(),J=G.getFooterHeight(),T=G.getButtonAlign(),d=G.getButtonGap(),j=G.getButtonViews(),B=G.$19u,I=G._interactionDiv;if(g){if(N.parentNode||H.body.appendChild(N),vp.Dialog.superClass.validateImpl.call(G,Y,b,U,q),G.isModal()?(B.parentNode||N.insertBefore(B,I),B.style.background=G.getMaskBackground()):pc(B),j&&j.length>0){var A=b+q-J;if(G.drawFooterBackground(G.getFooterBackgroundDrawable(),Y,A,U,J),T===xk)for(var t=G.getFooterPaddingLeft(),P=0;P<j.length;P++){var f=j[P],C=G.getButtonWidth(f),v=G.getButtonHeight(f),M=q-J+(J-v)/2;G.layoutChild(f,t,M,C,v),t+=C+d}else if(T===_i)for(var t=U-G.getFooterPaddingRight(),P=j.length-1;P>=0;P--){var f=j[P],C=G.getButtonWidth(f),v=G.getButtonHeight(f),M=q-J+(J-v)/2;t-=C,G.layoutChild(f,t,M,C,v),t-=d}else for(var u=G.$24u(),t=(U-u)/2,P=0;P<j.length;P++){var f=j[P],C=G.getButtonWidth(f),v=G.getButtonHeight(f),M=q-J+(J-v)/2;G.layoutChild(f,t,M,C,v),t+=C+d}}G.$25u()}else pc(N)},getSerializableProperties:function(){var V=vp.Dialog.superClass.getSerializableProperties.call(this);return lf(V,{"is:modal":1,resizable:1,maskBackground:1,closeIcon:1,closeIconDrawable:1,hoverCloseIcon:1,hoverCloseIconDrawable:1,activeCloseIcon:1,activeCloseIconDrawable:1,closable:1,closeToolIndex:1,maximizable:1,maximized:1,maximizeToolIndex:1,maximizeIcon:1,maximizeIconDrawable:1,hoverMaximizeIcon:1,hoverMaximizeIconDrawable:1,activeMaximizeIcon:1,activeMaximizeIconDrawable:1,restoreIcon:1,restoreIconDrawable:1,hoverRestoreIcon:1,hoverRestoreIconDrawable:1,activeRestoreIcon:1,getActiveRestoreIconDrawable:1,footerHeight:1,footerBackground:1,footerBackgroundDrawable:1,buttonGap:1,buttonAlign:1,footerPaddingLeft:1,footerPaddingRight:1,buttons:1,visible:1})}}),vp.DialogInteractor=function(S){this._view=S},db("ht.ui.DialogInteractor",vp.PanelInteractor,{ms_listener:1,getView:function(){return this._view._interactionDiv},handle_mousedown:function(W){this.handle_touchstart(W)},handle_touchstart:function(e){var f=this,v=f._view,A=v.isMaximized();if(vp.DialogInteractor.superClass.handle_touchstart.call(f,e),!A)if(v.getHeaderState()===bg)f.$27u=Jq(e);else{var F=f.$26u;if(F){v.isSelfViewEvent(e)&&Qo(e),f.$26u=F,f.$28u=Jq(e),Gm(f,e);var o=f.$19u=oq(),Q=v._interactionDiv;o.style.width=Q.style.width,o.style.height=Q.style.height,o.style.left=Q.style.left,o.style.top=Q.style.top,Q.parentNode.appendChild(o)}}},handleWindowMouseUp:function(E){this.handleWindowTouchEnd(E)},handleWindowTouchEnd:function(h){var J=this,g=J._view,J=this,V=J.$26u,p=J.$12u;if(V?(pc(J.$19u),J.$19u=$):vp.DialogInteractor.superClass.handleWindowTouchEnd.call(J,h),V&&p){var K=p.style.left,C=p.style.width,X=p.style.height;g.setX(g.getX()+$h(K)),g.setWidth($h(C)),g.setHeight($h(X)),pc(p)}J.$12u=J.$26u=J.$28u=J.$27u=$},handle_mouseup:function(s){this.handle_touchend(s)},handle_touchend:function(x){var J=this;vp.DialogInteractor.superClass.handle_touchend.call(J,x)},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowTouchMove:function(O){var $=this,Z=$._view,H=$.$26u;if(Z.isSelfViewEvent(O)&&Qo(O),$.$27u){var Y=$.$27u,P=Jq(O),w=Z.getHeaderHeight()+Z.getBorderTop()+Z.getPaddingTop(),B=P.x-Y.x,S=P.y-Y.y,U=Z.getX(),v=Z.getY(),t=U+B,z=v+S,x=rd();0>z&&(z=0),z+w>x.height&&(z=x.height-w),t+Z.getWidth()<30&&(t=30-Z.getWidth()),t+30>x.width&&(t=x.width-30),Z.setX(t),Z.setY(z),Y.x+=t-U,Y.y+=z-v}else if(H){var T=$.$28u,P=Jq(O),p=Z.getWidth(),l=Z.getHeight(),q=$.$12u;if(!q){q=$.$12u=oq(!1,Z._view);var y=q.style;y.border="1px dashed black",y.left="0px",y.top="0px",y.width=p+Fq,y.height=l+Fq}var B=P.x-T.x,S=P.y-T.y,u=Z.getMinSize().width,Q=Z.getMinSize().height,e=Z.getMaxSize().width,j=Z.getMaxSize().height;/east/.test(H)?(u>p+B&&(B=u-p),p+B>e&&(B=e-p),q.style.width=p+B+Fq):/west/.test(H)&&(u>p-B&&(B=p-u),p-B>e&&(B=p-e),q.style.width=p-B+Fq,q.style.left=B+Fq),/south/.test(H)&&(Q>l+S&&(S=Q-l),l+S>j&&(S=j-l),q.style.height=l+S+Fq)}},handle_mousemove:function(Y){var k,f=this,G=f._view,u=G.isResizable(),x=G.isExpanded(),j=G.isMaximized();Dp()||j||!x||(f.$26u=$,u&&(k=f.$26u=G.getResizeDivAt(Y),k?"east"===k?G.setCursor("e-resize"):"west"===k?G.setCursor("w-resize"):"south"===k?(G.setCursor("s-resize"),f._toolIndex=$):"southwest"===k?G.setCursor("sw-resize"):"southeast"===k&&G.setCursor("se-resize"):G.setCursor(""))),k?Y._stop=!0:c.ui.DialogInteractor.superClass.handle_mousemove.call(f,Y)},handle_touchmove:function(){},handle_mouseleave:function(g){var t=this,P=t._view;P.setCursor(""),vp.DialogInteractor.superClass.handle_mouseleave.call(t,g)}}),c.ui.ScrollInteractor=function(A){this._view=A},db("ht.ui.ScrollInteractor",N,{ms_listener:1,getView:function(){return this._view._interactionDiv},clear:function(){var p=this,P=p.$19u;p._state=p.$44u=p.$45u=p.$46u=p.$19u=p._view._scrolling=$,P&&p.getView().removeChild(P)},handle_mousedown:function(I){this.handle_touchstart(I)},handle_touchstart:function(F){var $=this,e=$._view;if(e.isSelfViewEvent(F)){var s=e.isCloseToVScrollBar(F),y=e.isCloseToHScrollBar(F),U=Sc(F);if(s||y){Qo(F),s?$._state="vScroll":y&&($._state="hScroll"),$.$44u=U,$.$45u=e.tx(),$.$46u=e.ty();var H=$.$19u=oq();H.style.width="100%",H.style.height="100%",$.getView().insertBefore(H,$._view._scrollBarDiv),Gm($,F),F.$146u=!0,e._scrolling=!0,e.showScrollBar()}}},handleWindowMouseUp:function(N){this.handleWindowTouchEnd(N)},handleWindowTouchEnd:function(q){this.clear(q)},handle_mouseup:function(d){this.handle_touchend(d)},handle_touchend:function(A){this.clear(A)},handleWindowMouseMove:function(c){this.handleWindowTouchMove(c)},handleWindowTouchMove:function(k){var L=this,O=L._view,F=L._state,z=L.$45u,$=L.$46u,o=L.$44u,w=Sc(k),t=O.$118u;"vScroll"===F?(O.setTranslateY($+(o.y-w.y)*O.$188u/t.height),k.$146u=!0):"hScroll"===F&&(O.setTranslateX(z+(o.x-w.x)*O.$189u/t.width),k.$146u=!0)},handle_mousemove:function(V){this.handle_touchmove(V)},handle_touchmove:function(X){if(!Dp()&&gd(X)){var c=this,D=c._view;if(D.isSelfViewEvent(X)){var z=D.isCloseToVScrollBar(X),d=D.isCloseToHScrollBar(X);(z||d)&&D.showScrollBar()}}},handle_mousewheel:function(q){this.handleScroll(q,q.wheelDelta/40,q.wheelDelta!==q.wheelDeltaX)},handle_DOMMouseScroll:function(K){this.handleScroll(K,-K.detail,!0)},handleScroll:function(j,S,R){var q=this._view,F=q.$118u,M=q.getScrollRect();q.isSelfViewEvent(j)&&(q.showScrollBar(),R&&q.isVScrollable()?S>0?F.y<=0?j.preventDefault():(q.translate(0,20*S),j.$146u=!0):0>S&&(M.height-F.height<=F.y?j.preventDefault():(q.translate(0,20*S),j.$146u=!0)):q.isHScrollable()&&(S>0?F.x<=0?j.preventDefault():(q.translate(10*S,0),j.$146u=!0):0>S&&(M.width-F.width<=F.x?j.preventDefault():(q.translate(10*S,0),j.$146u=!0))))}}),vp.HtmlView=function(N){vp.HtmlView.superClass.constructor.call(this),N&&this.setContent(N)},db("ht.ui.HtmlView",Ld,{ui_txy:1,ui_ac:["is:autoRefreshPreferredSize"],ms_ac:["content"],_preferredSizeProps:lf(up(os._preferredSizeProps),{content:!0}),setUpInteractors:function(){var o=this.$66u;o||(o=this.$66u=new vp.ScrollInteractor(this),o.addListeners())},tearDownInteractors:function(){var P=this.$66u;P&&(P.removeListeners(),this.$66u=$)},figurePreferredSize:function(){var V=this,E=V.getContent(),s=V.getWidth(),d=oq();V.isAutoRefreshPreferredSize()&&s!=$&&(d.style.width=s+Fq),E instanceof HTMLElement?d.appendChild(E):ed(E)&&(d.innerHTML=E),d.style.visibility="hidden",H.body.appendChild(d);var G={width:V.getPaddingLeft()+V.getPaddingRight()+V.getBorderLeft()+V.getBorderRight()+d.scrollWidth,height:V.getPaddingTop()+V.getPaddingBottom()+V.getBorderTop()+V.getBorderBottom()+d.scrollHeight};return E instanceof HTMLElement&&V.$198u.appendChild(E),H.body.removeChild(d),G},onPropertyChanged:function(m){var n=this,$=m.property;if(vp.HtmlView.superClass.onPropertyChanged.call(n,m),"content"===$){var g=n.getContent(),k=n.$198u;g&&(g instanceof HTMLElement?n.inflateDOM(k,g):ed(g)&&n.inflateHTMLStr(k,g))}},validateImpl:function(R,S,d,o){var w=this,g=w.$198u;w.isAutoRefreshPreferredSize()?w.$120u!==d&&(w.$181u("content"),w.$120u=d):w.$120u=M;var x=g.scrollWidth,Q=g.scrollHeight,Y=w.tx(),C=w.ty();w.$118u={x:-Y,y:-C,width:d,height:o},w.$189u=x,w.$188u=Q,g.scrollTop=-C,g.scrollLeft=-Y},inflateDOM:function(V,N){V.appendChild(N)},inflateHTMLStr:function(r,l){r.innerHTML=l},getSerializableProperties:function(){var c=vp.HtmlView.superClass.getSerializableProperties.call(this);return lf(c,{autoRefreshPreferredSize:1,content:1,scrollBarMode:1,scrollBarColor:1,scrollBarSize:1,scrollBarTimeout:1,scrollBarMinLength:1,scrollBarActiveSize:1,autoScrollSize:1,translateX:1,translateY:1})}}),vp.HTView=function(z){vp.HTView.superClass.constructor.call(this),this.setContent(z)},db("ht.ui.HTView",Ld,{ms_ac:["content"],figurePreferredSize:function(){return{width:200,height:200}},onPropertyChanged:function(L){var B=this,J=L.property;if(vp.HTView.superClass.onPropertyChanged.call(B,L),"content"===J){var W=L.oldValue,u=B.getContent(),l=B.$198u;if(W&&l.removeChild(W.getView()),u){var z=u.getView();l.appendChild(z),u.getView().style.left="0",u.getView().style.top="0",u.getView().style.width="100%",u.getView().style.height="100%"}}},validateImpl:function(w,S,V,o){var E=this,U=E.getContent();vp.HTView.superClass.validateImpl.call(E,w,S,V,o),U.iv(),U.validate()},getSerializableProperties:function(){var F=vp.HTView.superClass.getSerializableProperties.call(this);return lf(F,{content:1})}}),vp.ButtonBase=function(){vp.ButtonBase.superClass.constructor.call(this)},db("ht.ui.ButtonBase",Ld,{ui_ac:["drawable:icon","iconWidth","iconHeight","iconTextGap","text","textColor","textFont","hTextPosition","vTextPosition","align","vAlign","toolTip"],_preferredSizeProps:lf(up(os._preferredSizeProps),{icon:!0,iconDrawable:!0,iconWidth:!0,iconHeight:!0,iconTextGap:!0,text:!0,textFont:!0,hTextPosition:!0,vTextPosition:!0}),$141u:{width:0,height:0},__align:"center",__vAlign:"middle",__iconWidth:16,__iconHeight:16,__iconTextGap:4,__padding:[2,6,2,6],__textFont:"12px Arial",__textColor:"black",__hTextPosition:"right",__vTextPosition:"middle",figureTextSize:function(){var X=this,C=X.getText(),o=X.getTextFont();return C?Lb(o,C):{width:0,height:0}},getTextSize:function(){return this.$141u},figurePreferredSize:function(){var T=this,x=T.getTextSize(),G=T.getIconDrawable(),y=T.getIconWidth(),i=T.getIconHeight(),v=T.getHTextPosition(),H=T.getVTextPosition(),U=T.getIconTextGap(),D=T.getBorderLeft(),j=T.getBorderRight(),S=T.getBorderTop(),M=T.getBorderBottom(),k=T.getPaddingTop(),h=T.getPaddingBottom(),d=T.getPaddingLeft(),F=T.getPaddingRight();return x={width:x.width,height:x.height},G&&y&&i&&(v===di?H===hq||H===yb?(x.height+=i+(0===x.height?0:U),x.width=s(x.width,y)):H===Eq&&(x.width=s(x.width,y),x.height=s(x.height,i)):(v===xk||v===_i)&&(x.width+=y+(0===x.width?0:U),x.height=s(x.height,i))),x.width=w(x.width+D+j+d+F),x.height=w(x.height+S+M+k+h),x},onPropertyChanged:function(i){var C=this,G=i.property;("parent"!==G||i.newValue!=$||C.isInDOM())&&(("text"===G||"textFont"===G||"style"===G||"parent"===G)&&(C.$141u=C.figureTextSize()),vp.ButtonBase.superClass.onPropertyChanged.call(C,i))},drawText:function(p,Z,M,b,w,Q,X){var N=this.getRootContext();N.beginPath(),fg(N,p,Z,M,b,w,Q,X,di,Eq)},drawIcon:function(w,l,o,b,v){w&&(w.getStretch()||(w._stretch="fill"),w.draw(l,o,b,v,$,this))},hitTest:function(l){var h=this,U=h._view;return l instanceof Event?U.contains(Uq(l)):l?l.x>=0&&l.x<=h.getWidth()&&l.y>=0&&l.y<=h.getHeight():void 0},validateImpl:function(_,G,g,N){var K,i,j=this,I=j.getAlign(),S=j.getVAlign(),h=j.getIconDrawable(),H=j.getIconWidth(),q=j.getIconHeight(),e=j.getHTextPosition(),B=j.getVTextPosition(),U=(j.getIconTextGap(),j.getTextSize()),T=j.getBorderLeft(),Q=j.getBorderRight(),c=j.getBorderTop(),E=j.getBorderBottom(),n=j.getPaddingTop(),k=j.getPaddingBottom(),d=j.getPaddingLeft(),X=j.getPaddingRight(),D=j.figurePreferredSize(),P=D.width-T-Q-d-X,t=D.height-c-E-n-k;e===di?B===hq?(K={x:(g-U.width)/2,y:(N-t)/2},i=h?{x:(g-H)/2,y:(N+t)/2-q}:$):B===Eq?(K={x:(g-U.width)/2,y:(N-U.height)/2},i=h?{x:(g-H)/2,y:(N-q)/2}:$):B===yb&&(i=h?{x:(g-H)/2,y:(N-t)/2}:$,K={x:(g-U.width)/2,y:(N+t)/2-U.height}):(e===xk?(i=h?{x:(g+P)/2-H}:$,K={x:(g-P)/2}):(K={x:(g+P)/2-U.width},i=h?{x:(g-P)/2}:$),B===hq?(i&&(i.y=(N-s(U.height,q))/2),K.y=(N-s(U.height,q))/2):B===Eq?(i&&(i.y=(N-q)/2),K.y=(N-U.height)/2):B===yb&&(i&&(i.y=(N+s(U.height,q))/2-q),K.y=(N+s(U.height,q))/2-U.height));var b=(g-P)/2,F=(N-t)/2;I===xk?(K&&(K.x-=b),i&&(i.x-=b)):I===_i&&(K&&(K.x+=b),i&&(i.x+=b)),S===hq?(K&&(K.y-=F),i&&(i.y-=F)):S===yb&&(K&&(K.y+=F),i&&(i.y+=F)),i&&(i.x+=_,i.y+=G,i.width=H,i.height=q,j.drawIcon(h,i.x,i.y,i.width,i.height)),K&&(K.x+=_,K.y+=G,K.width=U.width,K.height=U.height,j.drawText(j.getText(),j.getTextFont(),j.getTextColor(),K.x,K.y,K.width,K.height))},getSerializableProperties:function(){var F=vp.ButtonBase.superClass.getSerializableProperties.call(this);return lf(F,{icon:1,iconDrawable:1,iconWidth:1,iconHeight:1,iconTextGap:1,text:1,textColor:1,textFont:1,hTextPosition:1,vTextPosition:1,align:1,vAlign:1,toolTip:1})}}),vp.Label=function(o){vp.Label.superClass.constructor.call(this),this.setText(o)},db("ht.ui.Label",vp.ButtonBase,{setUpInteractors:function(){var p=this.$53u;p||(p=this.$53u=new vp.LabelInteractor(this),p.addListeners())}}),vp.LabelInteractor=function(w){this._label=w},db("ht.ui.LabelInteractor",N,{ms_listener:1,getView:function(){return this._label._interactionDiv},handle_mousedown:function(h){this.handle_touchstart(h)},handle_touchstart:function(r){var Z=this._label;Z.isSelfViewEvent(r)&&Qo(r)}}),vp.Button=function(){vp.Button.superClass.constructor.call(this)},db("ht.ui.Button",vp.ButtonBase,{ui_ac:["hoverTextColor","activeTextColor","drawable:hoverIcon","drawable:activeIcon","drawable:hoverBackground","drawable:activeBackground"],ms_ac:["state"],_preferredSizeProps:lf(up(vp.ButtonBase.prototype._preferredSizeProps),{hoverIconDrawable:!0,activeIconDrawable:!0,hoverIcon:!0,activeIcon:!0}),_state:ej,__background:"#009fda",__hoverBackground:"#c3edf8",__activeBackground:"#007ca7",__textColor:"#fff",__hoverTextColor:"#0095cc",__activeTextColor:"#fff",setUpInteractors:function(){var i=this.$53u;i||(i=this.$53u=new vp.ButtonInteractor(this),i.addListeners())},drawBackground:function(K,f,x,b,R,Z){var Q=this;K=Q.getCurrentBackgroundDrawable(),vp.Button.superClass.drawBackground.call(Q,K,f,x,b,R,Z)},drawText:function(I,t,p,O,D,L,N){var n=this;p=n.getCurrentTextColor(),vp.Button.superClass.drawText.call(n,I,t,p,O,D,L,N)},drawIcon:function(q,i,Q,f,K){var U=this;q=U.getCurrentIconDrawable(),vp.Button.superClass.drawIcon.call(U,q,i,Q,f,K)},getCurrentBackgroundDrawable:function(Q){var l=this,E=l.getBackgroundDrawable();return Q||(Q=l.getState()),Q===ej?E:Q===om?l.getHoverBackgroundDrawable()||E:Q===bg?l.getActiveBackgroundDrawable()||E:void 0},getCurrentTextColor:function(F){var L=this,E=L.getTextColor();return F||(F=L.getState()),F===ej?E:F===om?L.getHoverTextColor()||E:F===bg?L.getActiveTextColor()||E:void 0},getCurrentIconDrawable:function(S){var Q=this,K=Q.getIconDrawable();return S||(S=Q.getState()),S===ej?K:S===om?Q.getHoverIconDrawable()||K:S===bg?Q.getActiveIconDrawable()||K:void 0},getSerializableProperties:function(){var M=vp.Button.superClass.getSerializableProperties.call(this);return lf(M,{hoverTextColor:1,activeTextColor:1,hoverIcon:1,hoverIconDrawable:1,activeIcon:1,activeIconDrawable:1,hoverBackground:1,hoverBackgroundDrawable:1,activeBackground:1,activeBackgroundDrawable:1})}}),vp.ButtonInteractor=function(M){vp.ButtonInteractor.superClass.constructor.call(this,M)},db("ht.ui.ButtonInteractor",vp.Interactor,{handle_mousedown:function(_){this.handle_touchstart(_)},handle_touchstart:function(Y){Qo(Y);var M=this,m=M.getComponent();m.hitTest(Y)&&(m.requestFocus(),m.setState(bg),M.$47u=!0,Gm(M,Y))},handleWindowMouseUp:function(U){this.handleWindowTouchEnd(U)},handleWindowTouchEnd:function(){var F=this;F.$47u=$},handle_mouseup:function(T){this.handle_touchend(T)},handle_touchend:function(o){var d=this,U=d.getComponent();d.$47u&&(im?U.setState(ej):U.setState(om),U.validate(),U.fireViewEvent({kind:"click",event:o,source:U,target:U}))},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handle_mousemove:function(e){var R=this,u=R.getComponent();u.hitTest(zf(e))?R.$47u?u.setState(bg):Dp()||u.setState(om):u.setState(ej)},handle_touchmove:function(){},handle_mouseleave:function(){var d=this,e=d.getComponent();e.setState(ej)},handle_keydown:function(){}}),vp.ToggleButton=function(){vp.ToggleButton.superClass.constructor.call(this)},db("ht.ui.ToggleButton",vp.Button,{ui_ac:["selected","drawable:selectIcon","drawable:selectHoverIcon","drawable:selectActiveIcon","drawable:selectBackground","drawable:selectHoverBackground","drawable:selectActiveBackground","selectTextColor","selectHoverTextColor","selectActiveTextColor"],_preferredSizeProps:lf(up(vp.Button.prototype._preferredSizeProps),{selectIcon:!0,selectHoverIcon:!0,selectActiveIcon:!0}),_formDataValueProps:{selected:!0},ms_ac:["radios","formDataName"],__preferredSize:{width:34,height:20},__minSize:{width:34,height:20},__hoverBackground:M,__activeBackground:M,__textColor:"#000",__hoverTextColor:"#000",__activeTextColor:"#000",__background:["ht.ui.drawable.ImageDrawable","ui_toggle_off","fill"],__selectBackground:["ht.ui.drawable.ImageDrawable","ui_toggle_on","fill"],setUpInteractors:function(){var Z=this.$53u;Z||(Z=this.$53u=new vp.ToggleButtonInteractor(this),Z.addListeners())},getCurrentTextColor:function(Q){var e=this,E=e.isSelected(),P=e.getTextColor(),A=e.getSelectTextColor();if(Q||(Q=e.getState()),E){if(Q===ej)return A;if(Q===om)return e.getSelectHoverTextColor()||A;if(Q===bg)return e.getSelectActiveTextColor()||A}else{if(Q===ej)return P;if(Q===om)return e.getHoverTextColor()||P;if(Q===bg)return e.getActiveTextColor()||P}},getFormDataProperties:function(){return this._formDataValueProps},setFormDataValue:function(Q){Q?this.setSelected(!0):this.setSelected(!1)},getFormDataValue:function(){return this.isSelected()},setRadios:function(L){var t=this,K=t.getRadios();K!==L&&(t.setPropertyValue("radios",L),K&&K.remove(t),L&&L.add(t))},getCurrentBackgroundDrawable:function(M){var l=this,k=l.isSelected(),y=l.getBackgroundDrawable(),v=l.getSelectBackgroundDrawable();if(M||(M=l.getState()),k){if(M===ej)return v;if(M===om)return l.getSelectHoverBackgroundDrawable()||v;if(M===bg)return l.getSelectActiveBackgroundDrawable()||v}else{if(M===ej)return y;if(M===om)return l.getHoverBackgroundDrawable()||y;if(M===bg)return l.getActiveBackgroundDrawable()||y}},getCurrentIconDrawable:function(J){var z=this,w=z.isSelected(),_=z.getIconDrawable(),P=z.getSelectIconDrawable();if(J||(J=z.getState()),w){if(J===ej)return P;if(J===om)return z.getSelectHoverIconDrawable()||P;if(J===bg)return z.getSelectActiveIconDrawable()||P}else{if(J===ej)return _;if(J===om)return z.getHoverIconDrawable()||_;if(J===bg)return z.getActiveIconDrawable()||_}},getSerializableProperties:function(){var H=vp.ToggleButton.superClass.getSerializableProperties.call(this);return lf(H,{selected:1,selectIcon:1,selectIconDrawable:1,selectHoverIcon:1,selectHoverIconDrawable:1,selectActiveIcon:1,selectActiveIconDrawable:1,selectBackground:1,selectBackgroundDrawable:1,selectHoverBackground:1,selectHoverBackgroundDrawable:1,selectActiveBackground:1,selectActiveBackgroundDrawable:1,selectTextColor:1,selectHoverTextColor:1,selectActiveTextColor:1,radios:1,formDataName:1})}}),vp.ToggleButtonInteractor=function(F){vp.ToggleButtonInteractor.superClass.constructor.call(this,F)},db("ht.ui.ToggleButtonInteractor",vp.ButtonInteractor,{handle_touchend:function(U){var W=this,j=W.getComponent();W.$47u&&(j.setSelected(!j.isSelected()),j.setState(om),j.validate(),j.fireViewEvent({kind:"click",event:U,target:j}))}}),vp.CheckBox=function(){vp.CheckBox.superClass.constructor.call(this)},db("ht.ui.CheckBox",vp.ToggleButton,{ui_ac:["value"],_formDataValueProps:{value:!0,selected:!0},__preferredSize:M,__minSize:M,__background:M,__selectBackground:M,__icon:"ui_"+S,__selectIcon:"ui_"+L,__padding:2,setFormDataValue:function(M){var F=this,f=F.getValue();mf(M)?M.indexOf(f)>=0?F.setSelected(!0):F.setSelected(!1):f===M?F.setSelected(!0):F.setSelected(!1)},getFormDataValue:function(){var G=this,d=G.getValue();return G.isSelected()?d:M},getSerializableProperties:function(){var T=vp.CheckBox.superClass.getSerializableProperties.call(this);return lf(T,{value:1})}}),vp.RadioButton=function(){vp.RadioButton.superClass.constructor.call(this)},db("ht.ui.RadioButton",vp.ToggleButton,{ui_ac:["value"],_formDataValueProps:{value:!0,selected:!0},__preferredSize:M,__minSize:M,__background:M,__selectBackground:M,__icon:"ui_"+_,__selectIcon:"ui_"+P,__padding:2,setFormDataValue:function(g){var h=this,o=h.getValue();mf(g)?g.indexOf(o)>=0?h.setSelected(!0):h.setSelected(!1):o===g?h.setSelected(!0):h.setSelected(!1)},getFormDataValue:function(){var j=this,v=j.getValue();return j.isSelected()?v:M},getSerializableProperties:function(){var H=vp.RadioButton.superClass.getSerializableProperties.call(this);return lf(H,{value:1})}}),c.ui.Radios=function(){var l=this;l.$158u=[]},db("ht.ui.Radios",N,{ms_ac:["emptiable"],ms_fire:!0,$171u:function(M){var R=this,v=M.source,L=M.property,f=R.$158u;if("selected"===L){var w=M.newValue;w?(R._flag=!0,f.forEach(function(Z){Z!==v&&Z.setSelected(!1)}),R._flag=!1):R._flag||(R.isEmptiable()?v.setSelected(w):v.setSelected(!0))}for(var Z,g=0;g<f.length;g++){var v=f[g];if(v.isSelected()){Z=v;break}}var K=R.$83u;Z!=K&&(R.$83u=Z,R.firePropertyChange("selectedButton",K,Z))},getSelectedButton:function(){return this.$83u},getButtons:function(){return this.$158u},add:function(Q){var p=this,e=p.$158u;Q.setRadios(p),Q&&e.indexOf(Q)<0&&(e.push(Q),Q.addPropertyChangeListener(p.$171u,p))},remove:function(s){var A=this,a=A.$158u;if(s&&a.indexOf(s)>=0){a.splice(a.indexOf(s),1),s.removePropertyChangeListener(A.$171u,A);var U=A.$83u;s==U&&(delete A.$83u,A.firePropertyChange("selectedButton",U,$))}},clear:function(){var w=this,k=w.$158u;k.forEach(function(x){x.removePropertyChangeListener(w.$171u,w)}),k.length=0,w.$83u=$},getSerializableProperties:function(){return{}}}),vp.ContextMenu=function(){vp.ContextMenu.superClass.constructor.call(this)},db("ht.ui.ContextMenu",Ld,{ui_ac:["items","rowHeight",Mn,"visibleFunc","gapLeft","gapRight","drawable:hoverRowBackground","hoverMenuItem","bottomMargin","shortcutEnabled","separatorColor","separatorSize","prefixWidth","prefixGapRight","iconWidth","iconGapRight",O,b,"disabledLabelColor","hoverLabelColor","labelGapRight","labelLeftAligned","suffixGapRight","drawable:indicatorIcon","indicatorWidth","indicatorColor","hoverIndicatorColor","drawable:radioOnIcon","drawable:radioOffIcon","drawable:checkIcon","drawable:uncheckIcon"],_styleProps:{padding:!0,border:!0,background:!0,backgroundDrawable:!0,zIndex:!0,rowHeight:!0,gapLeft:!0,gapRight:!0,hoverRowBackground:!0,hoverRowBackgroundDrawable:!0,bottomMargin:!0,separatorColor:!0,separatorSize:!0,prefixWidth:!0,prefixGapRight:!0,iconWidth:!0,iconGapRight:!0,labelFont:!0,labelColor:!0,disabledLabelColor:!0,hoverLabelColor:!0,labelGapRight:!0,labelLeftAligned:!0,suffixGapRight:!0,indicatorIcon:!0,indicatorWidth:!0,indicatorColor:!0,hoverIndicatorColor:!0,radioOnIcon:!0,radioOffIcon:!0,checkIcon:!0,uncheckIcon:!0,radioOnIconDrawable:!0,radioOffIconDrawable:!0,checkIconDrawable:!0,uncheckIconDrawable:!0,boxShadow:!0,borderRadius:!0},_domProps:{},_dynamicDOM:!0,_idSeq:0,__padding:[5,0,5,0],__boxShadow:"0 3px 8px #9b9b9b",__borderRadius:"4px",__position:{x:0,y:0},__bottomMargin:0,__rowHeight:24,__iconWidth:16,__prefixWidth:16,__prefixGapRight:6,__iconGapRight:6,__labelGapRight:30,__suffixGapRight:2,__labelLeftAligned:!0,__hoverRowBackground:"#229ed5",__background:"white",__separatorSize:1,__separatorColor:"#E2E4E4",__labelColor:"black",__gapLeft:8,__gapRight:8,__labelFont:"12px Arial",__disabledLabelColor:"gray",__hoverLabelColor:"white",__indicatorIcon:"contextmenu_indicator",__indicatorWidth:16,__radioOnIcon:"ui_"+P,__radioOffIcon:"ui_"+_,__checkIcon:"ui_"+L,__uncheckIcon:"ui_"+S,setUpInteractors:function(){var Y=this,S=Y.$53u;S||(S=Y.$53u=new vp.ContextMenuInteractor(Y),S.addListeners())},tearDownInteractors:function(){var m=this,Q=m.$53u;Q&&(Q.removeListeners(),m.$53u=$)},initView:function(){var j=this,m=j._view=oq();j._view.htComp=j,m.setAttribute(C,"ht-view "+j.getClassName()),m.style.left="0",m.style.top="0"},setShortcutEnabled:function(V){var Y=this;V?(Y.$168u&&Y.$168u.dispose(),Y.$168u=new c.Mousetrap,Y.ivm()):Y.$168u&&(Y.$168u.dispose(),delete Y.$168u),Y.setPropertyValue("shortcut",V)},isDisabled:function(){return!1},onPropertyChanged:function(R){var D=this,l=R.property;if(["items","visibleFunc","position",Mn].indexOf(l)>=0){"items"===l&&(D._idSeq=0,D.each(function($){$._id=++D._idSeq}),D.ivm());var P=D.$209u;P||(P=D.$209u={}),D.each(function(x){var G=D.isItemVisible(x);P[x._id]!==G&&D.ivm(),P[x._id]=G})}D.iv()},figureItemsSize:function(r){for(var M,Y,G,H,F,m=this,P=0,p=0,E=m.getLabelFont(),z=0,w=r.length;w>z;z++){var e=r[z];if(("check"===e.type||"radio"===e.type)&&(Y=!0),(e.suffix||e.shortcut)&&(H=!0),m.$61u[e._id]&&(G=!0),m.getMenuItemIconDrawable(e)&&(F=!0),Y&&H&&G&&F)break}for(var z=0,w=r.length;w>z;z++){var e=r[z];if(e.width!=$)M=M==$?e.width:s(M,e.width);else{var d=e.label,b=e.suffix||e.shortcut,S=m.getIconWidth(e),Z=m.getPrefixWidth(e),t=m.getIndicatorWidth(e),I=Lb(E,d);G&&(I.width+=t),F&&(I.width+=S+m.getIconGapRight(e)),Y&&(I.width+=Z+m.getPrefixGapRight(e)),H&&(p=Lb(E,b).width,I.width+=p+m.getSuffixGapRight(e)),(G||H)&&(I.width+=m.getLabelGapRight(e)),M=M==$?I.width:s(M,I.width)}var f=m.getRowHeight(e);P+=f}return M=$h(M),P=$h(P),{itemSize:{width:M,height:P},suffixWidth:p}},getRowHeight:function(t){var U=this.getPropertyValue("rowHeight");if(t){if(t.height)return t.height;if("-"===t.type)return U/2}return U},ivm:function(){var u=this;u.$116u||(u.$116u=!0,u.iv())},validateModel:function(){var i=this;i._itemsMap={},i.$61u={},i.$60u={},i.$63u={},i._view.innerHTML="",i.$168u&&i.$168u.reset(),i.$56u()},$56u:function(E){var y=this,G=E?E.items:y.getItems(),f=E?E._id:0,x=y.$61u,j=y.$63u,M=y.$168u;if(G){var g=[];if(G.forEach(function(w){if(w._pid=f,y._itemsMap[w._id]=w,"radio"===w.type){var s=w.groupId;s!=$&&(j[s]||(j[s]=[]),j[s].push(w))}y.$209u[w._id]&&g.push(w)}),g.length>0){var A=y._view,h=jq($,!0),X=y.getBoxShadow(),Y=y.getBorderRadius(),Z=oq(!1);X!=$&&(h.style.boxShadow=X),Y!=$&&(h.style.borderRadius=Y),Z.className="ht-content",Z.style.visibility="hidden",h.contentDiv=Z,h.style.visibility="hidden",A.appendChild(h),A.appendChild(Z),h.$59u=f,y.$60u[f]=h,x[f]=g,g.forEach(function(A){M&&A.shortcut&&M.bind(A.shortcut,function(n){A.preventDefault!==!1&&n.preventDefault(),y.isItemDisabled(A)||y.clickItem(A,n)}),y.$56u(A)})}}},isItemDisabled:function(O){var S=O.disabled;return ys(S)?S.call(this,O)?!0:void 0:!!S},isItemVisible:function(f){var o=this.getVisibleFunc();return o?o.call(this,f):!0},each:function(I,Q,W){var L=this,j=W?W.items:L.getItems();if(j)for(var q=0,x=j.length;x>q;q++){var y=j[q],e=I.call(Q||L,y);if(e===!1)break;L.each(I,Q,y)}},findItemByLabel:function(M){var J;return this.each(function(m){return m.label===M?(J=m,!1):void 0}),J},selectItem:function(c){if("radio"===c.type){var t=c.groupId;if(t!=$)for(var G=this.$63u[t],e=0,j=G.length;j>e;e++){var N=G[e];N.selected=N===c?!0:!1}else c.selected=!c.selected}else"check"===c.type&&(c.selected=!c.selected)},clickItem:function(v,p){var U=this;v.action&&v.action.call(U,v,p),U.fireViewEvent({kind:"action",event:p,item:v,source:U}),U.$61u[v._id]||U.hide(v)},drawRowBackground:function(l,o,a,q,s,U,F){l&&l.draw(o,a,q,s,U,this,F)},isHoverMenuItem:function(R){for(var L=this,b=L.getHoverMenuItem(),H=L._itemsMap;b;){if(b===R&&"-"!==b.type)return!0;b=H[b._pid]}},drawSeparator:function(b,v,Q,H,I,U){b.beginPath(),b.fillStyle=v,b.rect(Q,H,I,U),b.fill()},drawPrefix:function(R,u,A,n,S,k,L){R&&R.draw(u,A,n,S,k,this,L)},drawSuffix:function(l,Q,B,K,L,w,k,f,E,_){fg(l,Q,B,K,L,w,k,f,E,_)},drawIcon:function(G,Q,t,n,i,d,r){G.draw(Q,t,n,i,d,this,r)},drawLabel:function(G,s,x,E,T,U,v,K,O,z){fg(G,s,x,E,T,U,v,K,O,z)},drawIndicatorIcon:function(h,e,u,s,k,p,$){h.draw(e,u,s,k,p,this,$)},drawItem:function(w,t,P,R,A,h,g,L){var u=this,b=u.getIconWidth(t),q=u.getPrefixWidth(t),H=u.getIndicatorWidth(t),W=u.getSuffixGapRight(t),M=u.getLabelFont(t),Z=u.getGapLeft(),N=u.getGapRight(),s=u.$61u,j=P.x,I=P.y,G=P.width,x=P.height,D=u.getRootContext(w);if(t.renderer){var d=t.renderer.call(u,D,t,P,A,h,g);return d&&R.appendChild(d),void 0}if("-"===t.type){var J=u.getSeparatorSize(t);u.drawSeparator(D,u.getSeparatorColor(t),j+Z,I+(x-J)/2,G,J,t)}else{var a=u.isHoverMenuItem(t);a?u.drawRowBackground(u.getHoverRowBackgroundDrawable(t),j,I,G+Z+N,x,t,w):u.drawRowBackground($,j,I,G+Z+N,x,t,w);var c=j+Z;if("check"===t.type){var p=t.selected;"function"==typeof p&&(p=p.call(u,t));var v=p?u.getCheckIconDrawable(t):u.getUncheckIconDrawable(t);u.drawPrefix(v,c,I,q,x,t,w)}else if("radio"===t.type){var p=t.selected;"function"==typeof p&&(p=p.call(u,t));var U=p?u.getRadioOnIconDrawable(t):u.getRadioOffIconDrawable(t);u.drawPrefix(U,c,I,q,x,t,w)}c+=h?q+u.getPrefixGapRight(t):0;var Y=u.getMenuItemIconDrawable(t);Y?(u.drawIcon(Y,c,I,b,x,t,w),c+=b+u.getIconGapRight(t)):g&&u.isLabelLeftAligned(t)&&(c+=b+u.getIconGapRight(t));var k=a?u.getHoverLabelColor(t):u.getLabelColor(t),m=u.isItemDisabled(t);m&&(k=u.getDisabledLabelColor(t)),u.drawLabel(D,t.label,M,k,c,I,G,x,$,$,t);var f=t.suffix||t.shortcut;f&&(c=L?j+Z+G-H-A-W:j+Z+G-A-W,u.drawSuffix(D,f,M,k,c,I,A,x,_i,$,t)),s[t._id]&&u.drawIndicatorIcon(u.getIndicatorIconDrawable(t),j+Z+G-H,I,H,x,t,w)
}},$57u:function(b,X,N){var e=this,n=e.$61u,k=e.$60u,J=e.getPaddingTop(),p=e.getPaddingRight(),E=e.getPaddingBottom(),A=e.getPaddingLeft(),G=e.getBorderLeft(),v=e.getBorderRight(),i=e.getBorderTop(),q=e.getBorderBottom(),I=e.getGapLeft(),x=e.getGapRight(),C=e.getHoverMenuItem(),W=e._itemsMap,B=X?X._id:0,c=n[B];if(c){var d=e.figureItemsSize(c),V=d.itemSize,Z=d.suffixWidth,F=k[B],o=F.contentDiv,_=F.style,f=V.width+A+p+G+v+I+x,H=V.height+J+E+i+q;An(F,f,H);var Q=e.getBottomMargin(),g="hidden";if(0===B){var j=e.getX(),T=e.getY();j+f>b.left+b.width&&(j=b.left+b.width-f),T+H+Q>b.top+b.height&&(T=b.top+b.height-H-Q),_.left=j+Fq,_.top=T+Fq,o.style.left=j+Fq,o.style.top=T+Fq,g=Mn}else if(C){if(C._id===B){var O=k[W[X._id]._pid],j=$h(O.style.left)+$h(O.style.width)-v,T=$h(O.style.top)+(N||0);j+f>b.left+b.width&&(j=$h(O.style.left)-f+G),T+H+Q>b.top+b.height&&(T=b.top+b.height-H-Q),_.left=j+Fq,_.top=T+Fq,o.style.left=j+Fq,o.style.top=T+Fq}e.isHoverMenuItem(X)&&(g=Mn)}if(_.visibility=g,o.style.visibility=g,g===Mn){e.drawBackground(e.getBackgroundDrawable(),G,i,f-G-v,H-i-q,F),e.drawBorder(e.getBorder(),0,0,f,H,F);for(var P,r,K,z=0,h=c.length;h>z;z++){var R=c[z];if(("check"===R.type||"radio"===R.type)&&(P=!0),e.getMenuItemIconDrawable(R)&&(r=!0),e.$61u[R._id]&&(K=!0),P&&r&&K)break}for(var S=J+i,z=0,h=c.length;h>z;z++){var R=c[z],L=e.getRowHeight(R),m={x:A+G,y:S,width:V.width,height:L};e.drawItem(F,R,m,o,Z,P,r,K),S+=L}F.$93u&&(F.$93u.restore(),F.$93u=$)}S=0;for(var z=0,h=c.length;h>z;z++){var R=c[z];e.$57u(b,R,S),S+=e.getRowHeight(R)}}},getRootContext:function(j){var z=j.$93u;return z||(z=j.$93u=ts(j),Oe(z,0,0,1)),z},layoutDOM:function(){},processValidateImpl:function(){var u=this,O=u._view,P=u.isVisible();u.$116u&&(u.validateModel(),delete u.$116u),P?(H.body.appendChild(O),u.$57u(rd())):pc(O)},lp:function(x){var I=this,J=I.$60u,S=Sc(x);for(var Q in J){var O=J[Q];if(O.contains(Uq(x))){var $=O.getBoundingClientRect();return{id:Q,lp:{x:S.x-$.left,y:S.y-$.top}}}}},getMenuItemAt:function(e){var x,J,t=this;if(e.target){var y=t.lp(e);if(y==$)return;J=y.id,x=y.lp}for(var g=t.$61u[J],O=t.getPaddingTop(),F=t.getBorderTop(),X=O+F,r=0;r<g.length;r++){var z=g[r],u=t.getRowHeight(z);if(X+=u,x.y<=X&&x.y>X-u)return z}},getMenuItemIconDrawable:function($){return!$.iconDrawable&&$.icon&&($.iconDrawable=Xg($.icon)),$.iconDrawable},$210u:function(w){H.addEventListener(im?"touchstart":"mousedown",w,!0)},$211u:function(O){H.removeEventListener(im?"touchstart":"mousedown",O,!0)},getInvoker:function(){return this.$226u},addToDOM:function(d){if(d){if(this.$226u)throw new Error("菜单不能加到多个组件上");d.getView&&(d=d.getView());var f=this,$=f.$53u;f.$226u=d,f.$131u=function(w){$.handleDocMouseDown(w)},f.$132u=function(r){$.handleViewParentContextMenu(r)},d.addEventListener("contextmenu",f.$132u)}},show:function(z,x){var E,S=this;1===arguments.length&&(E=z,E=zf(E),z=E.pageX,x=E.pageY),S.setX(z),S.setY(x),S.isVisible()!==!0&&(S.fireViewEvent({kind:"beforeShow",event:E,source:S}),S.setVisible(!0),S.fireViewEvent({kind:"afterShow",event:E,source:S}),1===arguments.length&&S.$210u(S.$131u)),kl(function(){S._view.focus()})},hide:function(a){var g=this;g.isVisible()!==!1&&(g.fireViewEvent({kind:"beforeHide",item:a,source:g}),g.setVisible(!1),g._hoverMenuItem=$,g.$211u(g.$131u),g.fireViewEvent({kind:"afterHide",item:a,source:g}))},dispose:function(){var j=this,W=j.$226u,z=j._view;z&&(pc(z),W&&W.removeEventListener("contextmenu",j.$132u),j.$168u&&j.$168u.dispose(),j._view=j._items=j.$226u=j.$168u=j.$131u=j.$132u=$)},getSerializableProperties:function(){return{border:1,background:1,backgroundDrawable:1,cursor:1,padding:1,toolTipEnabled:1,zIndex:1,id:1,focusable:1,style:1,boxShadow:1,borderRadius:1,items:1,rowHeight:1,visibleFunc:1,gapLeft:1,gapRight:1,hoverRowBackground:1,hoverRowBackgroundDrawable:1,bottomMargin:1,shortcutEnabled:1,separatorColor:1,separatorSize:1,prefixWidth:1,prefixGapRight:1,iconWidth:1,iconGapRight:1,labelFont:1,labelColor:1,disabledLabelColor:1,hoverLabelColor:1,labelGapRight:1,labelLeftAligned:1,suffixGapRight:1,indicatorIcon:1,indicatorIconDrawable:1,indicatorWidth:1,indicatorColor:1,hoverIndicatorColor:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1}}}),c.ui.ContextMenuInteractor=function(w){this._view=w,w.getView().addEventListener("contextmenu",function(b){b.stopPropagation(),b.preventDefault()})},db("ht.ui.ContextMenuInteractor",N,{ms_listener:1,getView:function(){return this._view.getView()},handle_mousedown:function(v){this.handle_touchstart(v)},handle_touchstart:function(y){this.$58u=Jq(y),im&&this.handle_mousemove(y)},handleWindowMouseUp:function(){},handleWindowTouchEnd:function(){},handle_mouseup:function(N){this.handle_touchend(N)},handle_touchend:function(Y){var M=this,k=M._view,s=M.$58u;if(s){var o=Jq(Y),b=lr(s,o);if(2>b){var U=k.getMenuItemAt(Y);if(U){if(k.isItemDisabled(U))return;k.selectItem(U),k.clickItem(U,Y)}}}},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handle_mousemove:function(O){var R=this._view;if(R.isVisible()){var B=R.getMenuItemAt(O);if(!B||B&&R.isItemDisabled(B)){var b=Uq(O);b.$59u!==$&&(B=R._itemsMap[b.$59u])}R.setHoverMenuItem(B)}},handle_touchmove:function(){},handle_mouseout:function(Q){var v=this._view;if(v.isVisible()){var X,r=Uq(Q);r.$59u!==$&&(X=v._itemsMap[r.$59u]),X&&v.isItemDisabled(X)&&(X=$),v.setHoverMenuItem(X)}},handle_keydown:function(Q){var Y=this._view;As(Q)&&Y.hide()},handleViewParentContextMenu:function(v){im&&(v=getTouch(v));var T=Uq(v);T.tagName,v.preventDefault(),this._view.show(v)},handleDocMouseDown:function(a){this.getView().contains(Uq(a))||this._view.hide()}}),vp.TextField=function(){vp.TextField.superClass.constructor.call(this)},db("ht.ui.TextField",Ld,{ui_ac:["drawable:icon","drawable:hoverIcon","drawable:activeIcon","iconWidth","iconHeight","iconTextGap","iconPosition",J,"font","maskRe","placeholder","is:readOnly","maxLength","is:instant","type"],ms_ac:["iconState","value","formDataName"],_preferredSizeProps:lf(up(os._preferredSizeProps),{font:!0,iconWidth:!0,iconHeight:!0,iconTextGap:!0,icon:!0,iconDrawable:!0}),_formDataValueProps:{value:!0},_textSizeProps:{font:!0,style:!0,parent:!0},_iconState:ej,__padding:[0,2,0,2],__color:"black",__font:"12px Arial",__iconWidth:16,__iconHeight:16,__iconTextGap:4,__iconPosition:"left",__background:"white",__border:new c.ui.border.FocusLineBorder(1,"#d9d9d9","#0092d4",4),__borderRadius:"4px",__redrawOnFocus:!0,requestFocus:function(){this.isFocusable()&&this._input.focus()},initView:function(){var e=this;vp.TextField.superClass.initView.call(e);var A=e.initInput();e.$198u.appendChild(A);var B=e._view,h=e._interactionDiv,L=e.$198u;B.removeAttribute("tabIndex"),h.removeAttribute("tabIndex"),L.removeAttribute("tabIndex")},isSelfViewEvent:function(H){var r=this,g=od.superClass.isSelfViewEvent.call(r,H);if(!g){var F=Uq(H);F===r._input&&(g=!0)}return g},setValue:function(S,j){var $=this;j&&$.isInstant()||$.setInputValue(S),$.setPropertyValue("value",S)},setFocusable:function(){},setInputValue:function(v){var u=this._input;"file"!==this.getType()?u.value=v!=$?v:"":v==$&&(u.value=$)},initInput:function(){var r=this,g=r._input=r.createInputDOM();return g.style.position="absolute",g.style.boxSizing="border-box",g.style.width="100%",g.style.height="100%",g.style.border="0",g.style.resize=be,g.style.outline=be,g.style.backgroundColor="rgba(0,0,0,0)",g.addEventListener("change",function(){r instanceof vp.ComboBox?r.$227u&&r.setValue(g.value):r.setValue(g.value)}),g},getInput:function(){return this._input},getFormDataProperties:function(){return this._formDataValueProps},setFormDataValue:function(u){this.setValue(u)},getFormDataValue:function(){var M=this,C=M.getValue(),j=M.getType();return"file"===j?M.getInput().files:"number"===j?C!=$&&""!==C?parseFloat(C):C:C},getCurrentIconDrawable:function(p){var q=this,D=q.getIconDrawable();return p||(p=q.getIconState()),p===ej?D:p===om?q.getHoverIconDrawable()||D:p===bg?q.getActiveIconDrawable()||D:void 0},createInputDOM:function(){return H.createElement("input")},onPropertyChanged:function(f){var Y=this,n=f.property;Y._textSizeProps[n]&&(Y.$141u=$),vp.TextField.superClass.onPropertyChanged.call(Y,f)},setUpInteractors:function(){var _=this.$53u;_||(_=this.$53u=new vp.TextFieldInteractor(this),_.addListeners())},figureTextSize:function(){var A=this,O=A.getFont();return Lb(O,"AaBbFfgG$PER")},getTextSize:function(){var w=this.$141u;return w||(w=this.$141u=this.figureTextSize()),w},getToolTip:function(){return this.getValue()},figurePreferredSize:function(){var v=this,D=v.getTextSize(),K=v.getIconDrawable(),y=v.getIconWidth(),I=v.getIconHeight(),O=v.getIconTextGap(),c=v.getBorderLeft(),n=v.getBorderRight(),H=v.getBorderTop(),_=v.getBorderBottom(),u=v.getPaddingTop(),Y=v.getPaddingBottom(),R=v.getPaddingLeft(),f=v.getPaddingRight();return D={width:D.width,height:D.height},K&&(D.width+=O+y,D.height=s(I,D.height)),D.width=w(D.width+c+n+R+f),D.height=w(D.height+H+_+u+Y),D},drawIcon:function(d,Q,C,I,q){d.draw(Q,C,I,q,$,this)},iconHitTest:function(X){var q=this,J=X,x=q.$177u;return x?(X instanceof Event&&(J=q.lp(X)),Fb(x,J)):void 0},validateImpl:function(H,m,V,b){var e=this,U=e._input,n=e.getCurrentIconDrawable(),i=e.getMaxLength(),S=e.getPlaceholder();if(e.getValue(),i!=$?U.setAttribute("maxlength",i):U.removeAttribute("maxlength"),S?U.setAttribute("placeholder",S):U.removeAttribute("placeholder"),e.isReadOnly()?U.setAttribute("readonly","readonly"):U.removeAttribute("readonly"),e.getType()&&(U.type=e.getType()),U.style.font=e.getFont(),U.style.color=e.getColor(),im||(U.style.cursor=e.getCursor()),e.$177u=$,n){var W,o,u=e.getIconWidth(),R=e.getIconHeight(),K=e.getIconTextGap(),z=e.getIconPosition();z===xk?(W=H,U.style.paddingLeft=K+u+Fq):(W=H+V-u,U.style.paddingRight=K+u+Fq),o=m+(b-R)/2,e.$177u={x:W-H,y:o-m,width:u-1,height:R-1},e.drawIcon(n,W,o,u,R)}},getSerializableProperties:function(){var d=vp.TextField.superClass.getSerializableProperties.call(this);return lf(d,{icon:1,iconDrawable:1,hoverIcon:1,hoverIconDrawable:1,activeIcon:1,activeIconDrawable:1,iconWidth:1,iconHeight:1,iconTextGap:1,iconPosition:1,color:1,font:1,maskRe:1,placeholder:1,"is:readOnly":1,maxLength:1,"is:instant":1,type:1,value:1,formDataName:1})}}),vp.TextFieldInteractor=function(k){this.$91u=k},db("ht.ui.TextFieldInteractor",N,{ms_listener:1,getView:function(){return this.$91u._interactionDiv},getComp:function(){return this.$91u},handle_keypress:function(m){var c=this,f=c.$91u,J=f._input,Y=f.getMaskRe();if(Y&&Uq(m)===J){var T,S=String.fromCharCode(m.charCode);T="."===S?!1:Ef(m),Lc(m)||T||Y.test(S)||m.preventDefault()}},handle_input:function(){var L=this,f=L.$91u,D=f._input,e=f.isInstant();e&&f.setValue(D.value,!0)},handle_mousedown:function(t){gd(t)&&this.handle_touchstart(t)},handle_touchstart:function(a){var s=this,K=s.getComp();K.iconHitTest(a)&&(Qo(a),s.$47u=!0,K.setIconState(bg),Gm(s,a))},handle_mouseup:function(){},handle_touchend:function(){},handleWindowMouseMove:function(){},handleWindowTouchMove:function(){},handleWindowMouseUp:function(q){this.handleWindowTouchEnd(q)},handleWindowTouchEnd:function(B){var Y=this;Y.$47u=$;var c=Y.getComp();c.iconHitTest(B)?(im?c.setIconState(ej):c.setIconState(om),c.fireViewEvent({kind:"clickIcon",event:B,source:c,target:c})):c.setIconState(ej)},handle_mouseleave:function(){var l=this,F=l.getComp();l.$47u||F.setIconState(ej)},handle_mousemove:function(T){var O=this,I=O.getComp();I.iconHitTest(T)?I.setCursor("default"):I.setCursor(""),O.$47u?I.setIconState(bg):I.iconHitTest(T)?Dp()||I.setIconState(om):I.setIconState(ej)},handle_touchmove:function(){}}),c.ui.TextArea=function(){c.ui.TextArea.superClass.constructor.call(this)},db("ht.ui.TextArea",vp.TextField,{ui_ac:["lineHeight","is:autoRefreshPreferredSize"],_preferredSizeProps:lf(up(vp.TextField.prototype._preferredSizeProps),{value:!0}),_textSizeProps:lf(up(vp.TextField.prototype._textSizeProps),{value:!0}),createInputDOM:function(){return H.createElement("textarea")},figureTextSize:function(){return{width:300,height:150}},validateImpl:function(o,_,P,V){var B=this,n=B._input,W=B.getLineHeight();B.isAutoRefreshPreferredSize()?B.$120u!==P&&(B.$181u("value"),B.$120u=P):B.$120u=M,c.ui.TextArea.superClass.validateImpl.call(B,o,_,P,V),n.style.lineHeight=W!=$?W+Fq:""},getSerializableProperties:function(){var S=vp.TextArea.superClass.getSerializableProperties.call(this);return lf(S,{lineHeight:1,"is:autoRefreshPreferredSize":1})}}),vp.Slider=function(){vp.Slider.superClass.constructor.call(this)},db("ht.ui.Slider",Ld,{ui_ac:["drawable:bar","drawable:selectBar","barThickness","drawable:thumb","drawable:hoverThumb","drawable:activeThumb","thumbWidth","thumbHeight","min","max","step","value","orientation","is:instant"],ms_ac:["thumbState","formDataName"],_formDataValueProps:{value:!0},_preferredSizeProps:lf(up(os._preferredSizeProps),{orientation:!0}),_thumbState:ej,__barThickness:6,__thumbWidth:14,__thumbHeight:14,__step:1,__min:0,__max:100,__value:0,__orientation:"h",__bar:["ht.ui.drawable.SliderBarDrawable","#b3b3b3",$,3],__selectBar:["ht.ui.drawable.SliderBarDrawable","#139ED7","#b3e2f4",3],__thumb:"ui_slider_thumb",__hoverThumb:"ui_slider_hoverThumb",__activeThumb:"ui_slider_activeThumb",setUpInteractors:function(){var Y=this.$53u;Y||(Y=this.$53u=new vp.SliderInteractor(this),Y.addListeners())},setValue:function($){this.setPropertyValue("value",this.adjustValue($))},figurePreferredSize:function(){var M=this,l=M.getThumbWidth(),Y=M.getThumbHeight(),o=M.getBarThickness(),S=M.getOrientation(),C=M.getMax(),T=M.getMin(),A=0,g=0,V=M.getBorderLeft(),u=M.getBorderRight(),N=M.getBorderTop(),H=M.getBorderBottom(),W=M.getPaddingTop(),$=M.getPaddingBottom(),G=M.getPaddingLeft(),w=M.getPaddingRight();return"h"===S||"horizontal"===S?(A=C-T,A+=G+V+w+u+l,g=W+N+$+H+s(Y,o)):(g=C-T,g+=W+N+$+H+Y,A=G+V+w+u+s(l,o)),{width:A,height:g}},drawBar:function(O,E,g,c,J){O&&O.draw(E,g,c,J,$,this)},drawThumb:function(s,S,Q,R,Y){s&&s.draw(S,Q,R,Y,$,this)},drawSelectBar:function(p,H,y,W,F,m,P,t,j){if(p){var c=this.getRootContext();c.save(),c.beginPath(),c.rect(m,P,t,j),c.clip(),p.draw(H,y,W,F,$,this),c.restore()}},getFormDataProperties:function(){return this._formDataValueProps},setFormDataValue:function(K){K==$&&(K=this.getMin()),this.setValue(K)},getFormDataValue:function(){return this.getValue()},getCurrentThumbDrawable:function(o){var t=this,d=t.getThumbDrawable();return o||(o=t.getThumbState()),o===ej?d:o===om?t.getHoverThumbDrawable()||d:o===bg?t.getActiveThumbDrawable()||d:void 0},thumbHitTest:function(H){var i=this,F=H,j=i.$84u;return H instanceof Event&&(F=i.lp(H)),Fb(j,F)},validateImpl:function(O,T,g,x){var X=this,p=X.getOrientation(),D=X.getMin(),k=X.getMax(),s=X.$142u!=$?X.$142u:X.getValue(),j=X.getBarThickness(),E=X.getThumbWidth(),r=X.getThumbHeight(),I=0,P=0;if("vertical"===p||"v"===p){I=(1-(s-D)/(k-D))*(x-r);var w=O+(g-j)/2,R=T+r/2,c=j,b=x-r;X.drawBar(X.getBarDrawable(),w,R,c,b),X.drawSelectBar(X.getSelectBarDrawable(),w,R,c,b,w,I,j,x-I),X.drawThumb(X.getCurrentThumbDrawable(),O+(g-E)/2,T+I,E,r),X.$84u={x:(g-E)/2,y:I,width:E-1,height:r-1}}else{P=(s-D)/(k-D)*(g-E);var w=O+E/2,R=T+(x-j)/2,c=g-E,b=j;X.drawBar(X.getBarDrawable(),w,R,c,b),X.drawSelectBar(X.getSelectBarDrawable(),w,R,c,b,w,R,P,j),X.drawThumb(X.getCurrentThumbDrawable(),O+P,T+(x-r)/2,E,r),X.$84u={x:P,y:(x-r)/2,width:E-1,height:r-1}}},adjustValue:function(Z){Z==$&&(Z=0);var d=this,O=d.getMin(),R=d.getMax(),U=d.getStep();return O>Z&&(Z=O),Z>R&&(Z=R),U>0&&(Z=w((Z-O)/U)*U+O),Z},getToolTip:function(D){var q,J=this,r=J.getOrientation(),L=J.lp(D),h=J.getMin(),g=J.getMax(),E=J.getThumbWidth(),N=J.getThumbHeight(),S=J.getContentWidth(),b=J.getContentHeight(),y=J.$84u,V=0;return y&&Fb(y,L)?J.$142u!=$?J.$142u:J.getValue():("vertical"===r||"v"===r?(q=b-N/2,V=h+(q-L.y)/(b-N)*(g-h)):(q=N/2,V=h+(L.x-q)/(S-E)*(g-h)),J.adjustValue(V))},getSerializableProperties:function(){var u=vp.Slider.superClass.getSerializableProperties.call(this);return lf(u,{bar:1,barDrawable:1,selectBar:1,selectBarDrawable:1,barThickness:1,thumb:1,thumbDrawable:1,hoverThumb:1,hoverThumbDrawable:1,activeThumb:1,activeThumbDrawable:1,thumbWidth:1,thumbHeight:1,min:1,max:1,value:1,orientation:1,"is:instant":1})}}),vp.SliderInteractor=function(k){this.$85u=k},db("ht.ui.SliderInteractor",N,{ms_listener:1,getView:function(){return this.$85u._interactionDiv},setValue:function(t,l){var c,K=this.$85u,B=K.getMin(),g=K.getMax(),Q=K.getThumbWidth(),w=K.getThumbHeight(),A=K.getContentWidth(),o=K.getContentHeight(),f=K.lp(t),z=K.getOrientation(),L=0;"vertical"===z||"v"===z?(c=o-w/2,L=B+(c-f.y)/(o-w)*(g-B)):(c=Q/2,L=B+(f.x-c)/(A-Q)*(g-B)),l?K.setValue(L):(K.$142u=K.adjustValue(L),K.iv())},handle_mousedown:function(N){gd(N)&&this.handle_touchstart(N)},handle_touchstart:function(w){Qo(w);var n=this,Y=n.$85u;Y.requestFocus(),n.setValue(w,Y.isInstant()),n.$47u=!0,Y.setThumbState(bg),Gm(n,w),Y.isToolTipEnabled()&&B.showToolTip(w,Y.getToolTip(w))},handle_mouseup:function(S){this.handle_touchend(S)},handle_touchend:function(q){var L=this,c=L.$85u;c.thumbHitTest(q)?c.setThumbState(om):c.setThumbState(ej)},handleWindowMouseMove:function(H){this.handleWindowTouchMove(H)},handleWindowTouchMove:function(m){var U=this,G=U.$85u;U.setValue(m,G.isInstant()),G.isToolTipEnabled()&&B.showToolTip(m,G.getToolTip(m))},handleWindowMouseUp:function(U){this.handleWindowTouchEnd(U)},handleWindowTouchEnd:function(r){var I=this;I.setValue(r,!0),B.hideToolTip(),I.$85u.$142u=$,I.$47u=$,I.handle_touchend(r)},handle_mouseleave:function(){var v=this,b=v.$85u;v.$47u||b.setThumbState(ej)},handle_mousemove:function(R){this.handle_touchmove(R)},handle_touchmove:function(O){var y=this,P=y.$85u;y.$47u?P.setThumbState(bg):P.thumbHitTest(O)?Dp()||P.setThumbState(om):P.setThumbState(ej)},handle_keydown:function(N){var u=this.$85u,I=u.getValue(),$=u.getStep()||.001;rf(N)||Ie(N)?u.setValue(I-$):(Dl(N)||Qh(N))&&u.setValue(I+$)}}),vp.ProgressBar=function(){vp.ProgressBar.superClass.constructor.call(this)},db("ht.ui.ProgressBar",Ld,{ui_ac:["drawable:bar","drawable:selectBar","min","max","value","orientation","fixedSize","is:indeterminate","is:clipSelectBar","percentTextVisible","percentTextFont","percentTextColor"],_preferredSizeProps:lf(up(os._preferredSizeProps),{orientation:!0,min:!0,max:!0}),__fixedSize:.1,__min:0,__max:100,__value:0,__percentTextFont:"12px Arial",__percentTextColor:"black",__orientation:"h",__clipSelectBar:!0,__bar:["ht.ui.drawable.SliderBarDrawable","#b3b3b3",$,6],__selectBar:["ht.ui.drawable.SliderBarDrawable","#139ED7","#b3e2f4",6],setUpInteractors:function(){var E=this.$53u;E||(E=this.$53u=new vp.ProgressBarInteractor(this),E.addListeners())},setValue:function(o){this.setPropertyValue("value",this.adjustValue(o))},figurePreferredSize:function(){var N=this,b=N.getOrientation(),c=N.getMax(),y=N.getMin(),C=0,J=0,t=N.getBorderLeft(),g=N.getBorderRight(),$=N.getBorderTop(),T=N.getBorderBottom(),G=N.getPaddingTop(),e=N.getPaddingBottom(),O=N.getPaddingLeft(),_=N.getPaddingRight();return"h"===b||"horizontal"===b?(C=c-y,C+=O+t+_+g,J=G+$+e+T+12):("v"===b||"vertical"===b)&&(J=c-y,J+=G+$+e+T,C=O+t+_+g+12),{width:C,height:J}},drawBar:function(D,A,F,i,e){D.draw(A,F,i,e,$,this)},drawSelectBar:function(X,G,L,W,I,S,_,g,Y){var h=!1;if(S!=$&&(h=!0),h){var t=this.getRootContext();t.save(),t.beginPath(),t.rect(S,_,g,Y),t.clip()}X.draw(G,L,W,I,$,this),h&&t.restore()},figurePercentText:function(){var d=this,f=d.getValue(),E=d.getMin(),J=d.getMax();return w(100*((f-E)/(J-E)))+"%"},drawPercentText:function(n,P,B,t,Q,u,b){var Y=this.getRootContext();Y.beginPath(),fg(Y,n,P,B,t,Q,u,b,di,Eq)},validateImpl:function(P,u,x,U){var m=this,H=m.getOrientation(),p=m.getMin(),a=m.getMax(),y=m.getValue(),_=m.getFixedSize(),n=m.isIndeterminate(),j=m.isClipSelectBar(),L=m.getBarDrawable(),s=m.getSelectBarDrawable(),B=0,l=0,q=P,Z=u,W=x,e=U;"vertical"===H||"v"===H?(m.drawBar(L,q,Z,W,e),n&&_?(e=1>_?U*_:_,Z+=(1-(y-p)/(a-p))*(U+e)-e,j?m.drawSelectBar(s,P,u,x,U,P,Z,x,e):m.drawSelectBar(s,P,Z,x,e,P,u,x,U)):(B=(y-p)/(a-p)*U,j?m.drawSelectBar(s,P,u,x,U,P,u+U-B,x,B):m.drawSelectBar(s,P,u+U-B,x,B))):("horizontal"===H||"h"===H)&&(m.drawBar(L,q,Z,W,e),n&&_?(W=1>_?x*_:_,q+=(y-p)/(a-p)*(x+W)-W,j?m.drawSelectBar(s,P,u,x,U,q,u,W,U):m.drawSelectBar(s,q,u,W,U,P,u,x,U)):(l=(y-p)/(a-p)*x,j?m.drawSelectBar(s,P,u,x,U,P,u,l,U):m.drawSelectBar(s,P,u,l,U))),m.isPercentTextVisible()&&m.drawPercentText(m.figurePercentText(),m.getPercentTextFont(),m.getPercentTextColor(),P,u,x,U)},adjustValue:function(X){X==$&&(X=0);var W=this,e=W.getMin(),s=W.getMax();return e>X&&(X=e),X>s&&(X=s),X},getToolTip:function(){return this.getValue()},getSerializableProperties:function(){var r=vp.ProgressBar.superClass.getSerializableProperties.call(this);return lf(r,{bar:1,barDrawable:1,selectBar:1,selectBarDrawable:1,min:1,max:1,value:1,orientation:1,fixedSize:1,"is:indeterminate":1,"is:clipSelectBar":1,percentTextVisible:1,percentTextFont:1,percentTextColor:1})}}),vp.ProgressBarInteractor=function(R){var f=this;f.$77u=R},db("ht.ui.ProgressBarInteractor",N,{ms_listener:1,getView:function(){return this.$77u._interactionDiv},handle_mousedown:function(z){this.handle_touchstart(z)},handle_touchstart:function(m){m.preventDefault()}}),vp.Menu=function(){var $=this;$.$168u=new c.Mousetrap,$.$73u(),$.$179u=new vp.ContextMenu,$.$72u={},vp.Menu.superClass.constructor.call($)},db("ht.ui.Menu",Ld,{ui_ac:["gap",O,b,"hoverLabelColor","activeLabelColor","drawable:hoverItemBackground","drawable:activeItemBackground"],ms_ac:["items"],_preferredSizeProps:lf(up(os._preferredSizeProps),{items:!0,gap:!0,labelFont:!0}),__padding:2,__background:"white",__labelFont:"12px Arial",__gap:5,__labelColor:"black",__hoverLabelColor:"#139DD7",__activeLabelColor:"#139DD7",__hoverItemBackground:["ht.ui.drawable.HoverMenuItemDrawable",2,"#229ed5"],__activeItemBackground:["ht.ui.drawable.HoverMenuItemDrawable",2,"#229ed5"],setUpInteractors:function(){var u=this.$53u;u||(u=this.$53u=new vp.MenuInteractor(this),u.addListeners())},figurePreferredSize:function(){var z=this,m=z.getItems(),r=z.getGap(),W=2*r,Y=z.$72u,u={width:0,height:0},P=z.getBorderLeft(),M=z.getBorderRight(),R=(z.getBorderTop(),z.getBorderBottom(),z.getPaddingTop(),z.getPaddingBottom(),z.getPaddingLeft()),n=z.getPaddingRight();if(m&&m.length>0)for(var F=0;F<m.length;F++){var K=Y[F];u.width+=W+K.width}return u.width=w(u.width+P+M+R+n),u.height=30,u},$166u:function(){var v=this,$=v.getItems();if($&&$.length>0){for(var H=v.getGap(),p=2*H,i=$.length,c=v.getContentLeft(),G=v.getContentWidth(),O=c,o=[],x=!1,n=v.$72u.collectionItem.width+p,e=0,Z=$.length;Z>e;e++){var F=v.getMenuItemSize($[e]),V=F.width+p;if(O+=V,O-(c+G)>0){i=V-(O-(c+G))>n?e:e-1,x=!0;break}}for(var e=0;i>e;e++)o.push($[e]);if(x){for(var j={isCollectionItem:!0,label:">>",items:[]},e=i;e<$.length;e++)j.items.push($[e]);o.push(j)}v.$167u=o}},handleBorderPropertyChange:function(N){vp.Menu.superClass.handleBorderPropertyChange.call(this,N),this.$166u()},onPropertyChanged:function(j){var B=this,n=j.property;if("items"===n||n===O){var G=B.getItems();if(B.$72u={},G){for(var s=0;s<G.length;s++){var f=G[s];B.$72u[s]=Lb(B.getLabelFont(f),f.label)}B.$72u.collectionItem=Lb(B.getLabelFont(),">>")}}if(("items"===n||n===O||n===ug||"padding"===n||n===je||"gap"===n)&&B.$166u(),"items"===n){var G=j.newValue;G&&(B.$73u(),B.forEach(function(b){b.shortcut&&B.$168u.bind(b.shortcut,function(Y){var S;S=ys(b.preventDefault)?b.preventDefault.call(B):b.preventDefault,S!==!1&&Y.preventDefault(),B.$179u.isItemDisabled(b)||(b.action&&b.action.call(B,b,Y),B.fireViewEvent({kind:"action",item:b,event:Y}))})}))}vp.Menu.superClass.onPropertyChanged.call(B,j)},clickItem:function(D,F){var d=this;D.action&&D.action.call(d,D,F),d.fireViewEvent({kind:"action",event:F,item:D})},getDropDownMenu:function(){return this.$179u},getMenuItemSize:function(T){var x=this,U=x.getItems(),o=x.$72u;return T.isCollectionItem?o.collectionItem:o[U.indexOf(T)]},getMenuItemAt:function(R){for(var G=this,y=G.lp(R),_=G.getVisibleItems(),i=G.getContentHeight(),J=G.getGap(),o=0,c=0,p=_.length;p>c;c++){var v=_[c],d=G.getMenuItemSize(v),h={x:o,y:0,width:d.width+2*J,height:i};if(Fb(h,y))return v;o+=h.width}},setState:function($){var W=this._state;W!==$&&(this._state=$,this.iv())},setCurrentItem:function(w){var j=this.$154u;j!==w&&(this.$154u=w,this.iv())},$73u:function(){var g=this,e=g.$168u;e.reset()},forEach:function(N,b,L){var y=this,T=L?L.items:y.getItems();if(T)for(var G=T.length,Y=0;G>Y;Y++){var _=T[Y],Q=N.call(b||y,_);if(Q===!1)return Q;y.forEach(N,b,_)}},getItemBackgroundDrawable:function(T){return T===om?this.getHoverItemBackgroundDrawable():T===bg?this.getActiveItemBackgroundDrawable():void 0},drawItemBackground:function(k,R,O,r,P,o){k&&k.draw(R,O,r,P,o,this)},drawItemText:function(w,E,u,n,e,p,R,S){w.beginPath(),fg(w,E,u,n,e,p,R,S,di,Eq)},getVisibleItems:function(){return this.$167u},validateImpl:function(X,c,K,t){var Y=this,L=Y.getGap(),C=Y.getVisibleItems(),e=Y.$179u,l=Y._state,n=Y.$154u,U=C.indexOf(n);n&&n.isCollectionItem&&(U=C.length-1),l!==bg&&e.hide();for(var i=Y.getRootContext(),V=2*L,Q=0,r=C.length;r>Q;Q++){var z=C[Q],k=Y.getMenuItemSize(z),H=k.width+V,$=Y.getLabelColor();if(Q===U)if(l===om)$=Y.getHoverLabelColor(),Y.drawItemBackground(Y.getItemBackgroundDrawable(om),X,c,H,t,z);else if(l===bg){$=Y.getActiveLabelColor(),Y.drawItemBackground(Y.getItemBackgroundDrawable(bg),X,c,H,t,z);var I=rd(),T=Y.$198u.getBoundingClientRect();e.setItems(z.items),e.ivm(),e.show(T.left+I.left+X-Y.getContentLeft(),T.top+I.top+T.height)}Y.drawItemText(i,z.label,Y.getLabelFont(),$,X,c,H,t,z),X+=H}},$74u:function(H,j){if(H)for(var w=0;w<H.length;w++){var n=H[w];if(n.label===j)return n}},hide:function(){this.setState(ej),this.setCurrentItem($)},show:function(J){var m=this;m.setState(bg),m.setCurrentItem(J)},isShowing:function(){return this.$179u.isInDOM()},deleteItem:function(Q){for(var h,x=this,C=x.$75u(Q),c=x.getItems()||[],p=0;p<C.length;p++){var T=C[p];if(h=x.$74u(c,T),!h)break;p===C.length-1?c.splice(c.indexOf(h),1):c=h.items||[]}x.fp("items",$,x.getItems())},$75u:function(p){for(var T=!1,P="",V=[],h=0;h<p.length;h++){var O=p[h];if("/"===O){if(!T){V.push(P),P="";continue}}else if("`"===O){T=!T;continue}P+=O}return V.push(P),V},findItem:function(p){for(var F,c=this,r=c.$75u(p),v=c.getItems(),o=0;o<r.length;o++){var V=r[o];if(!v)return;if(F=c.$74u(v,V),!F)return;v=F.items}return F},addItem:function(m,n){for(var X,w=this,l=w.$75u(m),f=w.getItems(),P=0;P<l.length;P++){var G=l[P];if(f||(f=X?X.items=[]:w._items=[]),X=w.$74u(f,G),!X){if(X={label:G},P===l.length-1&&n)for(var s in n)X[s]=n[s];f.push(X)}f=X.items}w.fp("items",$,w.getItems())},findItemByLabel:function(O){var b;return this.forEach(function(f){return f.label===O?(b=f,!1):void 0}),b},findItemById:function(u){var U;return this.forEach(function(r){return r.id===u?(U=r,!1):void 0}),U},selectItem:function(y){if("radio"===y.type){var J=y.groupId;J!=$?this.forEach(function(J){J===y?J.selected=!0:J.groupId===y.groupId&&(J.selected=!1)}):y.selected=!0}else y.selected=!0},selectItemById:function(L){var Q=this.findItemById(L);Q&&this.selectItem(Q)},addSeparator:function(S){for(var b,B=this,_=S.split("/"),D=B.getItems(),f=0;f<_.length;f++){var F=_[f];if(!D)return;if(b=B.$74u(D,F),!b)return;if(f===_.length-1&&D){var k=D.indexOf(b)+1;D.splice(k,0,{type:"-"})}D=b.items}B.fp("items",$,B.getItems())},dispose:function(){var T=this,g=T._view;g&&(pc(g),T.$168u.dispose(),T.$179u.dispose(),T._view=T._items=T.$168u=$)},getSerializableProperties:function(){var C=vp.Menu.superClass.getSerializableProperties.call(this);return lf(C,{gap:1,labelFont:1,labelColor:1,hoverLabelColor:1,activeLabelColor:1,hoverItemBackground:1,hoverItemBackgroundDrawable:1,activeItemBackground:1,getActiveItemBackgroundDrawable:1,items:1})}}),c.ui.MenuInteractor=function(j){var x=this;x.$76u=j;var N=x.$180u.bind(x),A=j.$179u;A.addViewListener(function(t){"beforeShow"===t.kind?x.$210u(N):"afterHide"===t.kind?(j.setState(ej),j.setCurrentItem($),x.$211u(N)):"action"===t.kind&&j.fireViewEvent({kind:"action",item:t.item,event:t.event})})},db("ht.ui.MenuInteractor",N,{ms_listener:1,getView:function(){return this.$76u._interactionDiv},$210u:function(v){H.addEventListener(im?"touchstart":"mousedown",v)},$211u:function(e){H.removeEventListener(im?"touchstart":"mousedown",e)},$180u:function(L){var Q=this.$76u,d=Uq(L);Q.getView().contains(d)||Q.$179u.getView().contains(d)||(Q.setState(ej),Q.setCurrentItem($))},handle_touchstart:function(D){var d=this,I=d.$76u,R=I.$154u,W=I.getMenuItemAt(D);d.$58u=Jq(D),I.isSelfViewEvent(D)&&Qo(D),W?I.isShowing()&&R===W?I.hide():I.show(W):I.hide()},handle_mousedown:function(W){var V=this,D=V.$76u,P=D.getMenuItemAt(W);V.$58u=Jq(W),D.isSelfViewEvent(W)&&Qo(W),P?D.isShowing()?D.hide():D.show(P):D.hide()},handle_touchend:function(Z){var N=this,o=N.$76u,f=N.$58u;if(f){var b=Jq(Z),m=lr(f,b);if(2>m){var D=o.getMenuItemAt(Z);D&&o.clickItem(D,Z)}}delete N.$58u},handle_mouseup:function(d){this.handle_touchend(d)},handleWindowTouchEnd:function(){},handleWindowMouseUp:function(s){this.handleWindowTouchEnd(s)},handle_mouseleave:function(){var j=this.$76u;delete this.$58u,j.isShowing()||(j.setState(ej),j.setCurrentItem($))},handle_mousemove:function(n){var y=this,S=y.$76u,U=S.getMenuItemAt(n);U?(S.isShowing()||S.setState(om),S.setCurrentItem(U)):S.isShowing()||(S.setCurrentItem($),S.setState(ej))},handle_touchmove:function(){},handleWindowTouchMove:function(){},handleWindowMouseMove:function(w){this.handleWindowTouchMove(w)}}),vp.editor.Editor=function(){},db("ht.ui.editor.Editor",N,{ms_fire:!0,addEditorListener:function(Q,F,q){var D=this;D.$165u||(D.$165u=new y),D.$165u.add(Q,F,q)},removeEditorListener:function(A,N,Q){var V=this;V.$165u&&V.$165u.remove(A,N,Q)},fireEditorChange:function(q){var r=this;r.$165u&&r.$165u.fire({kind:q})},addValueChangeListener:function(t,N,D){var a=this;a.$64u||(a.$64u=new y),a.$64u.add(t,N,D)},removeValueChangeListener:function(D,v,S){var i=this;i.$64u&&i.$64u.remove(D,v,S)},fireValueChange:function(P){var I=this;I.$64u&&I.$64u.fire({value:P})},isEditable:function(v){return cb(v)&&"mousedown"===v.type?!0:!1},shouldSelect:function(){return!0},getEditorValue:function(){},initEditorView:function(){},getEditorView:function(){return this.$230u},afterLayout:function(){},beforeRemove:function(){},stopEditing:function(){this.fireEditorChange("stop")},cancelEditing:function(){this.fireEditorChange("cancel")}}),vp.editor.StringEditor=function(){vp.editor.StringEditor.superClass.constructor.call(this)},db("ht.ui.editor.StringEditor",vp.editor.Editor,{createTextField:function(){return new vp.TextField},initEditorView:function(h,F,Q){var U=this,u=U.createTextField(),P=u.getInput();return u.setValue(Q),P.onblur=function(){U.shouldSelect()&&U.stopEditing()},u.getView().addEventListener("keydown",function(M){As(M)?U.cancelEditing():Lc(M)&&U.stopEditing()}),u},getEditorValue:function(){return this.getEditorView().getInput().value}}),vp.editor.IntEditor=function(){vp.editor.IntEditor.superClass.constructor.call(this)},db("ht.ui.editor.IntEditor",vp.editor.StringEditor,{createTextField:function(){var v=new vp.TextField;return v.setMaskRe(/[\d\-]/),v},getEditorValue:function(){var o=$h(this.getEditorView().getInput().value);return isNaN(o)?$:o}}),vp.editor.NumberEditor=function(){vp.editor.NumberEditor.superClass.constructor.call(this)},db("ht.ui.editor.NumberEditor",vp.editor.StringEditor,{createTextField:function(){var R=new vp.TextField;return R.setMaskRe(/[\d\-\.]/),R},getEditorValue:function(){var C=parseFloat(this.getEditorView().getInput().value);return isNaN(C)?$:C}}),vp.editor.ColorEditor=function(){vp.editor.ColorEditor.superClass.constructor.call(this)},db("ht.ui.editor.ColorEditor",vp.editor.Editor,{initEditorView:function(u,$,l){var S=this,Q=new vp.ColorPicker;return Q.setInstant(!0),Q.setValue(l),Q.addViewListener(function(b){"close"===b.kind&&S.stopEditing()}),Q.getView().addEventListener("keydown",function(e){Lc(e)?S.stopEditing():As(e)&&S.cancelEditing()
}),Q},afterLayout:function(){this.getEditorView().open()},beforeRemove:function(){this.getEditorView().close()},getEditorValue:function(){return this.getEditorView().getValue()}});var Qn=function(){Qn.superClass.constructor.call(this)};c.Default.def(Qn,vp.editor.Editor,{initEditorView:function(y,A,u,D){var H=this,b=new vp.ComboBox,w=D.getDatas();return b.setDatas(w),b.setDropDownConfig(D.getDropDownConfig()),b.setFormDataValue(u),b.setReadOnly(D.isReadOnly()),b.addViewListener(function(y){"close"===y.kind&&kl(function(){H.stopEditing()})}),b.getView().addEventListener("keydown",function(d){27==d.keyCode&&H.cancelEditing()}),b},afterLayout:function(){this.getEditorView().open()},beforeRemove:function(){this.getEditorView().close()},getEditorValue:function(){return this.getEditorView().getFormDataValue()}}),Ei({$152u:function(t){t.$118u=l,t.$188u=0,t.$189u=0,t.initView=function(s){var r=this;vp.ListView.superClass.initView.call(r,s);var V=r._rendererDiv=oq();V.setAttribute(C,"ht-renderer"),r.$198u.appendChild(V)},t.isSelfViewEvent=function(S){var b=this,o=vp.ListView.superClass.isSelfViewEvent.call(b,S);if(!o){var h=Uq(S);b._rendererDiv.contains(h)&&(o=!0)}return o},t.$105u=function(){for(var K=this,w=K._rendererDiv,W=w.children,N=0;N<W.length;N++){var X=W[N],r=X.htComp;r&&(r.$106u(),r.$105u())}var A=K.$230u;A&&(A.$106u(),A.$105u())},t.figurePreferredSize=function(){var S,x,g=this,t=g.getRowHeightFunc();g.$116u&&(g.validateModel(),g.$116u=$),S=g._rows;var M=0,e=S.size();if(t)for(var O=0;e>O;O++){var b=S.get(O);M+=t.call(g,b)}else M=e*g.getRowHeight();return x={width:200,height:M},x.width+=g.getBorderLeft()+g.getBorderRight()+g.getPaddingLeft()+g.getPaddingRight(),x.height+=g.getBorderTop()+g.getBorderBottom()+g.getPaddingTop()+g.getPaddingBottom(),x},t.$136u=function(O){var H=this;H._rows=new n,H._rowMap={},H.$70u=0,H.$69u=0,H.initView(),H.dm(O?O:new d)},t.getViewCheckIconDrawable=function(s){var w=this,k=w.sm(),m=k.co(s);return k.sg()?m?w.getRadioOnIconDrawable(s):w.getRadioOffIconDrawable(s):m?w.getCheckIconDrawable(s):w.getUncheckIconDrawable(s)},t.checkData=function(M){var b=this.sm(),i=b.co(M);b.sg()&&i||(this.$184u=1,i?b.rs(M):b.as(M),delete this.$184u)},t.getDataAt=function(g){if(this.isContentEvent(g)){Uq(g)&&(g=this.lp(g));var u=this._rows,T=u.size(),F=this.getRowHeightFunc(),s=-1;if(F)for(var S=0,Z=0;T>Z;Z++){var C=u.get(Z);if(S+=F.call(this,C),S>g.y){s=Z;break}}else s=W(g.y/this.getRowHeight());return 0>s||s>=T?$:u.get(s)}},t.onDataDoubleClicked=function(){},t.onDataClicked=function(){},t.adjustTranslateX=function(){return 0},t.adjustTranslateY=function(y){var U=this.getContentHeight()-this.$188u;return U>y&&(y=U),y>0?0:w(y)},t.onPropertyChanged=function(g){var Q=this,W=g.property;vp.ListView.superClass.onPropertyChanged.call(Q,g),ak[W]?Q.ivm():$q[W]||Q.iv()},t.drawCheckIcon=function(S,E,v,l,i,r,o){return S&&S.draw(E,v,l,i,r,this,o),l},t.getLabel=function(h){return h.toLabel()},t.getCurrentLabelColor=function(v){var L=this;if(v){var Q=L.getLabelColor(v),Y=L.getHoverLabelColor(v),m=L.getSelectLabelColor(v);return L.isCheckMode()?L.getFocusData()===v?m||Q:L.getHoverData()===v?Y||Q:Q:L.isSelected(v)?m||Q:L.getHoverData()===v?Y||Q:Q}},t.getStartRowIndex=function(){return this.$70u},t.getEndRowIndex=function(){return this.$69u},t.getRowDatas=function(){return this._rows},t.getRowIndex=function(N){return this._rowMap[N._id]},t.getRowSize=function(){return this._rows.size()},t.getViewRect=function(){return up(this.$118u)},t.isVisible=function(z){var s=this.getVisibleFunc();return s?s(z):!0},t.getCurrentSortFunc=function(){return this.getSortFunc()},t.setDataModel=function(P){var v=this,S=v._dataModel,r=v._selectionModel;S!==P&&(S&&(S.umm(v.handleDataModelChange,v),S.umd(v.handleDataPropertyChange,v),S.umh(v.handleHierarchyChange,v),r||S.sm().ums(v.handleSelectionChange,v)),v._dataModel=P,P.mm(v.handleDataModelChange,v),P.md(v.handleDataPropertyChange,v),P.mh(v.handleHierarchyChange,v),r?r._setDataModel(P):P.sm().ms(v.handleSelectionChange,v),v.fp("dataModel",S,P))},t.validateModel=function(){var B=this;B._rows.clear(),B._rowMap={},B.$56u(B._dataModel._roots);var d=B._rows=B._rows.toList(B.isVisible,B),F=0,n=B.getCurrentSortFunc(),H=d.size();for(n&&d.sort(n);H>F;F++)B._rowMap[d.get(F)._id]=F},t.$56u=function(w){var P=this;w.each(function(J){P._rows.add(J),P.$56u(J._children)})},t.handleDataModelChange=function(){this.ivm()},t.handleDataPropertyChange=function(B){"parent"===B.property?this.ivm():this.iv()},t.handleHierarchyChange=function(){this.ivm()},t.handleSelectionChange=function(b){this.iv(),this.onSelectionChanged(b)},t.onSelectionChanged=function(V){var X=this,e=X.sm();!X.isAutoMakeVisible()||1!==e.size()||"set"!==V.kind&&"append"!==V.kind||X.$184u||X.makeVisible(e.ld())},t.makeVisible=function(h){h&&(this.$71u=h,this.iv())},t.getRootContext=function(b){if(b){var u=ts(b);return u}return vp.ListView.superClass.getRootContext.call(this,b)},t.scrollToIndex=function(Q){var E,T=this,d=T.$118u,b=d.height,s=T.getRowHeightFunc(),K=T._rows,o=K.size(),m=0;if(s){E=s.call(T,K.get(Q));for(var U=0;Q>U;U++)m+=s.call(T,K.get(U))}else E=T.getRowHeight(),m=E*Q;Q>=0&&o>Q&&b>0&&(m+E>d.y+b?T.ty(-m+b-E):m<d.y&&T.ty(-m))},t.ivm=function(){this.invalidateModel()},t.invalidateModel=function(){var G=this;G.$116u||(G.$181u("ivm"),G.$182u("ivm"),G.$183u("ivm"),G.$116u=!0),G.iv()},t.createDragImage=function(u,p){var l,C=this,o=C.isSelected(u);l=o?p.size()-1:0;var r,c=C._rows,i=c.size(),M=C.getRowHeightFunc();if(M){for(var b=0,U=0;i>U;U++){var t=c.get(U);if(t===u)break;b+=M.call(this,t)}b+=C.ty(),r={x:0,y:b,width:C.getContentWidth(),height:M.call(this,u)}}else{var E=c.indexOf(u),e=C.getRowHeight();r={x:0,y:E*e+C.ty(),width:C.getContentWidth(),height:e}}var k=jq($,!0),G=r.width,X=r.height,q=B.devicePixelRatio;An(k,G,X);var N=ts(k);if(Oe(N,0,0,1),N.beginPath(),N.drawImage(C._rootCanvas,r.x*q,r.y*q,G*q,X*q,0,0,G,X),l>0){var w="(+"+l+")",T=Lb("12px Arial",w);N.beginPath();var P=s(X-12,20);B.drawRoundRect(N,G-T.width-10,(X-P)/2,T.width+4,P,4,4,4,4),N.fillStyle="rgba(0, 0, 0, 0.5)",N.fill(),N.beginPath(),fg(N,w,"12px Arial","white",0,0,G-8,X,"right","middle")}return k},t.getFocusData=function(){return this._focusData},t.setFocusDataById=function(V){this.setFocusData(this.dm().getDataById(V))},t.setFocusData=function(e){var s=this,E=s._focusData;E!==e&&(s._focusData=e,s.fp("focusData",E,e),e&&s.isAutoMakeVisible()&&s.makeVisible(e))},t.layoutEditor=function(a,Z,S,r,b){a.setX(Z),a.setY(S),a.setWidth(r),a.setHeight(b)},t.$228u=function(a){var P="",V=[],F=!1;if(ys(a))P=a;else for(var x=0;x<a.length;x++){var D=a[x];"&"===D?(F=!0,V.push("")):F?V[V.length-1]+=D:P+=D}var u=Ke(P);if(u){var X=new u;return X.__style=V.join(" "),X}},t.initEditorView=function(X,g){var s=g.$230u=g.initEditorView(this,X,X.getName());return s.setStyle&&s.setStyle(g.__style),s},t.isEditing=function(){return!!this._editor},t.getEditor=function(){return this._editor},t.beginEdit=function(b,D){var e,m=this,n=m._rows,X=n.size(),L=m.getRowHeightFunc(),i=0;if(!(D instanceof vp.editor.Editor)){if(D||(D=m.getEditorClassAt($,b)),ed(D)&&(D=B.getClass(D)),!D)return;var M=D;D=new M}var f=m.$230u=m.initEditorView(b,D);if(m._editor=D,m.$231u=b,L){e=L.call(m,b);for(var r=0;X>r;r++){var w=n.get(r);if(w===b)break;i+=L.call(m,w)}}else e=m.getRowHeight(),i=e*m.getRowIndex(b);var V=0,p=m.getContentWidth(),Z=e;m.layoutEditor(f,V,i+m.ty(),p,Z),m.$67u||(m.$67u=m.handleEditorValueChange.bind(this)),m.$68u||(m.$68u=m.$213u.bind(this)),D.addValueChangeListener(m.$67u),D.addEditorListener(m.$68u),m.$198u.appendChild(f.getView()),f.iv(!0),D.shouldSelect()&&f.requestFocus(),D.afterLayout(f),m.fireViewEvent("beginEdit"),m.iv()},t.setDataValue=function($,T){T.setName($)},t.handleEditorValueChange=function(T){this.setDataValue(T.value,this.$231u,this._editorColumn)},t.$163u=function(){var R=this;R._editor=R.$230u=R.$231u=$},t.endEdit=function(e){var M=this,i=M._editor,j=M.$230u;if(i){if(e){var B=i.getEditorValue();M.setDataValue(B,M.$231u,M._editorColumn)}M.$163u(),i.removeValueChangeListener(M.$67u),i.removeEditorListener(M.$68u),i.beforeRemove(j),pc(j.getView()),M.iv(),M.fireViewEvent("endEdit")}},t.$213u=function(m){var Y=this,n=Y._editor;if(n){var K=!1;"stop"===m.kind&&(K=!0),Y.endEdit(K)}},t.getEditorClassAt=function(q,k){return this.getEditorClass(k)},t.drawRowBackground=function(c,t,$,q,p,F){c&&c.draw(t,$,q,p,F,this)},t.drawData=function(g,n,y){var h,Y=this,D=Y._rows,L=Y.getRowHeightFunc(),B=0,E=Y.$118u,G=E.x,k=E.width;if(L){h=L.call(Y,n);for(var b=0;y>b;b++)B+=L.call(Y,D.get(b))}else h=Y.getRowHeight(),B=h*y;Y.addElement(Y.drawRow(g,n,Y.isSelected(n),G,B,k,h),n.getId(),0,G,B,k,h),Y.isRowLineVisible()&&Y.drawRowLine(g,Y.getRowLineColor(),G,B+h-1,k,1,n)},t.drawRowLine=function(P,B,$,M,u,r){ij(P,$,M,u,r,B)},t.getRowBackgroundDrawable=function(T,N){var H=this,M=H.isCheckMode();return T===H._focusData&&M||N&&!M?H.getSelectBackgroundDrawable():T===H.getHoverData()?H.getHoverBackgroundDrawable():void 0},t.processValidateImpl=function(){var B=this,U=!1;B.$116u&&!U&&(B.validateModel(),B.$116u=$),vp.ListView.superClass.processValidateImpl.call(B)},t.getTopRowOrderSelection=function(){var l=this.sm().getTopSelection(),t={},u=new n;return l.each(function(d){t[d._id]=d}),this._rows.each(function(j){t[j._id]&&u.add(j)}),u},t.getRowOrderSelection=function(){var J=new n;return this._rows.each(function(F){this.isSelected(F)&&J.add(F)},this),J},t.acceptDrop=function(){Gk.acceptDragDrop(this,$)},t.isDroppable=function(o,_,t){var H=this,A=H._rows,n=!0;if("up"===_||"down"===_)for(var z=A.indexOf(t),v=0,b=o.length;b>v;v++){var p=o[v],k=A.indexOf(p);if(z===k){n=!1;break}if("up"===_&&z===k+1){n=!1;break}if("down"===_&&z===k-1){n=!1;break}}return n},t.handleDrop=function(M,w,B,l){var u=this,R=M.source,$=M.target,z=u.dm();if(R===$)if("up"===B)for(var L=0;L<w.length;L++){var d=w[L],r=z.getRoots().indexOf(l);z.getRoots().indexOf(d)<r&&r--,z.moveTo(d,r)}else if("down"===B)for(var L=w.length-1;L>=0;L--){var d=w[L],r=z.getRoots().indexOf(l);r++,z.getRoots().indexOf(d)<r&&r--,z.moveTo(d,r)}else if("parent"===B){for(var L=0;L<w.length;L++){var d=w[L];d.setParent(l)}u.expand(l)}else for(var L=0;L<w.length;L++){var d=w[L];z.moveToBottom(d)}else if("up"===B)for(var L=0;L<w.length;L++){var d=w[L],r=z.getRoots().indexOf(l);R.dm&&R.dm().remove(d),z.add(d),z.moveTo(d,r)}else if("down"===B)for(var L=w.length-1;L>=0;L--){var d=w[L],r=z.getRoots().indexOf(l);r++,R.dm&&R.dm().remove(d),z.add(d),z.moveTo(d,r)}else if("append"===B)for(var L=0;L<w.length;L++){var d=w[L];R.dm&&R.dm().remove(d),z.add(d)}},t.drawDropLine=function(U,d,k,f,W,w,E,M){var q=this;M!=$&&(U.save(),U.beginPath(),U.rect(d,k,f,W),U.clip(),"append"===w?B.drawBorder(U,q.getDropLineColor(),d,k,f,W,2):(M+=q.ty()+k,U.beginPath(),U.arc(d+4,M,3,0,A,!0),U.moveTo(d+7,M),U.lineTo(d+f,M),U.lineWidth=2,U.strokeStyle=q.getDropLineColor(),U.stroke()),U.restore())},t.validateImpl=function(U,k,l,S){var b,F,d=this,p=d.getRootContext(),B=d.getRowHeightFunc(),w=d.tx(),T=d.ty(),q=d._rows,u=q.size(),M=0;if(B)for(var m=0;u>m;m++)M+=B.call(d,q.get(m));else M=u*d.getRowHeight();var J=d.$118u={x:-w,y:-T,width:l,height:S},Q=d.$71u;if(d.$188u=M,B){for(var D=0,m=0;u>m;m++)if(D+=B.call(d,q.get(m)),D>=J.y){b=m;break}b==$&&(b=0)}else b=W(J.y/d.getRowHeight());if(d.$70u=b,B){D=0;for(var m=0;u>m;m++)if(D+=B.call(d,q.get(m)),D>=J.y+J.height){F=m+1;break}F==$&&(F=u)}else F=E((J.y+J.height)/d.getRowHeight());d.$69u=F,d.$70u<0&&(d.$70u=0),d.$69u>u&&(d.$69u=u),d.$124u&&d.$124u(),p.save(),p.beginPath(),p.rect(U,k,l,S),p.clip(),p.translate(U,k),p.translate(w,T),d.removeElements(),d._93db(p);for(var m=d.$70u;m<d.$69u;m++)d.drawData(p,d._rows.get(m),m);if(d._92db(p),p.translate(-w,-T),p.translate(-U,-k),Q){var Z=d.getRowIndex(Q);Z!=$&&d.scrollToIndex(Z),delete d.$71u}p.restore(),d.drawDropLine(p,U,k,l,S,d.$224u,d.$223u,d.$222u),d.tx(d.tx()),d.ty(d.ty())},t.selectNext=function(h){var e=this,u=e.isCheckMode(),S=e._rows,z=S.size(),s=e.sm();if(h){var b=e.getRowIndex(h);b>=0&&b!==z-1&&(h=S.get(b+1),u?e.setFocusData(h):s.ss(h))}else z>0&&(h=S.get(0),u?e.setFocusData(h):s.ss(h))},t.selectPrevious=function(z){var h=this,j=h.isCheckMode(),y=h._rows,t=y.size(),a=h.sm();if(z){var X=h.getRowIndex(z);X>=0&&0!==X&&(z=y.get(X-1),j?h.setFocusData(z):a.ss(z))}else t>0&&(z=y.get(t-1),j?h.setFocusData(z):a.ss(z))}}}),Ei({$150u:function(T){T._rootData=$,T.$137u=function(){this._expandMap={},this._levelMap={}},T.validateModel=function(){var G=this,D=G._rootData;G._rows.clear(),G._levelMap={},G._rowMap={},G._currentLevel=0,D?G.isRootVisible()?G.isVisible(D)&&G.buildData(D):G.$56u(D):G.$56u(),delete G._currentLevel},T.buildData=function(r){var $=this,z=r._id,M=$._rows;$._rowMap[z]=M.size(),M.add(r),$._levelMap[z]=$._currentLevel,$.isExpanded(r)&&($._currentLevel++,$.$56u(r),$._currentLevel--)},T.$56u=function(y){var R=this,L=y?y._children:R._dataModel._roots,j=R.getCurrentSortFunc();j&&R.isChildrenSortable(y)?L.toList(R.isVisible,R).sort(j).each(R.buildData,R):L.each(function(w){R.isVisible(w)&&R.buildData(w)})},T.getLevel=function(q){return this._levelMap[q._id]},T.getToggleIconDrawable=function(X){var p=this,v=p.getLoader(),Q=p.getCollapseIconDrawable(X);return v&&!v.isLoaded(X)?Q:X.hasChildren()?p.isExpanded(X)?p.getExpandIconDrawable(X):Q:$},T.isCheckMode=function(){var r=this.getCheckMode();return r==$&&(r=this.getStyleValue("checkMode")),r!=$},T.isChildrenSortable=function(){return!0},T.handleDataModelChange=function(f){var k=this;f.kind===qq?delete k._expandMap[f.data._id]:f.kind===am&&(k._expandMap={}),k.ivm()},T.toggle=function(e){var r=this;r.isExpanded(e)?r.collapse(e):r.expand(e)},T.isExpanded=function(W){return 1===this._expandMap[W._id]},T.expand=function(N){var U=this,C=U._loader;U.isExpanded(N)||(C&&!C.isLoaded(N)&&C.load(N),U.fireViewEvent({kind:"expand",data:N,source:U}),U._expandMap[N._id]=1,U.ivm(),U.onExpanded(N))},T.onExpanded=function(){},T.collapse=function(j){var C=this;C.isExpanded(j)&&(C.fireViewEvent({kind:"collapse",data:j,source:C}),delete C._expandMap[j._id],C.ivm(),C.onCollapsed(j))},T.onCollapsed=function(){},T.expandAll=function(){var S=this;S._dataModel.each(function(n){n.hasChildren()&&(S._expandMap[n._id]=1)}),S.fireViewEvent({kind:"expandAll",source:S}),S.ivm()},T.collapseAll=function(){var P=this;P._expandMap={},P.fireViewEvent({kind:"collapseAll",source:P}),P.ivm()},T.isDroppable=function(a,u,h){var Z=this,q=Z._rows,s=!0;if("up"===u||"down"===u){q.indexOf(h);a:for(var E=0,W=a.length;W>E;E++){var y=a[E],I=q.indexOf(y),G=y.getParent();if(y===h||h.isDescendantOf(y)){s=!1;break}if("up"===u&&G==h.getParent())for(var e=I+1,P=q.size();P>e;e++){var $=q.get(e);if($.getParent()===G){if($==h){s=!1;break a}break}}else if("down"===u&&y.getParent()==h.getParent())for(var e=I-1;e>=0;e--){var $=q.get(e);if($.getParent()===G){if($==h){s=!1;break a}break}}}}else if("parent"===u)for(var E=0,W=a.length;W>E;E++){var y=a[E];if(y===h||h.isDescendantOf(y)||y.getParent()===h){s=!1;break}}return s},T.handleDrop=function(b,N,i,A){var v=this,K=b.source,r=b.target,F=v.dm();if(K===r){var J=A?A.getParent():$;if("up"===i)for(var s=0,d=N.length;d>s;s++){var u=N[s];u.setParent(J);var x=J?J.getChildren():F.getRoots(),q=x.indexOf(A);x.indexOf(u)<q&&q--,F.moveTo(u,q)}else if("down"===i)for(var s=N.length-1;s>=0;s--){var u=N[s];u.setParent(J);var x=J?J.getChildren():F.getRoots(),q=x.indexOf(A);q++,x.indexOf(u)<q&&q--,F.moveTo(u,q)}else if("parent"===i){for(var s=0,d=N.length;d>s;s++){var u=N[s];u.setParent(A)}v.expand(A)}else for(var s=0;s<N.length;s++){var u=N[s];u.setParent(v.getRootData()),F.moveToBottom(u)}}else{var B=function(h){if(h&&h.size()>0)for(var $=0,x=h.size();x>$;$++){var t=h.get($);F.add(t),B(t.getChildren())}};if("up"===i)for(var n=A.getParent(),x=n?n.getChildren():F.getRoots(),s=0,d=N.length;d>s;s++){var u=N[s],q=x.indexOf(A);K.dm&&K.dm().remove(u,{keepChildren:!0}),u.setParent(n),F.add(u),F.moveTo(u,q),B(u.getChildren())}else if("down"===i)for(var n=A.getParent(),x=n?n.getChildren():F.getRoots(),s=N.length-1;s>=0;s--){var u=N[s],q=x.indexOf(A);q++,K.dm&&K.dm().remove(u,{keepChildren:!0}),u.setParent(n),F.add(u),F.moveTo(u,q),B(u.getChildren())}else if("parent"===i){for(var s=0,d=N.length;d>s;s++){var u=N[s];K.dm&&K.dm().remove(u,{keepChildren:!0}),u.setParent(A),F.add(u),B(u.getChildren())}v.expand(A)}else if("append"===i)for(var s=0,d=N.length;d>s;s++){var u=N[s];K.dm&&K.dm().remove(u,{keepChildren:!0}),u.setParent(v.getRootData()),F.add(u),B(u.getChildren())}}},T.drawDropLine=function(M,r,Y,u,j,o,P,_){var N=this;if(_!=$){if(M.save(),M.beginPath(),M.rect(r,Y,u,j),M.clip(),"append"===o)B.drawBorder(M,N.getDropLineColor(),r,Y,u,j,2);else if("parent"===o){var W=N.getIndent(),F=N._levelMap[P._id],h=W*F;r+=h,_+=N.ty()+Y;var T,C=N.getRowHeightFunc();T=C?C.call(N,P):N.getRowHeight(),B.drawBorder(M,N.getDropLineColor(),r,_,u-=h,T,2)}else{var W=N.getIndent(),F=N._levelMap[P._id];r+=W*F,_+=N.ty()+Y,M.beginPath(),M.arc(r+4,_,3,0,A,!0),M.moveTo(r+7,_),M.lineTo(r+u,_),M.lineWidth=2,M.strokeStyle=N.getDropLineColor(),M.stroke()}M.restore()}},T.makeVisible=function(C){if(C){var u=this;if(!u._rootData||C.isDescendantOf(u._rootData)){for(var R=C._parent;R;)u.expand(R),R=R._parent;u.$71u=C,u.iv()}}},T.checkData=function(E){var N,L=this,C=L.getCheckMode(),s=L.sm(),c=s.co(E);if(!s.sg()||!c){if(L.$184u=1,C===yk)c?s.rs(E):s.as(E);else if(C===Um)N=new n(E),N.addAll(E._children);else if("descendant"===C)N=new n,xd(E,N);else if("all"===C&&(N=new n,xd(E,N),!c))for(var H=E._parent;H;)N.add(H),H=H._parent;N&&(c?s.rs(N):s.as(N)),delete L.$184u}},T.drawToggleIcon=function(z,r,o,P,L,i){return z&&z.draw(r,o,P,L,i,this),P},T.$125u=function(o,d,X,r,a,w,x){var t=this,J=t.getIndent(),V=t._levelMap[d._id],y=t.getIconWidth(d),S=t.getIconHeight(d),h=t.getIconGap(),g=a+(x-S)/2,p=t.getToggleIconDrawable(d);r+=J*V;var s=t.drawToggleIcon(p,r,g,y,S,d);if(r+=(s==M?y:s)+h,t.isCheckMode()){var C=t.drawCheckIcon(t.getViewCheckIconDrawable(d),r,g,y,S,d);r+=(C==M?y:C)+h}t.getIcon(d)&&(t.drawIcon(o,d,r,g,y,S),r+=y+h),t.drawLabel(o,d,r,a,x)}}}),Ei({$162u:function(w){w.getIcon=function(p){return p.getIcon()},w.drawLabel=function(N,A,I,L,r){var o=this;fg(N,o.getLabel(A),o.getLabelFont(A),o.getCurrentLabelColor(A),I,L,0,r)},w.drawIcon=function(Q,s,D,j,B,T){if(B){var H=this,W=H.getBodyColor(s),G=ye(H.getIcon(s),W);G&&(T-=H.isRowLineVisible()?1:0,sc(Q,G,"centerUniform",D,j,B,T,s,H,W),Jr(Q,H.getBorderColor(s),D,j,B,T))}}}}),Ei({$151u:function(W){W.$164u=function(){var x=this,C=x.$117u=new d;x.$86u=new n,C.mm(x.$186u,x),C.md(x.$185u,x),C.mh(x.$187u,x)},W.setColumnModel=function(A){var G=this,_=G.$117u;_!==A&&(_&&(_.umm(G.$186u,G),_.umd(G.$185u,G),_.umh(G.$187u,G)),G.$117u=A,A.mm(G.$186u,G),A.md(G.$185u,G),A.mh(G.$187u,G),G.$186u(),G.fp("columnModel",_,A),G instanceof vp.TreeTableView&&G.addTreeColumn())},W.setColumns=function(H){this.$117u.clear(),this.addColumns(H)},W.addColumns=function(S){var A=this.$117u;S.forEach(function(o){if(!(o instanceof Ej)){var r=Ke(o.className);o=wg(r?r:Ej,o)}A.add(o)})},W.onColumnClicked=function(){},W.onCheckColumnClicked=function(){},W.getColumnInfo=function(D){for(var t,F=0,e=this.$86u,p=e.size();p>F;F++)if(t=e.get(F),t.column===D)return t;return $},W.getColumnsAt=function(X){var P=this.getColumnInfosAt(X),A=[];if(P)for(var d=0,y=P.length;y>d;d++)A.push(P[d].column);return A},W.getColumnAt=function(V){var N=this.getColumnInfoAt(V);return N?N.column:$},W.getColumnInfosAt=function(r){for(var a=this,q=Uq(r)?a.lp(r).x:r.x,B=a.$86u,v=[],C=B.size(),L=0;C>L;L++){var m=B.get(L),c=m.startX;q>=c&&q<c+m.column.getWidth()&&v.push(m)}return v},W.getColumnInfoAt=function(N){var p=this,z=p.getColumnInfosAt(N);if(z)for(var Q=0,Y=z.length;Y>Q;Q++)if(!z[Q].hasChildren)return z[Q]},W.getColumnInfos=function(){return this.$86u},W.getToolTip=function(r){var K=this,B=K.getDataAt(r),n=K.getColumnAt(r);return B&&n?n.getToolTip(B,K):$},W.adjustTranslateX=function(q){var U=this.getContentWidth()-this.$189u;return U>q&&(q=U),q>0?0:w(q)},W.getEditorClassAt=function(O,Y){var S=this,k=O instanceof vp.Column?O:S.getColumnAt(O);if(k){var m=k.getEditorClass(Y);return m}},W.isDataEditable=function(A,b){var M=this,x=M.getColumnAt(A);return b=b==$?M.getDataAt(A):b,x?x.isEditable(b):void 0},W.initEditorView=function(F,y,D){var b=D.$230u=D.initEditorView(this,F,this.getValue(F,y),y);return b.setStyle&&b.setStyle(D.__style),b},W.beginEdit=function(b,v,r){var V=this;if(!(r instanceof vp.editor.Editor)){if(r||(r=V.getEditorClassAt(v,b)),ed(r)&&(r=B.getClass(r)),!r)return;var Q=r;r=new Q}var H;H=v instanceof vp.Column?V.getColumnInfo(v):V.getColumnInfoAt(v);var M=V.$230u=V.initEditorView(b,H.column,r);V._editor=r,V.$231u=b,V._editorColumn=H.column;var n=V.getEditorRect(b,H),K=n.x,U=n.y,m=n.width,L=n.height;V.layoutEditor(M,K,U,m,L),V.$67u||(V.$67u=V.handleEditorValueChange.bind(this)),V.$68u||(V.$68u=V.$213u.bind(this)),r.addValueChangeListener(V.$67u),r.addEditorListener(V.$68u),V.$198u.appendChild(M.getView()),M.iv(!0),r.shouldSelect()&&M.requestFocus(),r.afterLayout(M),V.fireViewEvent("beginEdit"),V.iv()},W.getEditorRect=function(X,D){var l,I=this,K=I._rows,Z=K.size(),U=I.getRowHeightFunc(),n=0;if(U){l=U.call(I,X);for(var v=0;Z>v;v++){var r=K.get(v);if(r===X)break;n+=U.call(I,r)}}else l=I.getRowHeight(),n=I.getRowIndex(X)*l;var O=D.startX,p=D.column,y=p.getWidth();if(p!==I.$90u&&p!==I.$123u){var Y={x:O,y:n,width:y,height:l},J={x:Y.x+I.tx(),y:Y.y+I.ty(),width:Y.width,height:Y.height};return J}},W.setDataValue=function(D,i,P){var Q=this;Q.isBatchEditable()&&P.isBatchEditable()&&Q.isSelected(i)?Q.sm().each(function(w){rg(w,P.getAccessType(),P.getName(),D)}):rg(i,P.getAccessType(),P.getName(),D)},W.$163u=function(){var M=this;M._editor=M.$230u=M.$231u=M._editorColumn=$},W.figurePreferredSize=function(){var P,h,k=this,g=k.getRowHeightFunc();k.$116u&&(k.validateModel(),k.$116u=$),P=k._rows;var G=0,r=0,p=P.size();if(k.$117u._roots.each(function(x){x.isVisible()&&(G+=x.getWidth())}),g)for(var O=0;p>O;O++){var X=P.get(O);r+=g.call(k,X)}else r=p*k.getRowHeight();return h={width:G,height:r},h.width+=k.getBorderLeft()+k.getBorderRight()+k.getPaddingLeft()+k.getPaddingRight(),h.height+=k.getBorderTop()+k.getBorderBottom()+k.getPaddingTop()+k.getPaddingBottom(),h},W.$214u=function(o,E,h){var V=this;if(E)for(var l=E.size(),Z=0;l>Z;Z++){var W=E.get(Z),P=W._children,U=P.size()>0;if(W.isVisible()&&(W instanceof vp.GroupColumn?U:!0)){var $=V.$189u+W.getWidth();V.$189u<=h.x+h.width&&$>=h.x&&o.add({column:W,startX:V.$189u,hasChildren:U}),U?V.$214u(o,P,h):V.$189u=$}}},W.$124u=function(){var S=this,_=S.$118u,p=S.$86u;p.clear(),S.$189u=0,S.$214u(p,S.$117u._roots,_)},W.drawData=function(F,E,X){var I,P=this,S=P._rows,f=P.getRowHeightFunc(),p=0,h=P.isSelected(E),w=P.$118u,v=w.x,K=P.getRowBackgroundDrawable(E,h),W=w.width;if(f){I=f.call(P,E);for(var j=0;X>j;j++)p+=f.call(P,S.get(j))}else I=P.getRowHeight(),p=I*X;P.drawRowBackground(K,v,p,W,I,E),P.$86u.each(function(H){var D=H.column,l=H.startX,U=D.getWidth();if(U>0&&!H.hasChildren&&!P.isEditing(E,D)){var w=D.getPaddingLeft(),_=D.getPaddingRight(),s=l+w,v=U-w-_;F.save(),F.beginPath(),F.rect(s,p,v,I),F.clip(),P.addElement(P.drawCell(F,E,h,D,s,p,v,I),E.getId(),D.getId(),s,p,v,I),F.restore(),P.isColumnLineVisible()&&ij(F,l+U-1,p,1,I,P.getColumnLineColor())}}),P.isRowLineVisible()&&P.drawRowLine(F,P.getRowLineColor(),v,p+I-1,W,1,E)},W.drawCell=function(G,C,U,V,p,T,N,h){var Q=this;if(V.drawCell)return V.drawCell(G,C,U,V,p,T,N,h,Q);var d=Q.getValue(C,V);Qb(G,d,V,Q.getLabelFont(C,V,d),Q.getCurrentLabelColor(C,V,d),p,T,N,h,C,Q)},W.getColumnModel=function(){return this.$117u},W.$186u=function(){this.$181u("columnModel"),this.iv()},W.$185u=function(I){var B=this;B.$181u("columnModel"),I.data===B._sortColumn&&Gh[I.property]?B.ivm():B.iv()},W.$187u=function(){this.iv()},W.getCurrentSortFunc=function(){var K=this,_=K._sortColumn;if(_&&_.isSortable()){var P=_.getSortFunc(),t=yi===_.getSortOrder()?1:-1;return P||(P=K.getSortFunc()||Ur),function(Z,w){return P.call(K,K.getValue(Z,_),K.getValue(w,_),Z,w)*t}}return K.getSortFunc()}}});var Ej=vp.Column=function(){Ej.superClass.constructor.call(this)};db("ht.ui.Column",c.Data,{ms_ac:["accessType","valueType",Mn,Kb,Sh,ug,"align","sortOrder",Yb,"sortable","editorClass","paddingLeft","paddingRight"],_visible:!0,_width:80,_sortOrder:yi,_sortFunc:$,_sortable:!0,_align:xk,_paddingLeft:4,_paddingRight:5,setWidth:function(H){16>H&&(H=16);var p=this._width;this._width=H,this.fp(ug,p,H)},getToolTip:function(K,h){return K&&h?this.formatValue(h.getValue(K,this)):void 0},formatValue:function(M){var s=this,Y=s._valueType;if(Y===I)return!!M;if(M!=$){if(Y===h)return w(M);if(Rb(M))return w(100*M)/100}return M},getSerializableProperties:function(){var n=up(Ej.superClass.getSerializableProperties.call(this));return delete n.toolTip,n.accessType=1,n.valueType=1,n.visible=1,n.editable=1,n.batchEditable=1,n.width=1,n.align=1,n.sortOrder=1,n.sortable=1,n.editorClass=1,n.paddingLeft=1,n.paddingRight=1,n}});var yg=vp.GroupColumn=function(){yg.superClass.constructor.call(this)};db("ht.ui.GroupColumn",vp.Column,{isSortable:function(){return!1},setWidth:function(g){var L=this,p=L._children,O=[];if(p.size()>0){for(var t=L.getWidth(),p=L._children,Z=p.size(),M=0;Z>M;M++){var D=p.get(M);D.isVisible()&&O.push(D)}var h=g-t,c=h/O.length;O.forEach(function(Z){Z.setWidth(Z.getWidth()+c)})}},getWidth:function(){var $=this._children;if($.size()>0){for(var e=0,L=$.size(),u=0;L>u;u++){var W=$.get(u);W.isVisible()&&(e+=$.get(u).getWidth())}return e}}});var He=vp.EnumColumn=function(){He.superClass.constructor.call(this)};db("ht.ui.EnumColumn",vp.Column,{ms_ac:["datas","dropDownConfig"],_editorClass:Qn,isReadOnly:function(){return this._readOnly},setReadOnly:function(p){var N=this,a=N._readOnly;a!==p&&(N._readOnly=p,N.fp("readOnly",a,p))},getValueData:function(x){var J=this,s=J.getDatas();if(s)for(var I=0,k=s.length;k>I;I++){var S=s[I];if(S===x||S.hasOwnProperty("id")&&S.id===x||S.hasOwnProperty("value")&&S.value===x)return S}return x},drawCell:function(k,q,L,a,_,J,W,D,C){var Z=Cq(q,a.getAccessType(),a.getName());if(Z=a.getValueData(Z)){var U=ye(Z.icon),z=Z.hasOwnProperty("label")?Z.label:Z,P=C.getIconWidth(),j=C.getIconHeight(),V=J+(D-j)/2,n=a.getAlign(),I=C.getLabelFont(a),r=C.getLabelColor(a),l=Lb(I,z).width;U||(P=0),n===xk?(U&&sc(k,U,ki,_,V,P,j),fg(k,z,I,r,_+P,J,W,D,xk)):n===_i?(U&&sc(k,U,ki,_+W-l-P,V,P,j),fg(k,z,I,r,_,J,W,D,_i)):(U&&sc(k,U,ki,_+(W-l-P)/2,V,P,j),fg(k,z,I,r,_+(W-l+P)/2,J,0,D,xk))}},getSerializableProperties:function(){var D=up(He.superClass.getSerializableProperties.call(this));return D.datas=1,D.dropDownConfig=1,D.readOnly=1,D}});var Xb=vp.Property=function(){Xb.superClass.constructor.call(this)};db("ht.ui.Property",c.Data,{ms_ac:["accessType","valueType",Kb,"categoryName",J,"align","editorClass","paddingLeft","paddingRight"],_categoryName:$,_paddingLeft:4,_paddingRight:4,_align:xk,getToolTip:function(Z,U,v){var h=this;return U?h.formatValue(v.getValue(Z,h)):v.getPropertyName(h)},formatValue:function(X){var T=this,Y=T._valueType;if(Y===I)return!!X;if(X!=$){if(Y===h)return w(X);if(Rb(X))return w(100*X)/100}return X},getSerializableProperties:function(){var Y=up(Xb.superClass.getSerializableProperties.call(this));return delete Y.toolTip,Y.accessType=1,Y.valueType=1,Y.editable=1,Y.categoryName=1,Y.color=1,Y.align=1,Y.editorClass=1,Y.paddingLeft=1,Y.paddingRight=1,Y}});var kq=vp.EnumProperty=function(){kq.superClass.constructor.call(this)};db("ht.ui.EnumProperty",vp.Property,{ms_ac:["datas","dropDownConfig"],_editorClass:Qn,isReadOnly:function(){return this._readOnly},setReadOnly:function(F){var x=this,S=x._readOnly;S!==F&&(x._readOnly=F,x.fp("readOnly",S,F))},getValueData:function(D){var q=this,u=q.getDatas();if(u)for(var p=0,t=u.length;t>p;p++){var T=u[p];if(T===D||T.hasOwnProperty("id")&&T.id===D||T.hasOwnProperty("value")&&T.value===D)return T}return D},drawPropertyValue:function(G,E,J,c,i,n,t,L,m,W){var J=Cq(m,E.getAccessType(),E.getName());if(J=E.getValueData(J)){var b=ye(J.icon),q=J.hasOwnProperty("label")?J.label:J,z=W.getIconWidth(),N=W.getIconHeight(),A=n+(L-N)/2,$=E.getAlign(),h=W.getLabelFont(E),S=W.getLabelColor(E),w=Lb(h,q).width;b||(z=0),$===xk?(b&&sc(G,b,ki,i,A,z,N),fg(G,q,h,S,i+z,n,t,L,xk)):$===_i?(b&&sc(G,b,ki,i+t-w-z,A,z,N),fg(G,q,h,S,i,n,t,L,_i)):(b&&sc(G,b,ki,i+(t-w-z)/2,A,z,N),fg(G,q,h,S,i+(t-w+z)/2,n,0,L,xk))}},getSerializableProperties:function(){var $=up(kq.superClass.getSerializableProperties.call(this));return $.datas=1,$.dropDownConfig=1,$}}),vp.ListView=function(N){this.$136u(N),this.setUpInteractors()},db("ht.ui.ListView",Ld,{ui_ac:[b,r,"hoverLabelColor",O,Y,G,q,Yb,"pannable",V,oo,"drawable:selectBackground","drawable:hoverBackground","iconWidth","iconHeight","drawable:checkIcon","drawable:uncheckIcon","drawable:radioOnIcon","drawable:radioOffIcon","editorClass","editable","rowHeightFunc","is:checkMode","dragEnabled","dropEnabled","dropLineColor"],ms_ac:["hoverData"],_preferredSizeProps:lf(up(os._preferredSizeProps),{ivm:!0}),ms_bnb:1,ms_sm:1,_49o:1,ui_txy:1,$152u:1,$162u:1,ms_dm:1,$148u:1,__iconWidth:16,__iconHeight:16,__rowHeight:26,__radioOnIcon:"ui_"+P,__radioOffIcon:"ui_"+_,__checkIcon:"ui_"+L,__uncheckIcon:"ui_"+S,__rowLineVisible:!1,__rowLineColor:"#e2e4e4",__background:"#fafafa",__autoMakeVisible:!0,__selectBackground:["ht.ui.drawable.SelectListItemDrawable",2,"#229ed5","rgba(204, 236, 248, 1)","rgba(204, 236, 248, 0)"],__hoverBackground:"#f5f5f5",__labelColor:"black",__selectLabelColor:"#139DD7",__labelFont:"12px Arial",__dropLineColor:"#229ed5",__checkMode:!1,__pannable:!0,setUpInteractors:function(){var l=this.$66u;l||(l=this.$66u=new vp.ScrollInteractor(this),l.addListeners());var u=this.$53u;u||(u=this.$53u=new Tn(this),u.addListeners())},tearDownInteractors:function(){var f=this.$53u;f&&(f.removeListeners(),this.$53u=$);var T=this.$66u;T&&(T.removeListeners(),this.$66u=$)},checkHitTest:function(u){var Q=this;if(Q.isCheckMode()){var s=u;u instanceof Event&&(s=Q.lp(u));var $=s.x;if($>=0&&$<=Q.getIconWidth())return!0}},isDataEditable:function(T,F){var A=this,G=A.isEditable();return F=F==$?A.getDataAt(T):F,G&&F&&!A.checkHitTest(T)?!0:void 0},drawRow:function(y,w,Q,o,j,f,D){var H=this,K=4,v=H.getIconWidth(w),M=H.getIconHeight(w),A=H.getRowBackgroundDrawable(w,Q);H.drawRowBackground(A,o,j,f,D,w),H.isCheckMode()&&(H.drawCheckIcon(H.getViewCheckIconDrawable(w),K,j+(D-M)/2,v,M,w),K+=v),H.getIcon(w)&&(H.drawIcon(y,w,K,j+(D-M)/2,v,M),K+=v),H.drawLabel(y,w,K,j,D)},getSerializableProperties:function(){var w=vp.ListView.superClass.getSerializableProperties.call(this);return lf(w,{labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,sortFunc:1,pannable:1,visibleFunc:1,autoMakeVisible:1,selectBackground:1,selectBackgroundDrawable:1,hoverBackground:1,hoverBackgroundDrawable:1,iconWidth:1,iconHeight:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:!0,radioOnIconDrawable:!0,radioOffIcon:!0,radioOffIconDrawable:!0,editorClass:1,editable:1,rowHeightFunc:1,"is:checkMode":1,dragEnabled:1,dropEnabled:1,dropLineColor:1,dataModel:1,selectionModelShared:1,selectionModel:1})}});var Tn=function(x){this.list=x,this.addDragDropListeners&&this.addDragDropListeners()};db(Tn,N,{ms_listener:1,addDragDropListeners:function(){var b=this,S=b.list;S.addViewListener(function(f){var Z=f.kind,F=S.isDropEnabled&&S.isDropEnabled();if(F)if("dragEnter"===Z)S.acceptDrop(f);else if("dragMove"===Z){var w=f.target,c=f.source;delete w.$222u,delete w.$223u,delete w.$224u,w.autoScroll(f.nativeEvent);var D,p,J=w.lp(f.nativeEvent),u=w.$118u,e=w._rows,C=e.size(),j=w.getRowHeightFunc(),L=0,h=J.y;if(j)if(h<u.y||h>=u.y+u.height)p="append";else{for(var q=0;C>q;q++){var E=e.get(q),y=j.call(w,E),A=y/2;if(L+A>h&&L>=u.y){D=E,p="up";break}if(L+y>h){if(L+y<=u.y+u.height){L+=y,D=E,p="down";break}if(L>=u.y){D=E,p="up";break}break}L+=y}p||(p="append")}else{var y=w.getRowHeight(),A=y/2;if(h<u.y||h>=m(u.y+u.height,w.$69u*y))p="append";else{var o=W(h/y);L=y*o,L+A>h&&L>=u.y?(D=e.get(o),p="up"):L+y<=u.y+u.height?(L+=y,D=e.get(o),p="down"):L>=u.y&&(D=e.get(o),p="up")
}}var d=!0;if(c===w){var I,U=f.data.data,x=f.data.selection;I=x.contains(U)?x._as:[U],S.isDroppable(I,p,D)||(d=!1)}d&&p!=M&&(w.$222u=L,w.$223u=D,w.$224u=p),w.iv()}else if("dragCompleted"===Z&&f.target===S){var c=f.source,w=f.target,e=(w.dm(),w._rows),D=w.$223u,p=w.$224u;if(p!=$){var I,U=f.data.data,x=f.data.selection;I=U&&x?x.contains(U)?x._as:[U]:f.data,c===w?S.isDroppable(I,p,D)&&S.handleDrop(f,I,p,D):S.handleDrop(f,I,p,D)}delete w.$222u,delete w.$223u,delete w.$224u,w.iv()}else if("dragExit"===Z||"dragCanceled"===Z){var w=f.target;delete w.$222u,delete w.$223u,delete w.$224u,w.iv()}})},getView:function(){return this.list._interactionDiv},clear:function(){var l=this;l.state=l.$44u=l.$45u=l.$46u=$},handle_mousedown:function(H){this.handle_touchstart(H)},handle_touchstart:function(b){var I=this,g=I.list;if(g.isSelfViewEvent(b)){var T=g._editor;if(T&&T.stopEditing(),!b.$146u){var v=g.getDataAt(b);if(g.requestFocus(),g._rendererDiv.contains(Uq(b))||Qo(b),v){var F=g.isDataEditable(b,v);if(F){var a=g.getEditorClassAt(b,v);a&&kl(function(){var n=g.$228u(a);n&&n.isEditable(b)&&(g instanceof vp.TableView||g instanceof vp.TreeTableView?g.beginEdit(v,b,n):g.beginEdit(v,n),I.clear())})}}g._editor||(I.$44u=Sc(b),I.$45u=g.tx(),I.$46u=g.ty(),gd(b)||(v&&I.handleSelectMode(b,v),I.clear()))}}},handleWindowMouseUp:function(S){this.clear(S)},handleWindowTouchEnd:function(M){this.clear(M)},handle_mouseup:function(y){this.handle_touchend(y)},handle_touchend:function(w){var h=this,k=h.list;if(k.isSelfViewEvent(w)){var o=k.getDataAt(w),m=k.isDataEditable(w,o);if(!h.state&&!Gk.isDragging(k)&&m&&h.$44u){var T=Sc(w);if(lr(T,h.$44u)<2){var F=k._editor;if(F&&F.stopEditing(),o){var P=k.getEditorClassAt(w,o);if(P){var e=k.$228u(P);e&&e.isEditable(w)&&(k instanceof vp.TableView||k instanceof vp.TreeTableView?k.beginEdit(o,w,e):k.beginEdit(o,e),h.clear())}}}}k._editor||!h.$44u||h.state||Gk.isDragging(k)||o&&(k.isCheckMode()?h.handleCheckMode(w,o):h.handleSelectMode(w,o),cb(w)?k.onDataDoubleClicked(o,w):k.onDataClicked(o,w))}h.clear(w)},handleWindowMouseMove:function(o){this.handleWindowTouchMove(o)},handleWindowTouchMove:function(D){if(!D.$146u){var r=this,y=r.list,v=r.state,k=r.$45u,l=r.$46u,K=r.$44u;if("p"===v){var s=Sc(D);y.setTranslate(k+s.x-K.x,l+s.y-K.y),D.$146u=!0}}},handle_mousemove:function(r){this.handle_touchmove(r)},handle_touchmove:function(A){if(!A.$146u&&!Dp()&&gd(A)){var G=this,v=G.list,V=G.$44u,u=Sc(A);if(!(lr(u,V)<2)){var W=v.isContentEvent(A);if(W?Gk.isDragging(v)||v.setHoverData(v.getDataAt(A)):v.setHoverData($),V&&!G.state)if(W&&v.isDragEnabled&&v.isDragEnabled()){if(!Gk.isDragging(v)){var d=v.getDataAt(A),_=v.getRowOrderSelection();d&&((v instanceof vp.TreeView||v instanceof vp.TreeTableView)&&(_=v.getTopRowOrderSelection()),Gk.doDrag(v,{data:d,selection:_},v.createDragImage(d,_),0,0),Gm(G))}}else v.isPannable()&&(G.state="p",Gm(G))}}},handle_mousewheel:function(p){var F=this.list;F.isSelfViewEvent(p)&&this.handleScroll(p,p.wheelDelta/40,p.wheelDelta!==p.wheelDeltaX)},handle_DOMMouseScroll:function(k){var $=this.list;$.isSelfViewEvent(k)&&this.handleScroll(k,-k.detail,1)},handleScroll:function(e){var f=this.list;Qo(e),f._editor&&f._editor.stopEditing()},handle_keydown:function(t){var y,z=this.list,P=z.sm();if(z.isSelfViewEvent(t))if(hm(t))z.selectAll();else if(Ef(t))z.handleDelete&&z.handleDelete(t);else if(Hr(t))z.isCheckMode()&&(y=z.getFocusData(),y&&z.checkData(y));else if(Qh(t)||Ie(t)){var O=z.isCheckMode();y=O?z.getFocusData():P.ld(),Qh(t)?z.selectPrevious(y):z.selectNext(y)}},handleCheckMode:function(h,W){var m=this.list;return m.checkHitTest(h)?(m.checkData(W),void 0):(m.setFocusData(W),void 0)},handleSelectMode:function(V,K){var s=this.list,d=s.sm(),A=d.ld();if(gi(V))s.isSelected(K)?d.rs(K):d.as(K);else if(gl(V))if(A)for(var B=s.getRowIndex(A),$=s.getRowIndex(K);B!==$;)B+=$>B?1:-1,d.as(s._rows.get(B));else d.ss(K);else(gd(V)||!d.contains(K))&&d.ss(K)},handle_mouseleave:function(){this.list.setHoverData($)}}),vp.DropDownTemplate=function(){},db("ht.ui.DropDownTemplate",N,{ms_fire:!0,ms_ac:[ug,fq,"filterEnabled"],_filterEnabled:!0,addDropDownListener:function(w,X,f){var o=this;o.$65u||(o.$65u=new y),o.$65u.add(w,X,f)},removeDropDownListener:function(f,Y,u){var U=this;U.$65u&&U.$65u.remove(f,Y,u)},fireDropDownChange:function(X){var m=this;m.$65u&&m.$65u.fire({kind:X})},addValueChangeListener:function(o,m,x){var i=this;i.$64u||(i.$64u=new y),i.$64u.add(o,m,x)},removeValueChangeListener:function(s,e,N){var j=this;j.$64u&&j.$64u.remove(s,e,N)},fireValueChange:function(u){var U=this;U.$64u&&U.$64u.fire({value:u})},handle_keydown:function(){},setPropertyValue:function(g,v){var x=this,p=g.split(".");if(p.length>1){for(var o=0;o<p.length-1;o++)x=x[Un(p[o])]();g=p[p.length-1]}var d=x["_"+g];rg(x,$,g,v),x.fp(g,d,v)},beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){},initDropDownView:function(){},getDropDownView:function(){return this._dropDownView},getDropDownValue:function(){},filter:function(){},getWidth:function(){var f=this.getDropDownView(),c=f.getMaxSize(),l=this._width||f.getPreferredSize().width;return c?m(l,c.width):l},getHeight:function(){var c=this.getDropDownView(),M=c.getMaxSize(),j=this._height||c.getPreferredSize().height;return M?m(j,M.height):j},isClickOnDropDownView:function(j){var t=this,y=Uq(j),C=t.getDropDownView();return C.getView().contains(y)},stop:function(){this.fireDropDownChange("stop")},cancel:function(){this.fireDropDownChange("cancel")}}),vp.PopupList=function(){vp.PopupList.superClass.constructor.call(this),this.setFocusable(!1)},db("ht.ui.PopupList",vp.ListView,{__hoverBackground:"#f5f5f5",__selectBackground:"#139dd7",__selectBackgroundDrawable:M,__selectLabelColor:"#fff",__border:new vp.border.CSSBorder(1,"#139dd7"),__maxSize:{width:1/0,height:200}}),vp.ListDropDown=function(){},db("ht.ui.ListDropDown",vp.DropDownTemplate,{handle_keydown:function(A){var U,b=this,L=b.getListView(),r=b._master,P=L.sm(),X=L.isCheckMode();return U=X?L.getFocusData():P.ld(),L.isVisible(U)||(U=$),Qh(A)||Ie(A)?(Qh(A)?L.selectPrevious(U):Ie(A)&&L.selectNext(U),r.isInstant()&&b.$170u(),!1):(Lc(A)&&(b.$170u(),r.close()),void 0)},$170u:function(){var P=this,h=P.getDropDownValue();h!==M&&P.fireValueChange(h)},_handleClick:function(){var R=this;R.stop()},filter:function(u){var p=this,I=p.getListView(),B=p.isFilterEnabled();u&&B?I.setVisibleFunc(function(q){if(!q)return!1;var J=q.getName();return J.indexOf(u)>=0?!0:void 0}):I.setVisibleFunc($)},getSelectedData:function(C,M){for(var j=this,w=j._master,E=C.dm().getDatas(),o=0;o<E.size();o++){var H=E.get(o),d=H.a("data");if("object"==typeof M){if(M.id!=$){if(M.id===d.id)return H}else if(w.getValueText(M)!=$){if(w.getValueText(M)===w.getValueText(d))return H}else if(w.getValueIcon(M)===w.getValueIcon(d))return H}else if(M===d)return H}},getWidth:function(){return this._width||this._master.getWidth()||this.getDropDownView().getPreferredSize().width},createDropDownView:function(){var s=this,I=s._list=new vp.PopupList;return im?(I.getView().addEventListener("touchstart",function(a){s.$58u=Sc(a)}),I.getView().addEventListener("touchend",function(D){var y=Sc(D);lr(s.$58u,y)<2&&s.stop(),delete s.$58u})):I.getView().addEventListener("click",function(){s.stop()}),I},initListDataModel:function(R,Y){if(Y){Y=Y._as?Y._as:Y;for(var V=0;V<Y.length;V++){var C=Y[V],a=new c.Data;"object"==typeof C?(a.setName(C.label),a.setIcon(C.icon),C.id!=$&&a.setId(C.id)):a.setName(C),a.a("data",C),R.dm().add(a)}}},initDropDownView:function(z,C,x){var $=this,W=$.createDropDownView();return $._master=z,$.initListDataModel(W,C),W.sm().setSelection($.getSelectedData(W,x)),W},getListView:function(){return this._list},getDropDownValue:function(){var C=this,Q=C.getListView(),h=Q.sm().ld();return h&&Q.isVisible(h)?h.a("data"):void 0}}),vp.ComboBox=function(){var t=this;vp.ComboBox.superClass.constructor.call(t),t.$121u=t.$212u.bind(t)},db("ht.ui.ComboBox",vp.TextField,{ui_ac:["valueIconWidth","valueIconHeight","dropDownConfig","datas"],ms_ac:["dropDownTemplate"],_dropDownTemplate:"ht.ui.ListDropDown",__iconPosition:"right",__icon:["ht.ui.drawable.ImageDrawable","ui_dropDownIcon","fill"],__hoverIcon:["ht.ui.drawable.ImageDrawable","ui_hoverDropDownIcon","fill"],__activeIcon:["ht.ui.drawable.ImageDrawable","ui_activeDropDownIcon","fill"],__valueIconWidth:16,__valueIconHeight:16,__iconWidth:20,setUpInteractors:function(){var G=this.$53u;G||(G=this.$53u=new vp.ComboBoxInteractor(this),G.addListeners())},setInputValue:function(j){var i=this._input;i.value=j!=$?"object"==typeof j?this.getValueText(j):j:""},createDropDownInstance:vp.ListView.prototype.$228u,setValue:function(c,W){var Q=this;vp.ComboBox.superClass.setValue.call(Q,c,W),Q.$227u=!1},layoutDropDown:function(a,s,P,t,N){a.setX(s),a.setY(P),a.setWidth(t),a.setHeight(N)},getValueText:function(t){return t?t.label:void 0},getValueIcon:function(J){return J?J.icon:void 0},setFormDataValue:function(v){var V=this,Z=V.getDatas();if(Z){Z._as&&(Z=Z._as);for(var k=!1,q=0,M=Z.length;M>q;q++){var J=Z[q];if(J===v||J.hasOwnProperty("id")&&J.id===v||J.hasOwnProperty("value")&&J.value===v){V.setValue(J),k=!0;break}}k||V.setValue(v)}else V.setValue(v)},getFormDataValue:function(){var l=this,P=l.getValue();if("object"==typeof P){if(P.hasOwnProperty("id"))return P.id;if(P.hasOwnProperty("value"))return P.value}return P},selectAt:function(J){var j=this,n=j.getDatas();n&&(n._as&&(n=n._as),j.setValue(n[J]))},initDropDown:function(){var y=this,F=y.getDropDownTemplate();if(F){var J=y._dropDown=y.createDropDownInstance(F),k=J._dropDownView=J.initDropDownView(y,y.getDatas(),y.getValue()),V=y.getDropDownConfig(),j=y.getValue();k.setStyle(J.__style),y._dropDown=J,y._dropDownView=k;for(var S in V)J.setPropertyValue(S,V[S]);J.beforeOpen(j),y.prepareLayoutDropDown(),H.body.appendChild(k.getView()),J.addValueChangeListener(y.handleDropDownValueChange,y),J.addDropDownListener(y.handleDropDownChange,y),J.addPropertyChangeListener(y.handleDropDownPropertyChange,y),y.$210u(y.$121u),J.afterOpen(j),k.iv(!0),y.setIconState(bg)}},prepareLayoutDropDown:function(){var K=this,H=K._dropDown,d=K._dropDownView,j=H.getWidth(),w=H.getHeight(),P=K.getView().getBoundingClientRect(),u=rd(),B=P.left+u.left,h=P.top+K.getHeight()+u.top;B+j>u.left+u.width&&(B=u.left+u.width-j),h+w>u.top+u.height&&(h=u.top+u.height-w),K.layoutDropDown(d,B,h,j,w)},handleDropDownPropertyChange:function(P){var S=this,G=P.property,m=S._dropDownView;!m||G!==ug&&G!==fq||S.prepareLayoutDropDown()},handleDropDownValueChange:function(r){this.setValue(r.value)},$159u:function(){var e=this;e._dropDown=e._dropDownView=$},handleDropDownChange:function(K){var W=this,U=W._dropDown,R=W._dropDownView;if(U){if(U.beforeClose(),"stop"===K.kind){var g=U.getDropDownValue();g!==M&&W.setValue(g)}W.$159u(),pc(R.getView()),U.removeValueChangeListener(W.handleDropDownValueChange,W),U.removeDropDownListener(W.handleDropDownChange,W),U.removePropertyChangeListener(W.handleDropDownPropertyChange,W),U.afterClose(),W.fireViewEvent("close"),W.setIconState(ej)}},figurePreferredSize:function(){return{width:100,height:20}},drawIcon:function(q,g,h,Y,l){var k=this,T=k.getBorder(),C=0,b=0,y=0,p=0;T&&T.isCSSBorder()&&(C=T.getTop(),b=T.getBottom(),y=T.getLeft(),p=T.getRight()),l=k.getHeight()-C-b;var I=k.getIconWidth(),P=l,X=k.getWidth()-I-y-p,A=0;q.draw(X,A,I,P,$,k),k.$177u={x:X-k.getContentLeft(),y:A-k.getContentTop(),width:I,height:P}},drawValueIcon:function(d,P,E,V,f){d.draw(P,E,V,f,$,this)},validateImpl:function(R,X,q,b){var j=this;vp.ComboBox.superClass.validateImpl.call(j,R,X,q,b);var C=j.getInput(),V=j.getValueIcon(j.getValue()),L=Xg(V);if(V&&L){j._oldInputPaddingLeft===M&&(j._oldInputPaddingLeft=C.style.paddingLeft);var g,w,s=j.getValueIconWidth(),n=j.getValueIconHeight(),y=1,S=1;g=R+1,C.style.paddingLeft=y+s+S+Fq,w=X+(b-n)/2,j.drawValueIcon(L,g,w,s,n)}else j._oldInputPaddingLeft!==M&&(C.style.paddingLeft=j._oldInputPaddingLeft),j._oldInputPaddingLeft=M},$212u:function(K){var F=this;if(gd(K)){var W=Uq(K),R=F._dropDown,t=F._dropDownView;t&&(F._view.contains(W)||R.isClickOnDropDownView(K)||F.close())}},$210u:function(i){im?H.addEventListener("touchstart",i):H.addEventListener("mousedown",i)},$211u:function(J){im?H.removeEventListener("touchstart",J):H.removeEventListener("mousedown",J)},open:function(){this.isOpened()||(this.initDropDown(),this.fireViewEvent("open"))},toggle:function(){var t=this;t.isOpened()?t.close():t.open()},isOpened:function(){return!!this._dropDown},close:function(){var d=this;d._dropDown&&(d._dropDown.stop(),d.fireViewEvent("close"))},getSerializableProperties:function(){var V=vp.ComboBox.superClass.getSerializableProperties.call(this);return lf(V,{valueIconWidth:1,valueIconHeight:1,dropDownConfig:1,datas:1,dropDownTemplate:1})}}),vp.ComboBoxInteractor=function(q){vp.ComboBoxInteractor.superClass.constructor.call(this,q)},db("ht.ui.ComboBoxInteractor",vp.TextFieldInteractor,{handle_keydown:function(p){var u=this,I=u.getComp();if(I.isSelfViewEvent(p)&&I.isOpened()){var C=I._dropDown.handle_keydown(p);C===!1&&p.preventDefault()}},handle_input:function(K){var x=this,u=x.getComp();u.$227u=!0,u.isSelfViewEvent(K)&&(vp.ComboBoxInteractor.superClass.handle_input.call(x,K),u.isOpened()&&u._dropDown.filter(K.target.value))},handle_mousedown:function(A){this.handle_touchstart(A)},handle_touchstart:function(m){var z=this,B=z.getComp();gd(m)&&B.isSelfViewEvent(m)&&(B.isSelfViewEvent(m)&&Uq(m)!==B._input&&Qo(m),B.iconHitTest(m)&&(!B.isInstant()&&B.$227u&&B.setValue(B.getInput().value),B.toggle(),B.isOpened()||B.setIconState(om)))},handle_touchend:function(){},handleWindowTouchEnd:function(){},handle_mouseleave:function(){var r=this,K=r.getComp();K.isOpened()||K.setIconState(ej)},handle_mousemove:function(D){var f=this,F=f.getComp();F.iconHitTest(D)?F.setCursor("default"):F.setCursor(""),F.isOpened()||(F.iconHitTest(D)?Dp()||F.setIconState(om):F.setIconState(ej))},handle_touchmove:function(){}}),c.ui.ColorPaneInteractor=function(a){this.$160u=a},db("ht.ui.ColorPaneInteractor",N,{ms_listener:1,getView:function(){return this.$160u._interactionDiv},getComp:function(){return this.$160u},clear:function(){delete this._state,delete this._label,delete this.$58u,delete this._color},handle_mousedown:function(S){this.handle_touchstart(S)},handle_touchstart:function(T){Qo(T);var Z=this,f=Z.getComp();if(f.hueHitTest(T))Z._state=1,Z.$169u(T,1);else if(f.colorsHitTest(T))Z._state=2,Z.$169u(T,2);else if(f.opacityHitTest(T))Z._state=3,Z.$169u(T,3);else{var F=f.paletteColorHitTest(T);if(F!=$)f.setValue(F.color),f.iv();else{var B=Z._label;if(im&&!B&&(B=Z._label=f.labelHitTest(T)),B!=$){var M=f._aInput.value,F={r:w(parseFloat(f._rInput.value)||0),g:w(parseFloat(f._gInput.value)||0),b:w(parseFloat(f._bInput.value)||0),a:M==$||""==M?1:parseFloat(M)};Z.$58u=Sc(T),Z._color=F,"red"===B?f._rInput.focus():"green"===B?f._gInput.focus():"blue"===B?f._bInput.focus():"alpha"===B&&f._aInput.focus(),Gm(Z,T)}}}},handle_mouseup:function(Q){this.handle_touchend(Q)},handle_touchend:function(e){var $=this;$.clear(e)},handleWindowMouseUp:function(X){this.handleWindowTouchEnd(X)},handleWindowTouchEnd:function(R){var z=this;z.clear(R)},handle_mousemove:function(d){var z=this;if(z.handle_touchmove(d),!z.$58u){var X=z.$160u,M=X.labelHitTest(d);z._label=M,M!=$?X.setCursor("ns-resize"):X.setCursor("")}},handle_touchmove:function(f){Qo(f);var _=this;_.getComp(),_._state&&Gm(_,f)},handleWindowMouseMove:function(v){this.handleWindowTouchMove(v)},handleWindowTouchMove:function(t){Qo(t);var d=this,i=d.getComp(),k=d._state;if(k)d.$169u(t,k);else{var Y=d._label;if(Y){var h=d.$58u,l=Sc(t),u={r:d._color.r,g:d._color.g,b:d._color.b,a:d._color.a};if("alpha"===Y){var F=(l.y-h.y)/100;u.a+=F,u.a<0?u.a=0:u.a>1&&(u.a=1)}else{var F=w(l.y-h.y);"red"===Y?(u.r+=F,u.r<0?u.r=0:u.r>255&&(u.r=255)):"green"===Y?(u.g+=F,u.g<0?u.g=0:u.g>255&&(u.g=255)):"blue"===Y&&(u.b+=F,u.b<0?u.b=0:u.b>255&&(u.b=255))}i.setValue("rgba("+u.r+", "+u.g+", "+u.b+", "+u.a+")")}}},handle_input:function(b){var A=this,H=A.getComp(),Z=b.target;if(Z===H._hexInput){var J=H._hexInput.value;for(0!==J.indexOf("#")&&(J="#"+J);J.length<7;)J+="0";H.setValue(J,{controls:!0,rgbaInput:!0})}else{var R=H._aInput.value,K={r:w(parseFloat(H._rInput.value)||0),g:w(parseFloat(H._gInput.value)||0),b:w(parseFloat(H._bInput.value)||0),a:R==$||""==R?1:parseFloat(R)};H.setValue("rgba("+K.r+", "+K.g+", "+K.b+", "+K.a+")",{controls:!0,hexInput:!0})}H.iv()},$169u:function(Y,U){Qo(Y);var s=this,q=s.getComp(),k=q.lp(Y);if(1===U){var a=q.$50u,C=k.x;C-=a.x,0>C&&(C=0),C>a.width&&(C=a.width),q.$48u=C}else if(2===U){var a=q.$51u,C=k.x,D=k.y;C-=a.x,D-=a.y,0>C&&(C=0),C>a.width&&(C=a.width),0>D&&(D=0),D>a.height&&(D=a.height),q.$52u.x=C,q.$52u.y=D}else if(3===U){var a=q.$233u,C=k.x;C-=a.x,0>C&&(C=0),C>a.width&&(C=a.width),q.$234u=C}if(U){var r=q.getHsv(),X=q.hsvToRgb(r.h/360,r.s/100,r.v/100),f={r:w(255*X.r),g:w(255*X.g),b:w(255*X.b),a:w(100*(q.$234u/q.$233u.width))/100};q.setValue("rgba("+f.r+", "+f.g+", "+f.b+", "+f.a+")",{hexInput:!0,rgbaInput:!0}),q.iv()}}}),vp.ColorPane=function(){var h=this;vp.ColorPane.superClass.constructor.call(h);var a=h._comboBox=new vp.ComboBox;a.setReadOnly(!0),h.initComboBoxDatas(),a.addPropertyChangeListener(function(G){"value"===G.property&&(h.$181u("paletteColors"),h._paletteWidth=$,h.iv())})},db("ht.ui.ColorPane",Ld,{ui_ac:[b,O,"sliderColor","inputColor","inputBackground","inputBorderColor","inputFont","previewBorderColor","paletteColors"],ms_ac:["value"],_preferredSizeProps:lf(up(os._preferredSizeProps),{paletteColors:!0}),$51u:{x:0,y:0,width:195,height:142},$50u:{x:0,y:147,width:150,height:14},$233u:{x:0,y:166,width:150,height:14},$49u:{x:162,y:147,width:33,height:33},$52u:{x:0,y:0},_hexInputRect:{x:0,y:185,width:55,height:20},_rInputRect:{x:60,y:185,width:30,height:20},_gInputRect:{x:95,y:185,width:30,height:20},_bInputRect:{x:130,y:185,width:30,height:20},_aInputRect:{x:165,y:185,width:30,height:20},_comboBoxRect:{x:0,y:230,width:195,height:20},_paletteColorsWidth:195,$48u:0,$234u:150,_value:"rgb(255, 255, 255, 1)",$178u:{width:10,height:10,comps:[{type:"rect",rect:[0,0,5,5],background:"white"},{type:"rect",rect:[5,0,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[0,5,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[5,5,5,5],background:"white"}]},__background:"white",__padding:8,__labelColor:"#818181",__labelFont:"12px Arial",__inputColor:"#818181",__inputBackgroundColor:"white",__inputBorderColor:"#818181",__inputFont:"12px #818181",__previewBorderColor:"#e2e4e4",__sliderColor:"#868584",__boxShadow:"0 8px 8px rgba(19, 158, 215, 0.6)",__paletteColors:{"Eastern Colors":[[null,"#F6D897","#F2BF40","#F8AC19","#986B22","#215D54","#25834C","#24D098"],["#F3C0C9","#BB6765","#B24A5B","#8D384D","#A83A39","#205586","#3DABDD","#A4D9DF"]],"Basic Colors":[[null,"#EF0D0D","#F8F90E","#10F810","#14FFFF","#2712F6","#F89017","#FF00FF"],["#F2F2F2","#E6E6E6","#CCCCCC","#808080","#666666","#4D4D4D","#333333","#1A1A1A"]],"Web Colors":[[null,"#FFFF66","#FFCC66","#F89017","#FF00FF","#FF0066","#FF0000","#990000"],["#00FFCC","#33FF33","#009900","#33CCFF","#3399FF","#3366FF","#6600FF","#330099"]]},getComboBox:function(){return this._comboBox},setValue:function(x,O){var G,m=this;if(m.setPropertyValue("value",x),O===M&&(O={rgbaInput:!0,hexInput:!0,controls:!0}),O)if(x){if(G=B.toColorData(x)){var L=4===G.length?G[3]/255:1;if(O.rgbaInput&&(m._rInput.value=G[0],m._gInput.value=G[1],m._bInput.value=G[2],m._aInput.value=L),O.hexInput&&(m._hexInput.value=m.rgbToHex(G[0]/255,G[1]/255,G[2]/255)),O.controls){var k=m.rgbToHsv(G[0]/255,G[1]/255,G[2]/255),f=m.$50u,R=m.$233u,p=m.$51u;m.$48u=f.width-f.width*k.h,m.$234u=R.width*L,m.$52u.x=p.width*k.s,m.$52u.y=p.height-p.height*k.v}}}else O.rgbaInput&&(m._rInput.value="",m._gInput.value="",m._bInput.value="",m._aInput.value=""),O.hexInput&&(m._hexInput.value=""),O.controls&&(m.$48u=0,m.$234u=150,m.$52u.x=0,m.$52u.y=0)},setUpInteractors:function(){var E=this.$53u;E||(E=this.$53u=new vp.ColorPaneInteractor(this),E.addListeners())},initView:function(y){var d=this;d.$49u,vp.ColorPane.superClass.initView.call(d,y),["hex","r","g","b","a"].forEach(function(k){var N=d["_"+k+"InputRect"],q=d["_"+k+"Input"]=H.createElement("input"),u=q.style;q.type="text",u.boxSizing="border-box",u.width=N.width+Fq,u.height=N.height+Fq,u.position="absolute",u.paddingLeft=2+Fq,u.left=N.x+Fq,q.addEventListener("focus",function(){q.select()}),q.value="a"===k?1:"hex"===k?"#FFFFFF":255,u.top=N.y+Fq,d.$198u.appendChild(q)})},initComboBoxDatas:function(){var F,y=this,B=y.getPaletteColors(),n=y._comboBox,j=[];if(B)for(var J in B)j.push(J),F==$&&(F=J);n.setDatas(j),n.setValue(F)},onPropertyChanged:function(O){var o=this;vp.ColorPane.superClass.onPropertyChanged.call(o,O),"paletteColors"===O.property&&(o._paletteWidth=$,o.initComboBoxDatas())},$55u:function(){if(this._paletteWidth!=$)return this._paletteWidth;var A=this,c=A.getPaletteColors();if(c){var I=c[A._comboBox.getValue()];if(I&&I.length>0){var f=A._paletteColorsWidth,b=I[0].length,G=A._paletteWidth=(f-5*(b-1))/b;return G}}},figurePreferredSize:function(){var u=this,d=u._aInputRect,j={width:u._paletteColorsWidth,height:d.y+d.height+2+16},p=u.getPaletteColors();if(p){j.height=u._comboBoxRect.y+u._comboBoxRect.height;var B=u.$55u();if(B>0){var x=p[u._comboBox.getValue()];j.height+=x.length*(B+5)-5+10}}return j.width+=u.getBorderLeft()+u.getBorderRight()+u.getPaddingLeft()+u.getPaddingRight(),j.height+=u.getBorderTop()+u.getBorderBottom()+u.getPaddingTop()+u.getPaddingBottom(),j},validateImpl:function(e,I){var l=this,W=l.getRootContext(),O=l.$51u,B=l.$50u,m=l._comboBox,c=l.$233u,u=l.$49u,Z=l.$52u,v=l.getHsv(),P=l.hsvToRgb(v.h/360,v.s/100,v.v/100);l.drawColors(W,e+O.x,I+O.y,O.width,O.height),l.drawColorsPointer(W,e+Z.x+O.x,I+Z.y+O.y,3),l.drawHueBar(W,e+B.x,I+B.y,B.width,B.height),l.drawHuePointer(W,e+B.x,I+B.y),l.drawOpacityBar(W,P,e+c.x,I+c.y,c.width,c.height),l.drawOpacityPointer(W,e+c.x,I+c.y),l.drawPreview(W,P,e+u.x,I+u.y,u.width,u.height),l.drawLabel(W,e,I);var A=m.getDatas(),h=l._comboBoxRect,p=m.getView();if(A&&A.length>0){p.parentNode||l.getContentDiv().appendChild(p),m.setX(h.x),m.setY(h.y),m.setWidth(h.width),m.setHeight(h.height);var b=l.getPaletteColors();b&&l.drawPaletteColors(W,b[m.getValue()],e+h.x,I+h.y+h.height+10)}else p.parentNode&&l.getContentDiv().removeChild(p);var k=l.getInputColor(),y=l.getInputBackground(),S=l.getInputBorderColor(),U=l.getInputFont();[l._hexInput,l._rInput,l._gInput,l._bInput,l._aInput].forEach(function(Z){Z.style.color=k,Z.style.background=y,Z.style.borderWidth="0 0 1px 0",Z.style.borderColor=S,Z.style.font=U})},getHsv:function(){var A=this,P=A.$52u,Y=A.$51u,F=A.$50u,r=A.$48u,u={h:w(360-r*(360/F.width)),s:w(100*P.x/Y.width),v:w(100-100*P.y/Y.height)};return u},drawPaletteColors:function(W,P,b,M){var q=this;if(q.$153u=[],P&&P.length>0)for(var r=q.$55u(),e=q.getContentLeft(),O=q.getContentTop(),i=0;i<P.length;i++)for(var u=0;u<P[i].length;u++){var l=P[i][u],E=b+(r+5)*u,x=M+(r+5)*i;q.$153u.push({rect:{x:E-e,y:x-O,width:r,height:r},color:l}),l==$?(W.beginPath(),W.rect(E,x,r,r),W.fillStyle="white",W.fill(),W.beginPath(),W.moveTo(E+1,x+1),W.lineTo(E+r-1,x+r-1),W.strokeStyle="red",W.lineWidth=4,W.stroke()):(W.beginPath(),W.rect(E,x,r,r),W.fillStyle=l,W.fill()),W.beginPath(),W.rect(E,x,r,r),W.lineWidth=1,W.strokeStyle=q.getPreviewBorderColor(),W.stroke()}},drawPreview:function(D,h,Y,J,N,T){var W=this,P=W.$178u,t=W.getValue(),b=W.$54u;if(!b){b=W.$54u=jq(),An(b,10,10,1);var o=ts(b);cf(o,P,0,0,10,10)}D.beginPath();var A=D.createPattern(b,"repeat");D.rect(Y,J,N,T),D.fillStyle=A,D.fill(),t!=$&&(D.beginPath(),D.fillStyle="rgba("+w(255*h.r)+", "+w(255*h.g)+", "+w(255*h.b)+", "+w(100*(W.$234u/W.$233u.width))/100+")",D.rect(Y,J,N,T),D.fill()),Jr(D,W.getPreviewBorderColor(),Y-1,J-1,N+2,T+2)},drawColors:function(o,f,q,Q,c){var z=this,e=z.getHsv().h,G=z.hsvToRgb(e/360,1,1);o.beginPath(),o.rect(f,q,Q,c),o.fillStyle=z.rgbToHex(G.r,G.g,G.b,!0),o.fill(),o.beginPath();var a=o.createLinearGradient(f,q,f+Q,q);a.addColorStop(0,"rgb(255, 255, 255)"),a.addColorStop(1,"rgba(255, 255, 255, 0)"),o.rect(f,q,Q,c),o.fillStyle=a,o.fill(),o.beginPath();var N=o.createLinearGradient(f,q,f,q+c);N.addColorStop(0,"rgba(0, 0, 0, 0)"),N.addColorStop(1,"rgba(0, 0, 0, 1)"),o.rect(f,q,Q,c),o.fillStyle=N,o.fill(),o.beginPath(),Jr(o,this.getPreviewBorderColor(),f-1,q-1,Q+2,c+2)},drawColorsPointer:function(m,P,X,k){m.beginPath(),m.arc(P,X,k,0,2*v),m.strokeStyle="#fff",m.lineWidth=2,m.stroke(),m.arc(P,X,k,0,2*v),m.strokeStyle=this.getSliderColor(),m.lineWidth=1,m.stroke()},drawHueBar:function(d,p,_,g,s){d.beginPath();var z=d.createLinearGradient(p,_,p+g,_),c=["255, 0, 0","255, 0, 255","0, 0 ,255","0, 255, 255","0, 255, 0","255, 255, 0"],C=c.length;c.forEach(function(y,G){z.addColorStop(G/C,"rgb("+y+")")}),z.addColorStop(1,"rgb("+c[0]+")"),d.rect(p,_,g,s),d.fillStyle=z,d.fill(),d.beginPath(),Jr(d,this.getPreviewBorderColor(),p-1,_-1,g+2,s+2)},drawHuePointer:function(u,Y,M){var t=this,U=t.$50u,j=t.$48u;u.beginPath(),u.rect(Y+j-2,M,4,U.height),u.fillStyle="white",u.strokeStyle=t.getSliderColor(),u.lineWidth=2,u.stroke(),u.fill()},drawOpacityBar:function(u,_,M,h,g,j){var s=this,e=s.$178u,t=s.$54u;if(!t){t=s.$54u=jq(),An(t,10,10,1);var d=ts(t);cf(d,e,0,0,10,10)}u.beginPath();var K=u.createPattern(t,"repeat");u.rect(M,h,g,j),u.fillStyle=K,u.fill(),u.beginPath();var q=u.createLinearGradient(M,h,M+g,h);q.addColorStop(0,"rgba("+w(255*_.r)+", "+w(255*_.g)+", "+w(255*_.b)+", "+0+")"),q.addColorStop(1,"rgba("+w(255*_.r)+", "+w(255*_.g)+", "+w(255*_.b)+", "+1+")"),u.rect(M,h,g,j),u.fillStyle=q,u.fill(),u.beginPath(),Jr(u,this.getPreviewBorderColor(),M-1,h-1,g+2,j+2)},drawOpacityPointer:function(w,Y,q){var e=this,D=e.$233u,Q=e.$234u;w.beginPath(),w.rect(Y+Q-2,q,4,D.height),w.fillStyle="white",w.strokeStyle=e.getSliderColor(),w.lineWidth=2,w.stroke(),w.fill()},drawLabel:function(E,w,L){var B=this,k=[B._hexInputRect,B._rInputRect,B._gInputRect,B._bInputRect,B._aInputRect];["HEX","R","G","B","A"].forEach(function(U,G){var T=k[G],$={x:T.x,y:T.y+T.height+2,width:T.width,height:16};fg(E,U,B.getLabelFont(),B.getLabelColor(),w+$.x,L+$.y,$.width,$.height,di,hq),"HEX"!==U&&(B["_"+U.toLowerCase()+"LabelRect"]=$)})},labelHitTest:function(Z){var w=this,z=Z;return Z instanceof Event&&(z=w.lp(Z)),Fb(w._rLabelRect,z)?"red":Fb(w._gLabelRect,z)?"green":Fb(w._bLabelRect,z)?"blue":Fb(w._aLabelRect,z)?"alpha":void 0},colorsHitTest:function(w){var q=this,m=q.$51u,p=w;return w instanceof Event&&(p=q.lp(w)),Fb(m,p)},opacityHitTest:function(X){var j=this,z=j.$233u,N=X;return X instanceof Event&&(N=j.lp(X)),Fb(z,N)},paletteColorHitTest:function(l){var e=this,Z=e.$153u,G=l;if(Z&&Z.length>0){l instanceof Event&&(G=e.lp(l));for(var k=0,j=Z.length;j>k;k++){var K=Z[k].rect;if(Fb(K,G))return{color:Z[k].color}}}},hueHitTest:function(N){var J=this,b=J.$50u,t=N;return N instanceof Event&&(t=J.lp(N)),Fb(b,t)},rgbToHsv:function(I,z,Q){var D,X,H=s(s(I,z),Q),P=m(m(I,z),Q),E=H;if(P==H)D=0,X=0;else{var N=H-P;X=N/H,D=I==H?(z-Q)/N:z==H?2+(Q-I)/N:4+(I-z)/N,D/=6,0>D&&(D+=1),D>1&&(D-=1)}return{h:D,s:X,v:E}},rgbToHex:function(K,v,R,d){return K=w(255*K),v=w(255*v),R=w(255*R),d==M&&(d=!0),K=K.toString(16),1==K.length&&(K="0"+K),v=v.toString(16),1==v.length&&(v="0"+v),R=R.toString(16),1==R.length&&(R="0"+R),((d?"#":"")+K+v+R).toUpperCase()},hexToRgb:function(L,C,y){y==M&&(y=$),"#"==L.substr(0,1)&&(L=L.substr(1));var p,Y,d;if(3==L.length)p=L.substr(0,1),p+=p,Y=L.substr(1,1),Y+=Y,d=L.substr(2,1),d+=d;else{if(6!=L.length)return y;p=L.substr(0,2),Y=L.substr(2,2),d=L.substr(4,2)}return p=$h(p,16),Y=$h(Y,16),d=$h(d,16),isNaN(p)||isNaN(Y)||isNaN(d)?y:C?{r:p,g:Y,b:d}:{r:p/255,g:Y/255,b:d/255}},hsvToRgb:function(B,h,m){var R,F,O;if(0==m)R=0,F=0,O=0;else{var g=W(6*B),l=6*B-g,x=m*(1-h),L=m*(1-h*l),n=m*(1-h*(1-l));switch(g){case 1:R=L,F=m,O=x;break;case 2:R=x,F=m,O=n;break;case 3:R=x,F=L,O=m;break;case 4:R=n,F=x,O=m;break;case 5:R=m,F=x,O=L;break;case 6:case 0:R=m,F=n,O=x}}return{r:R,g:F,b:O}},getSerializableProperties:function(){var b=vp.ColorPane.superClass.getSerializableProperties.call(this);return lf(b,{labelColor:1,labelFont:1,sliderColor:1,inputColor:1,inputBackground:1,inputBorderColor:1,inputFont:1,previewBorderColor:1,value:1,paletteColors:1})}}),c.ui.ColorDropDown=function(){},db("ht.ui.ColorDropDown",c.ui.DropDownTemplate,{initDropDownView:function(E,U,J){var W=this,b=new vp.ColorPane;return b.addPropertyChangeListener(function(t){"value"===t.property&&E.isInstant()&&W.fireValueChange(b.getValue())}),im?b.getView().addEventListener("touchend",function(s){(b.hueHitTest(s)||b.colorsHitTest(s))&&kl(function(){W.stop()})}):b.getView().addEventListener("dblclick",function(k){(b.hueHitTest(k)||b.colorsHitTest(k)||b.paletteColorHitTest(k))&&kl(function(){W.stop()})}),b.getView().addEventListener("keydown",function(K){K.target instanceof HTMLInputElement&&Lc(K)&&kl(function(){W.stop()})}),b.setValue(J),b.addViewListener(function(O){if("invalidatePreferredSize"===O.kind){var c=b.getPreferredSize();W.setWidth(c.width),W.setHeight(c.height)}}),b},isClickOnDropDownView:function(z){var a=this,h=a.getDropDownView(),S=Uq(z),w=h.getComboBox(),X=w._dropDown;return X&&X.isClickOnDropDownView(z)?!0:h.getView().contains(S)?!0:void 0},getDropDownValue:function(){var G=this,H=G.getDropDownView();return H.getValue()}}),vp.ColorPicker=function(){var Y=this;vp.ColorPicker.superClass.constructor.call(Y)},db("ht.ui.ColorPicker",vp.ComboBox,{_dropDownTemplate:"ht.ui.ColorDropDown",$178u:{width:10,height:10,comps:[{type:"rect",rect:[0,0,5,5],background:"white"},{type:"rect",rect:[5,0,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[0,5,5,5],background:"rgb(204, 204, 204)"},{type:"rect",rect:[5,5,5,5],background:"white"}]},requestFocus:function(){this._interactionDiv.focus()},setFormDataValue:function(M){this.setValue(M)},getFormDataValue:function(){var B=this,i=B.getValue();return i},initView:function(B){vp.ColorPicker.superClass.initView.call(this,B),this._input.style.visibility="hidden"},drawBackground:function(m,A,E,z,Y){var V=this,T=V.getRootContext(),$=V.getValue();A=V.getContentLeft()-V.getPaddingLeft(),E=V.getContentTop()-V.getPaddingTop(),z=V.getWidth()-V.getBorderLeft()-V.getBorderRight(),Y=V.getHeight()-V.getBorderTop()-V.getBorderBottom();var V=this,K=V.$178u,R=V.$54u;if(!R){R=V.$54u=jq(),An(R,10,10,1);var W=ts(R);cf(W,K,0,0,10,10)}T.beginPath();var F=T.createPattern(R,"repeat");T.rect(A,E,z,Y),T.fillStyle=F,T.fill(),$&&(T.beginPath(),T.rect(A,E,z,Y),T.fillStyle=$,T.fill())}}),vp.PropertyView=function(A){var w=this;vp.PropertyView.superClass.constructor.call(w),w._rows=new n,w.$81u=new n,w.$78u={},w.$79u={},w.setPropertyModel(new d),w.dm(A?A:new d)},db("ht.ui.PropertyView",Ld,{ui_ac:[b,r,"hoverLabelColor",O,Kb,"categorizable",Zr,"columnPosition",Yb,V,"drawable:expandIcon","drawable:collapseIcon","drawable:selectBackground","drawable:indentBackground","iconWidth","iconHeight","drawable:hoverBackground","pannable","drawable:checkIcon","drawable:uncheckIcon","rowHeightFunc",Y,G,q,o,k],ms_ac:["hoverProperty","selectProperty"],_preferredSizeProps:lf(up(os._preferredSizeProps),{ivm:!0}),ms_dm:1,ms_sm:1,_49o:1,ui_txy:1,$148u:1,$149u:1,$118u:l,$188u:0,$82u:0,__iconWidth:16,__iconHeight:16,__rowHeight:26,__radioOnIcon:"ui_"+P,__radioOffIcon:"ui_"+_,__checkIcon:"ui_"+L,__uncheckIcon:"ui_"+S,__rowLineColor:"#e2e4e4",__background:"white",__autoMakeVisible:!0,__selectBackground:"#cdecf8",__hoverBackground:"#f5f5f5",__labelColor:"black",__selectLabelColor:"#139DD7",__labelFont:"12px Arial",__dropLineColor:"#229ed5",__editable:!0,__batchEditable:!0,__categorizable:!0,__indent:26,__indentBackground:"#fafafa",__expandIcon:"ui_expand_icon",__collapseIcon:"ui_collapse_icon",__rowLineVisible:!0,__columnPosition:.5,__columnLineVisible:!0,__columnLineColor:"#e2e4e4",setUpInteractors:function(){var K=this.$66u;K||(K=this.$66u=new vp.ScrollInteractor(this),K.addListeners());var M=this.$53u;M||(M=this.$53u=new kd(this),M.addListeners())},tearDownInteractors:function(){var _=this.$53u;
_&&(_.removeListeners(),this.$53u=$);var n=this.$66u;n&&(n.removeListeners(),this.$66u=$)},initView:function(M){var p=this;vp.PropertyView.superClass.initView.call(p,M);var X=p._rendererDiv=oq();X.setAttribute(C,"ht-renderer"),p.$198u.appendChild(X)},isSelfViewEvent:function(B){var z=this,R=vp.PropertyView.superClass.isSelfViewEvent.call(z,B);if(!R){var s=Uq(B);z._rendererDiv.contains(s)&&(R=!0)}return R},figurePreferredSize:function(){var u,v,F=this,d=F.getRowHeightFunc();F.$116u&&(F.validateModel(),F.$116u=$),u=F._rows;var I=0,H=u.size();if(d)for(var L=0;H>L;L++){var K=u.get(L);I+=d.call(F,ed(K)||K instanceof vp.Property?K:K.property)}else I=u.size()*F.getRowHeight();return v={width:200,height:I},v.width+=F.getBorderLeft()+F.getBorderRight()+F.getPaddingLeft()+F.getPaddingRight(),v.height+=F.getBorderTop()+F.getBorderBottom()+F.getPaddingTop()+F.getPaddingBottom(),v},getRows:function(){return this._rows},setColumnPosition:function(s){0>s&&(s=0),s>1&&(s=1),this.setPropertyValue("columnPosition",s)},getPropertyName:function(n){return n.toLabel()},getCurrentLabelColor:function(J){if(J){var X=this,h=X.getLabelColor(J),l=X.getHoverLabelColor(J),$=X.getSelectLabelColor(J);return J?J===this.getSelectProperty()?$||h:J===this.getHoverProperty()?l||h:h:h}},getPropertyFont:function(q){return this.getLabelFont(q)},getPropertyColor:function(O){return O===this.getSelectProperty()?this.getSelectLabelColor(O):O.getColor()||this.getLabelColor(O)},getCategoryFont:function(j){return this.getLabelFont(j)},getCategoryColor:function(n){return this.getLabelColor(n)},adjustTranslateX:function(){return 0},adjustTranslateY:function(T){var y=this.getContentHeight()-this.$188u;return y>T&&(T=y),T>0?0:w(T)},toggleHitTest:function(s){var k=this,P=k.getRowIndexAt(s);if(P>=0){var R,H=0,v=k.getRowHeightFunc(),w=k._rows;if(v){var h=w.get(P);R=v.call(k,ed(h)||h instanceof vp.Property?h:h.property);for(var $=0;P>$;$++)h=w.get($),H+=v.call(k,ed(h)||h instanceof vp.Property?h:h.property)}else R=k.getRowHeight(),H=R*P;var i=s,D=w.get(P),q=k.getIndent();if(ed(D)){i instanceof Event&&(i=k.lp(s));var G=i.x,F=i.y;if(G>=0&&q>=G&&F>=H&&H+R>=F)return!0}}},resizeHitTest:function(i){var Y=this,N=i;return N instanceof Event&&(N=Y.lp(i)),Z(N.x-Y.$82u)<=(im?8:3)},isExpanded:function(l){if(!l)return!0;var E=this.$78u[l];return E?E.isExpanded:!(this.$79u[l]===!1)},toggle:function(g){var r=this;r.isExpanded(g)?r.collapse(g):r.expand(g)},expandAll:function(){this.validate();for(var N in this.$78u)this.expand(N)},expand:function(x){if(x&&x!==be){var r=this,n=r.$78u[x];n&&!n.isExpanded&&(n.isExpanded=!0,r.onExpanded(x),r.ivm())}},onExpanded:function(){},collapseAll:function(){this.validate();for(var y in this.$78u)this.collapse(y)},collapse:function(y){if(y&&y!==be){var Y=this,P=Y.$78u[y];P&&P.isExpanded&&(P.isExpanded=!1,Y.onCollapsed(y),Y.ivm())}},onCollapsed:function(){},getCategoryName:function(F){if(!this.isCategorizable())return be;var d=F.getCategoryName();return d?d:be},getPropertyModel:function(){return this._propertyModel},setPropertyModel:function(a){var x=this,s=x.ivm,T=x._propertyModel;a!==T&&(T&&(T.umm(x.ivm,x),T.umd(x.ivm,x),T.umh(x.ivm,x)),x._propertyModel=a,a.mm(s,x),a.md(s,x),a.mh(s,x),x.fp("propertyModel",T,a))},setDataModel:function(R){var p=this,b=p._dataModel;b!==R&&(b&&(b.umd(p.handlePropertyChange,p),p._selectionModel||b.sm().ums(p.ivm,p)),p._dataModel=R,R.md(p.handlePropertyChange,p),p._selectionModel?p._selectionModel._setDataModel(R):R.sm().ms(p.ivm,p),p.fp(sk,b,R))},isVisible:function(c){var H=this.getVisibleFunc();return H?H(c):!0},onPropertyChanged:function(j){var _=this,O=j.property;vp.PropertyView.superClass.onPropertyChanged.call(_,j),Pd[O]?_.ivm():_.iv()},getCurrentData:function(){return this.$80u},$119u:function(){this.$80u=this.sm().ld()},getRawProperties:function(){return this.$80u?this._propertyModel._roots:new n},handlePropertyChange:function(i){this.$80u===i.data&&this.iv()},ivm:function(){this.invalidateModel()},invalidateModel:function(){var O=this;O.$116u||(O.$181u("ivm"),O.$182u("ivm"),O.$183u("ivm"),O.setSelectProperty($),O.setHoverProperty($),O.$116u=1,O.iv())},validateModel:function(){var L=this,g=L._rows,F=L.$81u,T={},J=new n,w=L.$80u;L.$119u(),w!==L.$80u&&L._editor&&L._editor.stopEditing(),g.clear(),F.clear(),L.getRawProperties().each(function(r){if(L.isVisible(r)){J.add(r);var z=L.getCategoryName(r);T[z]||(F.add(z,z===be?0:M),T[z]={isExpanded:L.isExpanded(z),properties:new n})}});var a=L.getSortFunc();a&&J.sort(a);for(var e in L.$78u)L.$79u[e]=L.isExpanded(e);L.$78u=T,F.each(function(X){X!==be&&g.add(X);var b=T[X];b.isExpanded&&J.each(function(e){L.getCategoryName(e)===X&&(b.properties.add(e),g.add({property:e,data:L.$80u}))},L)})},layoutEditor:function(U,C,K,x,n){U.setX(C),U.setY(K),U.setWidth(x),U.setHeight(n)},$228u:vp.ListView.prototype.$228u,initEditorView:function(o,f,q){var L=this.getValue(o,f),m=q.$230u=q.initEditorView(this,o,L,f);return m.setStyle&&m.setStyle(q.__style),m},beginEdit:function(S,n,c){var z,$=this,h=$._rows,T=h.size(),m=$.getRowHeightFunc(),L=0;if(!(c instanceof vp.editor.Editor)){if(c||(c=$.getEditorClassAt(n,S)),ed(c)&&(c=B.getClass(c)),!c)return;var q=c;c=new q}n instanceof vp.Property||(n=$.getPropertyAt(e));var s=$.$230u=$.initEditorView(S,n,c);if($._editor=c,$.$231u=S,$._editorProperty=n,m){z=m.call($,ed(n)||n instanceof vp.Property?n:n.property);for(var K=0;T>K;K++){var F=h.get(K);if(ed(F)||F instanceof vp.Property?F:F.property===n)break;L+=m.call($,ed(F)||F instanceof vp.Property?F:F.property)}}else z=$.getRowHeight(),L=z*$.getRowIndex(n);var P=$.$82u,j=P+1,Y=$.getContentWidth()-P-1,X=z;$.layoutEditor(s,j,L+$.ty(),Y,X),$.$67u||($.$67u=$.handleEditorValueChange.bind(this)),$.$68u||($.$68u=$.$213u.bind(this)),c.addValueChangeListener($.$67u),c.addEditorListener($.$68u),$.$198u.appendChild(s.getView()),s.iv(!0),c.shouldSelect()&&s.requestFocus(),c.afterLayout(s),$.fireViewEvent("beginEdit"),$.iv()},setDataValue:function(e,U,y){rg(U,y.getAccessType(),y.getName(),e)},handleEditorValueChange:function(h){this.setDataValue(h.value,this.$231u,this._editorProperty)},$163u:function(){var F=this;F._editor=F.$230u=F.$231u=F._editorProperty=$},isEditing:function(e,N){var $=this;return e||N?$.$231u===e&&$._editorProperty===N?!0:void 0:!!$._editor},getEditor:function(){return this._editor},endEdit:function(N){var t=this,A=t._editor,T=t.$230u;if(A){if(N){var g=A.getEditorValue();t.setDataValue(g,t.$231u,t._editorProperty)}t.$163u(),A.removeValueChangeListener(t.$67u),A.removeEditorListener(t.$68u),A.beforeRemove(T),pc(T.getView()),t.iv(),t.fireViewEvent("endEdit")}},$213u:function(i){var Q=this,O=Q._editor;if(Q.$230u,O){var t=!1;"stop"===i.kind&&(t=!0),Q.endEdit(t)}},getEditorClassAt:function(p,I){var N=this,m=p instanceof vp.Property?p:N.getPropertyAt(p);if(m){var o=m.getEditorClass(I);return o}},getToggleIconDrawable:function(d){var m=this;return m.isExpanded(d)?m.getExpandIconDrawable():m.getCollapseIconDrawable()},getPropertyBackgroundDrawable:function(N){var J=this;return N===J.getSelectProperty()?J.getSelectBackgroundDrawable():N===J.getHoverProperty()?J.getHoverBackgroundDrawable():void 0},processValidateImpl:function(){var M=this;M.$116u&&(M.validateModel(),delete M.$116u),vp.PropertyView.superClass.processValidateImpl.call(M)},validateImpl:function(m,c,Z,O){var f=this;f.removeElements();var p,M,B,I=f.getRowHeightFunc(),R=-f.ty(),x=f.getIndent(),K=f.getIconWidth(),H=f.getIconHeight(),o=Z-x,l=f._rows,j=l.size(),A=f.$82u=x+o*f.getColumnPosition(),L=0;if(I)for(var N=0;j>N;N++){var e=l.get(N);L+=I.call(f,ed(e)||e instanceof vp.Property?e:e.property)}else L=j*f.getRowHeight();var C=f.$118u={x:0,y:R,width:Z,height:O};if(f.$188u=L,I){for(var V=0,N=0;j>N;N++){var e=l.get(N);if(V+=I.call(f,ed(e)||e instanceof vp.Property?e:e.property),V>=C.y){M=N;break}}M==$&&(M=0)}else M=W(C.y/f.getRowHeight());if(f.$70u=M,I){V=0;for(var N=0;j>N;N++){var e=l.get(N);if(V+=I.call(f,ed(e)||e instanceof vp.Property?e:e.property),V>=C.y+C.height){B=N+1;break}}B==$&&(B=j)}else B=E((C.y+C.height)/f.getRowHeight());f.$69u=B,f.$70u<0&&(f.$70u=0),f.$69u>j&&(f.$69u=j);var k=f.getRootContext(),d=f.getIndentBackgroundDrawable();k.save(),k.beginPath(),k.rect(m,c,Z,O),k.clip(),k.translate(m,c),k.translate(0,-R),f._93db(k),d&&d.draw(0,R,x,O,$,f);for(var N=f.$70u;N<f.$69u;N++){var U=l.get(N),s=0;if(I){p=I.call(f,ed(U)||U instanceof vp.Property?U:U.property);for(var T=0;N>T;T++){var z=l.get(T);s+=I.call(f,ed(z)||z instanceof vp.Property?z:z.property)}}else p=f.getRowHeight(),s=p*N;if(ed(U)){d&&d.draw(x,s,o,p,$,f);var h=f.getToggleIconDrawable(U);h&&h.draw((x-K)/2,s+(p-H)/2,K,H,$,f),k.save(),k.beginPath(),k.rect(x,s,o,p),k.clip(),f.drawCategoryName(k,U,N,x,s,o,p),k.restore()}else{var w=U.property,y=w.getPaddingLeft(),J=w.getPaddingRight(),i=U.data,F=w.getIcon(),q=f.getPropertyBackgroundDrawable(w);F&&sc(k,ye(F),ki,(x-K)/2,s+(p-H)/2,K,H),q&&q.draw(x,s,o,p,$,f),k.save(),k.beginPath();var _=x+y,t=A-x-y-J;if(k.rect(_,s,t,p),k.clip(),f.drawPropertyName(k,w,N,_,s,t,p),k.restore(),!f.isEditing(i,w)){var G=A+1+y,b=Z-A-1-y-J;k.save(),k.beginPath(),k.rect(G,s,b,p),k.clip(),f.addElement(f.drawPropertyValue(k,w,f.getValue(i,w),N,G,s,b,p,i),w.getId(),0,G,s,b,p),k.restore()}}f.isRowLineVisible()&&ij(k,x,s+p-1,o,1,f.getRowLineColor())}f.isColumnLineVisible()&&(ij(k,A,0,1,L,f.getColumnLineColor()),ij(k,Z-1,0,1,L)),f._92db(k),k.restore(),f.ty(f.ty())},getStartRowIndex:function(){return this.$70u},getEndRowIndex:function(){return this.$69u},drawCategoryName:function(J,E,A,j,$,e,a){fg(J,E,this.getCategoryFont(E),this.getCategoryColor(E),j,$,e,a)},drawPropertyName:function(X,t,E,J,Y,C,W){return t.drawPropertyName?(t.drawPropertyName(X,t,E,J,Y,C,W,this),void 0):(fg(X,this.getPropertyName(t),this.getPropertyFont(t,E),this.getPropertyColor(t,E),J,Y,C,W),void 0)},drawPropertyValue:function(C,b,B,$,S,h,j,z,A){return b.drawPropertyValue?b.drawPropertyValue(C,b,B,$,S,h,j,z,A,this):(Qb(C,B,b,this.getLabelFont(b,B,$),this.getCurrentLabelColor(b,B,$),S,h,j,z,A,this),void 0)},isPropertyEditable:function(M,e){var t=this,G=e.isEditable()&&t.isEditable();if(e=e==$?t.getPropertyAt(M):e,G){var i,N=t.getRowHeightFunc(),X=t._rows,p=X.size(),S=M,L=t.$82u,m=L+1,P=0,b=t.getContentWidth()-L-1;if(N){i=N.call(t,ed(e)||e instanceof vp.Property?e:e.property);for(var v=0;p>v;v++){var n=X.get(v);if(n instanceof vp.Property?n:n.property===e)break;P+=N.call(t,ed(n)||n instanceof vp.Property?n:n.property)}}else i=t.getRowHeight(),P=t.getRowIndex(e)*i;var O={x:m,y:P,width:b,height:i};if(S instanceof Event&&(S=t.lp(M)),Fb(O,S))return!0}},setProperties:function(e){this._propertyModel.clear(),this.addProperties(e)},addProperties:function(F){if(F){var R=this._propertyModel;F.forEach(function(J){if(!(J instanceof Xb)){var E=Ke(J.className);J=wg(E?E:Xb,J)}R.add(J)})}},getRowIndexAt:function(R){if(this.isContentEvent(R)){Uq(R)&&(R=this.lp(R));var o=this,$=o._rows,r=$.size(),E=o.getRowHeightFunc(),B=-1;if(E)for(var T=0,p=0;r>p;p++){var w=$.get(p);if(T+=E.call(o,ed(w)||w instanceof vp.Property?w:w.property),T>R.y){B=p;break}}else B=W(R.y/o.getRowHeight());return B>=0&&r>B?B:-1}},getRowIndex:function(S){for(var W=this,A=W._rows,m=0;m<A.size();m++){var h=A.get(m);if(h.property===S)return m}},getPropertyAt:function(I){var w=this,d=w.getRowIndexAt(I);return d>=0?w._rows.get(d).property:$},getToolTip:function(U){var u=this,G=u.getPropertyAt(U),q=u.$80u;return G&&q?G.getToolTip(q,u.$82u<u.lp(U).x,u):$},getSerializableProperties:function(){var l=vp.PropertyView.superClass.getSerializableProperties.call(this);return lf(l,{labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,editable:1,categorizable:1,indent:1,columnPosition:1,sortFunc:1,visibleFunc:1,expandIcon:1,expandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,hoverBackground:1,hoverBackgroundDrawable:1,selectBackground:1,selectBackgroundDrawable:1,indentBackground:1,indentBackgroundDrawable:1,iconWidth:1,iconHeight:1,pannable:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,rowHeightFunc:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,columnLineVisible:1,columnLineColor:1,dataModel:1,propertyModel:1,selectionModelShared:1,selectionModel:1,selectProperty:1})},serializeProperty:function(r,$,t){var S=this;return"selectProperty"===$?{__i:r.getId()}:t.serializeProperty(r,$,S)},deserializeProperty:function(y,p,B){var v=this;if("selectProperty"===p){var D=v.getPropertyModel(),J=D.__idMap;return J[y.__i]}return B.deserializeProperty(y,p,v)}});var kd=function(Z){this.pv=Z};db(kd,N,{ms_listener:1,getView:function(){return this.pv._interactionDiv},clear:function(){var M=this;M.state=M.$44u=M.$46u=M.p=$,M.pv.setCursor("")},handle_mousedown:function(e){this.handle_touchstart(e)},handle_touchstart:function(e){var o=this,Y=o.pv;if(delete o.$31u,Y.isSelfViewEvent(e)){var i=Y._editor;if(i&&i.stopEditing(),!e.$146u){Y.requestFocus(),Y._rendererDiv.contains(Uq(e))||Qo(e);var j=Y.getCurrentData(),y=Y.getPropertyAt(e);if(y){var l=Y.isPropertyEditable(e,y);if(y.getValueType()===I)o.$31u=Sc(e);else if(l){var r=Y.getEditorClassAt(y,j);r&&kl(function(){var c=Y.$228u(r);c&&c.isEditable(e)&&(Y.beginEdit(j,y,c),o.clear())})}}Y._editor||(gd(e)?(o.$44u=Sc(e),o.$46u=Y.ty(),o.p=Y.getColumnPosition(),o.handle_touchmove(e)):Y.setSelectProperty(y))}}},handleWindowMouseUp:function(){this.clear()},handleWindowTouchEnd:function(){this.clear()},handle_mouseup:function(y){this.handle_touchend(y)},handle_touchend:function(f){var V=this,M=V.pv;if(M.isSelfViewEvent(f)){var L=M.getCurrentData(),$=M.getPropertyAt(f);if($){var i=M.isPropertyEditable(f,$);if(i)if($.getValueType()===I){var z=V.$31u;if(z){delete V.$31u;var T=Sc(f);lr(z,T)<2&&M.setDataValue(!M.getValue(L,$),L,$)}}else if(V.$44u){var T=Sc(f);if(lr(T,V.$44u)<2){var e=M.getEditorClassAt($,L);if(e){var O=M.$228u(e);if(O&&O.isEditable(f)){var j=M._editor;j&&j.stopEditing(),M.beginEdit(L,$,O)}}}}}if(!M._editor&&V.$44u&&!V.state){var M=V.pv,A=M.getRowIndexAt(f);if(A>=0){var v=M._rows.get(A);ed(v)&&(M.toggleHitTest(f)?M.toggle(v):cb(f)&&M.toggle(v))}M.setSelectProperty($)}}V.clear()},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(F){var a=this,V=a.pv,S=a.$46u,r=a.$44u,p=Sc(F),u=a.state;if("p"===u)V.setTranslateY(S+p.y-r.y);else if("c"===u){var i=V.getContentWidth()-V.getIndent();if(i>16){var L=a.p-(r.x-p.x)/i,j=16/i;j>L&&(L=j),L>1-j&&(L=1-j),V.setColumnPosition(L)}}},handle_mousemove:function(G){this.handle_touchmove(G)},handle_touchmove:function(o){if(!Dp()&&gd(o)&&!o.$146u){var V=this,M=V.pv;if(M.isSelfViewEvent(o)){M.setHoverProperty(M.getPropertyAt(o));var f=M.resizeHitTest(o);V.$44u?V.state||(f?(V.state="c",Gm(V)):M.isPannable()&&Z(Sc(o).y-V.$44u.y)>=2&&(V.state="p",Gm(V))):f?M.setCursor(F):M.setCursor(yk)}}},handle_mousewheel:function(c){this.handleScroll(c,c.wheelDelta/40)},handle_DOMMouseScroll:function(R){2===R.axis&&this.handleScroll(R,-R.detail)},handleScroll:function(H){var f=this.pv;f.isSelfViewEvent(H)&&(Qo(H),f._editor&&f._editor.stopEditing())},handle_keydown:function(l){var E=this.pv,B=E._rows,U=B.size(),y=E.getSelectProperty();if(y&&E.isSelfViewEvent(l)){var _=E.getRowIndex(y);if(Qh(l)||Ie(l)){for(var p;!p||!p.property;){var I=!1;if(_+=Qh(l)?-1:1,0>_&&(_=0,I=!0),_>=U&&(_=U-1,I=!0),p=B.get(_),I)break}p&&E.setSelectProperty(p.property)}}},handle_mouseleave:function(){this.pv.setHoverProperty($)}}),vp.PropertyPane=function(M){var Q=this;vp.PropertyPane.superClass.constructor.call(Q);var _=Q.$235u=Q.createCategoryButton(),q=Q.$236u=Q.createSortButton(),G=Q.$237u=Q.createFilterInput(),O=Q._propertyView=new vp.PropertyView(M);_.setSelected(O.isCategorizable()),_.addPropertyChangeListener(function(h){"selected"===h.property&&(h.newValue?O.setCategorizable(!0):O.setCategorizable(!1))}),q.setSelected(!!O.getSortFunc()),q.addPropertyChangeListener(function(d){"selected"===d.property&&(d.newValue?O.setSortFunc(Q.getSortFunc()):O.setSortFunc(null))}),Q.addView(_),Q.addView(q),Q.addView(G),Q.addView(O),O.isVisible=function(p){var s=G.getValue(),w=this.getVisibleFunc(),j=this.getPropertyName(p);if(j&&s)if(Q.isCaseSensitive()){if(j.indexOf(s)<0)return!1}else if(j.toLocaleLowerCase().indexOf(s.toLocaleLowerCase())<0)return!1;return w?w(p):!0},O.mp(function(o){var h=o.property;("indent"===h||"columnPosition"===h||"sortFunc"===h||"categorizable"===h)&&Q.iv()}),G.addPropertyChangeListener(function(I){"value"===I.property&&O.ivm()}),Q._sortFunc=function(r,C){return B.sortFunc(O.getPropertyName(r),O.getPropertyName(C))}},db("ht.ui.PropertyPane",vp.ViewGroup,{setUpInteractors:function(){var S=this;vp.PropertyPane.superClass.setUpInteractors.call(S);var c=S.$238u;c||(c=S.$238u=new Se(S),c.addListeners())},tearDownInteractors:function(){var o=this;vp.PropertyPane.superClass.tearDownInteractors.call(o),o.$238u,scrollInteractor&&(scrollInteractor.removeListeners(),o.$238u=$)},ui_ac:["headerLabelColor","headerLabelFont","headerLabelAlign","headerLabels","is:caseSensitive","toolbarHeight","headerHeight"],ms_ac:["sortFunc"],__background:"#fafafa",__caseSensitive:!1,__headerLabels:["Property","Value"],__headerLabelColor:"black",__headerLabelFont:"12px Arial",__headerLabelAlign:"center",__toolbarHeight:24,__headerHeight:22,createCategoryButton:function(){var h=new vp.ToggleButton;return h.setBackground(null),h.setHoverBackground("#e1e1e1"),h.setActiveBackground(null),h.setSelectBackground(null),h.setSelectHoverBackground("#e1e1e1"),h.setSelectActiveBackground(null),h.setSelectIcon("propertypane_activeCategory"),h.setIcon("propertypane_category"),h.setHoverIcon("propertypane_category"),h.setActiveIcon("propertypane_activeCategory"),h},createSortButton:function(){var o=new vp.ToggleButton;return o.setBackground(null),o.setHoverBackground("#e1e1e1"),o.setActiveBackground(null),o.setSelectBackground(null),o.setSelectHoverBackground("#e1e1e1"),o.setSelectActiveBackground(null),o.setSelectIcon("propertypane_activeSort"),o.setIcon("propertypane_sort"),o.setHoverIcon("propertypane_sort"),o.setActiveIcon("propertypane_activeSort"),o},createFilterInput:function(){var C=new vp.TextField;return C.setInstant(!0),C},getFilterInput:function(){return this.$237u},getPropertyView:function(){return this._propertyView},getSortButton:function(){return this.$236u},getCategoryButton:function(){return this.$235u},addProperties:function(E){this._propertyView.addProperties(E)},drawHeaderLabel:function(M,s,S,K,o,C){var T=this;M.save(),M.beginPath(),M.rect(S,K,o,C),M.clip(),fg(M,s,T.getHeaderLabelFont(),T.getHeaderLabelColor(),S,K,o,C,T.getHeaderLabelAlign()),M.restore()},validateImpl:function(P,i,O,a){var y=this,z=y._propertyView,A=y.$235u,l=y.$236u,K=y.$237u,c=y.getToolbarHeight(),w=y.getHeaderHeight(),Z=y.getHeaderLabels(),_=y.getRootContext();if(_.beginPath(),c>0){var k=A.getPreferredSize(),F=0;y.layoutChild(A,F,0,k.width,c),F+=k.width,k=l.getPreferredSize(),y.layoutChild(l,F,0,k.width,c),F+=k.width,y.layoutChild(K,F+1,1,O-F-2,c-2),A.getView().style.display="block",l.getView().style.display="block",K.getView().style.display="block"}else A.getView().style.display="none",l.getView().style.display="none",K.getView().style.display="none";var d=z.getIndent(),m=d+z.getColumnPosition()*(O-d);w>0&&(y.drawHeaderLabel(_,Z[0],P,i+c,m,w),y.drawHeaderLabel(_,Z[1],P+m+1,i+c,O-m-1,w),jo.drawVerticalLine(_,z.getColumnLineColor(),P+m,i+c,w),ij(_,P,i+c+w-1,O,1,z.getRowLineColor())),y.layoutChild(z,0,c+w,O,a-c-w)},getSerializableProperties:function(){var u=vp.PropertyPane.superClass.getSerializableProperties.call(this);return delete u.children,lf(u,{headerLabelColor:!0,headerLabelFont:!0,headerLabelAlign:!0,headerLabels:!0,"is:caseSensitive":!0,toolbarHeight:!0,headerHeight:!0,sortFunc:!0})}});var Se=function(J){Se.superClass.constructor.call(this,J)};db(Se,c.ui.Interactor,{handle_mousedown:function(V){B.isLeftButton(V)&&this.handle_touchstart(V)},handleWindowMouseMove:function(E){this.handleWindowTouchMove(E)},handleWindowMouseUp:function(j){this.handleWindowTouchEnd(j)},handle_mousemove:function(y){var q=this,h=q.getComponent(),u=h.getPropertyView();if(!Dp()||h.isSelfViewEvent(y)){var B=h.getToolbarHeight(),R=h.getHeaderHeight(),D=h.lp(y),F=D.x,K=D.y;if(h.setCursor("default"),B+R>K&&K>=B){var T=u.getIndent(),z=T+u.getColumnPosition()*(h.getContentWidth()-T);F>z-(im?16:6)&&z+(im?16:6)>F&&h.setCursor("ew-resize")}}},handle_touchstart:function(l){var Z=this,Y=Z.getComponent();if(Y.isSelfViewEvent(l)){B.preventDefault(l);var Z=this,X=Y.getPropertyView(),h=Y.getToolbarHeight(),D=Y.getHeaderHeight(),K=Y.lp(l),u=K.x,U=K.y;if(h+D>U&&U>=h){var x=X.getIndent(),r=x+X.getColumnPosition()*(Y.getContentWidth()-x);u>r-(im?16:6)&&r+(im?16:6)>u&&Gm(Z,l)}}},handleWindowTouchMove:function(h){var _=this,S=_.getComponent(),d=S.getPropertyView(),V=S.lp(h).x,E=d.getIndent(),r=S.getContentWidth(),G=r-E;if(G>16){var e=(V-E)/G,Y=16/G;Y>e&&(e=Y),e>1-Y&&(e=1-Y),d.setColumnPosition(e)}},handleWindowTouchEnd:function(){}}),vp.TreeView=function(r){var X=this;X.$137u(),X.$136u(r),X.setUpInteractors()},db("ht.ui.TreeView",Ld,{ui_ac:[b,r,"hoverLabelColor",O,"rootVisible",Di,Yb,V,Zr,Y,G,q,oo,"iconGap","pannable","drawable:expandIcon","drawable:collapseIcon","drawable:selectBackground","rowHeightFunc","drawable:hoverBackground","iconWidth","iconHeight","drawable:checkIcon","drawable:uncheckIcon","drawable:radioOnIcon","drawable:radioOffIcon","editorClass","editable","dragEnabled","dropEnabled","dropLineColor"],ms_ac:["rootData","hoverData","loader"],_preferredSizeProps:lf(up(os._preferredSizeProps),{ivm:!0}),ms_bnb:1,ms_sm:1,_49o:1,ui_txy:1,$152u:1,ms_dm:1,$150u:1,$162u:1,$148u:1,__iconWidth:16,__iconHeight:16,__iconGap:4,__rowHeight:26,__radioOnIcon:"ui_"+P,__radioOffIcon:"ui_"+_,__checkIcon:"ui_"+L,__uncheckIcon:"ui_"+S,__rowLineVisible:!1,__rowLineColor:"#e2e4e4",__background:"#f5f5f5",__autoMakeVisible:!0,__selectBackground:["ht.ui.drawable.SelectListItemDrawable",2,"#229ed5","rgba(204, 236, 248, 1)","rgba(204, 236, 248, 0)"],__hoverBackground:"#fafafa",__labelColor:"black",__selectLabelColor:"#139DD7",__labelFont:"12px Arial",__dropLineColor:"#229ed5",__checkMode:$,__expandIcon:"ui_expand_icon",__collapseIcon:"ui_collapse_icon",__indent:16,__rootVisible:!0,setUpInteractors:function(){var l=this.$66u;l||(l=this.$66u=new vp.ScrollInteractor(this),l.addListeners());var z=this.$53u;z||(z=this.$53u=new vo(this),z.addListeners())},tearDownInteractors:function(){var b=this.$53u;b&&(b.removeListeners(),this.$53u=$);var k=this.$66u;k&&(k.removeListeners(),this.$66u=$)},checkHitTest:function(m,x){var W=this;if(W.isCheckMode()){var j=m;m instanceof Event&&(j=W.lp(m)),x||(x=W.getDataAt(m));var e=j.x,p=W.getLevel(x),q=W.getIndent(),a=W.getIconWidth(),X=q*p+a+W.getIconGap()+4;if(e>=X&&X+a>=e)return!0}},toggleHitTest:function(H,U){var n=this,b=H;if(U||(U=n.getDataAt(H)),n.getToggleIconDrawable(U)){H instanceof Event&&(b=n.lp(H));var a=b.x,q=n.getIndent(),M=n.getLevel(U),N=q*M+4;if(a>=N&&a<=N+n.getIconWidth())return!0}},isDataEditable:function(g,e){var J=this,n=J.isEditable();return e=e==$?J.getDataAt(g):e,n&&e&&!J.checkHitTest(g,e)&&!J.toggleHitTest(g,e)?!0:void 0},getRowBackgroundDrawable:function(e,S){var x=this,g=x.isCheckMode();return e===x.getFocusData()&&g||S&&!g?x.getSelectBackgroundDrawable():e===x.getHoverData()?x.getHoverBackgroundDrawable():void 0},drawRow:function(I,W,S,r,Z,Y,f){var y=this,p=y.getRowBackgroundDrawable(W,S);y.drawRowBackground(p,r,Z,Y,f,W),y.$125u(I,W,S,r+4,Z,Y-4,f)},getSerializableProperties:function(){var Q=vp.TreeView.superClass.getSerializableProperties.call(this);return lf(Q,{labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,rootVisible:1,checkMode:1,sortFunc:1,visibleFunc:1,indent:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,autoMakeVisible:1,iconGap:1,expandIcon:1,expandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,selectBackground:1,selectBackgroundDrawable:1,rowHeightFunc:1,pannable:1,hoverBackground:1,hoverBackgroundDrawable:1,iconWidth:1,iconHeight:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,editorClass:1,editable:1,dataModel:1,rootData:1,loader:1,selectionModelShared:1,selectionModel:1,dragEnabled:1,dropEnabled:1,dropLineColor:1})},serializeProperty:function(o,G,Q){var q=this;return"rootData"===G?{__i:o.getId()}:Q.serializeProperty(o,G,q)},deserializeProperty:function(_,r,R){var t=this;if("rootData"===r){var J=t.dm(),b=J.__idMap;return b[_.__i]}return R.deserializeProperty(_,r,t)}});var vo=function(b){vo.superClass.constructor.call(this,b)};db(vo,Tn,{addDragDropListeners:function(){var C=this,L=C.list;L.addViewListener(function(z){var $=z.kind,D=L.isDropEnabled&&L.isDropEnabled();if(D)if("dragEnter"===$)L.acceptDrop(z);else if("dragMove"===$){var N=z.target,R=z.source;delete N.$222u,delete N.$223u,delete N.$224u,N.autoScroll(z.nativeEvent);var k,p,P=N.lp(z.nativeEvent),J=N.$118u,f=N._rows,a=f.size(),S=N.getRowHeightFunc(),d=0,t=P.y;if(S)if(t<J.y||t>=J.y+J.height)p="append";else{for(var v=0;a>v;v++){var _=f.get(v),w=S.call(N,_),q=w/3;if(d+q>t&&d>=J.y){k=_,p="up";break}if(d+2*q>t&&d>=J.y){k=_,p="parent";break}if(d+w>t){if(d+w<=J.y+J.height){d+=w,k=_,p="down";break}if(d>=J.y){k=_,p="parent";break}break}d+=w}p||(p="append")}else{var w=N.getRowHeight(),q=w/3;if(t<J.y||t>=m(J.y+J.height,N.$69u*w))p="append";else{var n=W(t/w);d=w*n,d+q>t&&d>=J.y?(k=f.get(n),p="up"):d+2*q>t&&d>=J.y?(k=f.get(n),p="parent"):d+w<=J.y+J.height?(d+=w,k=f.get(n),p="down"):d>=J.y&&(k=f.get(n),p="parent")}}var i=!0;if(R===N){var X,b=z.data.data,r=z.data.selection;X=L.isSelected(b)?r._as:[b],L.isDroppable(X,p,k)||(i=!1)}i&&p!=M&&(N.$222u=d,N.$223u=k,N.$224u=p),N.iv()}else if("dragCompleted"===$&&z.target===L){var X,R=z.source,N=z.target,C=N.dm(),f=(C.getRoots(),N._rows),k=N.$223u,p=N.$224u,b=z.data.data,r=z.data.selection;X=b&&r?L.isSelected(b)?r._as:[b]:z.data,p&&(R===N?L.isDroppable(X,p,k)&&L.handleDrop(z,X,p,k):L.handleDrop(z,X,p,k)),delete N.$222u,delete N.$223u,delete N.$224u,N.iv()}else if("dragExit"===$||"dragCanceled"===$){var N=z.target;delete N.$222u,delete N.$223u,delete N.$224u,N.iv()}})},handleCheckMode:function(p,s){var k=this.list;return k.checkHitTest(p,s)?(k.checkData(s),void 0):k.toggleHitTest(p,s)?(k.toggle(s),void 0):(cb(p)&&k.toggle(s),k.setFocusData(s),void 0)},handleSelectMode:function(f,S){var v=this,M=v.list;M.toggleHitTest(f,S)?M.toggle(S):vo.superClass.handleSelectMode.call(v,f,S)},handle_keydown:function(B){if(rf(B)||Dl(B)){var Z=this.list;if(Z.isSelfViewEvent(B)){var E=Z._rows,D=Z.isCheckMode(),S=Z.sm(),y=D?Z.getFocusData():S.ld();y?y.hasChildren()&&(rf(B)?Z.collapse(y):Z.expand(y)):E.size()>0&&(y=E.get(0),D?Z.setFocusData(y):S.ss(y))}}else vo.superClass.handle_keydown.call(this,B)}});var qd=vp.TableView=function(H){this.$164u(),this.$136u(H),this.setUpInteractors()};db("ht.ui.TableView",Ld,{ui_ac:[b,r,"hoverLabelColor",O,"sortMode",Sh,Y,G,q,o,k,Yb,V,oo,"drawable:selectBackground","drawable:hoverBackground","iconWidth","iconHeight","rowHeightFunc","pannable","drawable:checkIcon","drawable:uncheckIcon","drawable:radioOnIcon","drawable:radioOffIcon","dragEnabled","dropEnabled","dropLineColor"],ms_ac:["hoverData","sortColumn"],_preferredSizeProps:lf(up(os._preferredSizeProps),{columnModel:!0,ivm:!0}),ms_sm:1,_49o:1,ui_txy:1,$152u:1,ms_dm:1,$151u:1,$148u:1,$149u:1,__iconWidth:16,__iconHeight:16,__rowHeight:26,__radioOnIcon:"ui_"+P,__radioOffIcon:"ui_"+_,__checkIcon:"ui_"+L,__uncheckIcon:"ui_"+S,__rowLineColor:"#e2e4e4",__background:"#fff",__autoMakeVisible:!0,__selectBackground:"#cdecf8",__hoverBackground:"#f5f5f5",__labelColor:"black",__selectLabelColor:"#139DD7",__labelFont:"12px Arial",__dropLineColor:"#229ed5",__sortMode:z,__batchEditable:!1,__rowLineVisible:!0,__columnLineVisible:!0,__columnLineColor:"#e2e4e4",setUpInteractors:function(){var o=this.$66u;o||(o=this.$66u=new vp.ScrollInteractor(this),o.addListeners());var N=this.$53u;N||(N=this.$53u=new Kn(this),N.addListeners())},tearDownInteractors:function(){var c=this.$53u;c&&(c.removeListeners(),this.$53u=$);var i=this.$66u;i&&(i.removeListeners(),this.$66u=$)},checkHitTest:function(C){var z=this;if(z.isCheckMode()){var N=C;C instanceof Event&&(N=z.lp(C));var T=z.$90u,q=z.getColumnInfo(T),O=N.x;if(q&&O>=q.startX&&O<q.startX+T.getWidth())return!0}},getCheckColumn:function(){var A=this;if(!A.$90u){var y=A.$90u=new Ej;y.setEditable(!0),y.setWidth(40),y.drawCell=A.drawCheckColumnCell}return A.$90u},isCheckMode:function(){return this.$117u.contains(this.$90u)},setCheckMode:function(D){var $=this,a=$.$117u,U=$.getCheckColumn();D!==$.isCheckMode()&&(D?a.add(U,0):a.remove(U),$.fp(Di,!D,D))},drawCheckColumnCell:function(v,F,p,J,y,V,t,U,n){var d=n.getIconWidth(),r=n.getIconHeight(),g=n.getViewCheckIconDrawable(F);g&&n.drawCheckIcon(g,y+(t-d)/2,V+(U-r)/2,d,r,F)},getSerializableProperties:function(){var j=vp.TableView.superClass.getSerializableProperties.call(this);return lf(j,{labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,sortMode:1,batchEditable:1,rowHeight:1,rowLineVisible:1,rowLineColor:1,columnLineVisible:1,columnLineColor:1,sortFunc:1,visibleFunc:1,pannable:1,autoMakeVisible:1,selectBackground:1,selectBackgroundDrawable:1,hoverBackground:1,hoverBackgroundDrawable:1,iconWidth:1,iconHeight:1,rowHeightFunc:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,dataModel:1,columnModel:1,sortColumn:1,selectionModelShared:1,selectionModel:1,"is:checkMode":1,dragEnabled:1,dropEnabled:1,dropLineColor:1})},serializeProperty:function(O,s,A){var c=this;return"sortColumn"===s?{__i:O.getId()}:A.serializeProperty(O,s,c)},deserializeProperty:function(K,G,V){var k=this;if("sortColumn"===G){var j=k.getColumnModel(),t=j.__idMap;return t[K.__i]}return V.deserializeProperty(K,G,k)}});var Kn=function($){Kn.superClass.constructor.call(this,$)};db(Kn,Tn,{handle_touchstart:function(o){var R=this,t=R.list;Kn.superClass.handle_touchstart.call(R,o);var O=t.getColumnAt(o),P=t.getDataAt(o);delete R.$31u,P&&O&&O.getValueType()===I&&O.isEditable(P)&&(R.$31u=Sc(o))},handle_touchend:function(g){Kn.superClass.handle_touchend.call(this,g);var d=this,c=d.$31u;if(c){var s=Sc(g);if(delete d.$31u,lr(c,s)<2){var D=d.list,S=D.getColumnAt(g),B=D.getDataAt(g);B&&S&&S.isEditable(B)&&D.setDataValue(!D.getValue(B,S),B,S)}}}});var Ch=vp.TreeTableView=function(i){var E=this;E.$137u(),E.$164u(),E.$136u(i),E.addTreeColumn(),E.setUpInteractors()},ds=function(u,Z,B,a,l,j,r,c,N){N.$125u(u,Z,B,l,j,r,c)},Fi=function(f,$,h){return h.getLabel(f)};db("ht.ui.TreeTableView",Ld,{ui_ac:[b,r,"hoverLabelColor",O,"sortMode",Sh,Zr,Di,"rootVisible",Yb,V,oo,q,Y,G,"pannable",o,k,"drawable:selectBackground","drawable:expandIcon","drawable:collapseIcon","rowHeightFunc","drawable:hoverBackground","iconWidth","iconHeight","iconGap","drawable:checkIcon","drawable:uncheckIcon","drawable:radioOnIcon","drawable:radioOffIcon"],ms_ac:["hoverData","rootData","loader","sortColumn"],_preferredSizeProps:lf(up(os._preferredSizeProps),{columnModel:!0,ivm:!0}),ms_bnb:1,ms_sm:1,_49o:1,ui_txy:1,$152u:1,ms_dm:1,$151u:1,$150u:1,$162u:1,$148u:1,$149u:1,__iconGap:4,__iconWidth:16,__iconHeight:16,__rowHeight:26,__radioOnIcon:"ui_"+P,__radioOffIcon:"ui_"+_,__checkIcon:"ui_"+L,__uncheckIcon:"ui_"+S,__rowLineColor:"#e2e4e4",__background:"white",__autoMakeVisible:!0,__selectBackground:"#cdecf8",__hoverBackground:"#f5f5f5",__labelColor:"black",__selectLabelColor:"#139DD7",__labelFont:"12px Arial",__dropLineColor:"#229ed5",__sortMode:z,__checkMode:$,__batchEditable:!1,__indent:16,__rowLineVisible:!0,__columnLineVisible:!0,__columnLineColor:"#e2e4e4",__expandIcon:"ui_expand_icon",__collapseIcon:"ui_collapse_icon",createTreeColumn:function(){return new vp.Column},addTreeColumn:function(){var q=this,U=q.$123u=q.createTreeColumn();U.s("uiSerializable",!1),U.setDisplayName("Name"),U.setEditable(!0),U.setWidth(180),U.drawCell=ds,U.getValue=Fi,q.$117u.add(U),q.$117u.moveTo(U,0)},setUpInteractors:function(){var s=this.$66u;s||(s=this.$66u=new vp.ScrollInteractor(this),s.addListeners());
var C=this.$53u;C||(C=this.$53u=new Ji(this),C.addListeners())},tearDownInteractors:function(){var m=this.$53u;m&&(m.removeListeners(),this.$53u=$);var e=this.$66u;e&&(e.removeListeners(),this.$66u=$)},checkHitTest:function(v,j){var g=this;if(g.isCheckMode()){var w=v;v instanceof Event&&(w=g.lp(v)),j||(j=g.getDataAt(v));var L=g.$123u,q=g.getColumnInfo(L),D=w.x,K=g.getLevel(j),k=g.getIndent(),n=g.getIconWidth(),P=k*K+n+q.startX+L.getPaddingLeft()+g.getIconGap();if(D>=P&&P+n>=D)return!0}},toggleHitTest:function(J,M){var S=this,m=J;if(M||(M=S.getDataAt(J)),S.getToggleIconDrawable(M)){J instanceof Event&&(m=S.lp(J));var D=m.x,U=S.getIndent(),o=S.getLevel(M),A=S.$123u,_=S.getColumnInfo(A);if(_){var z=U*o+_.startX+A.getPaddingLeft();if(D>=z&&D<=z+S.getIconWidth())return!0}}},getTreeColumn:function(){return this.$123u},getSerializableProperties:function(){var W=vp.TreeTableView.superClass.getSerializableProperties.call(this);return lf(W,{labelColor:1,selectLabelColor:1,hoverLabelColor:1,labelFont:1,sortMode:1,batchEditable:1,indent:1,checkMode:1,rootVisible:1,sortFunc:1,visibleFunc:1,autoMakeVisible:1,rowLineColor:1,rowHeight:1,rowLineVisible:1,pannable:1,columnLineVisible:1,columnLineColor:1,selectBackground:1,selectBackgroundDrawable:1,expandIcon:1,expandIconDrawable:1,collapseIcon:1,collapseIconDrawable:1,rowHeightFunc:1,hoverBackground:1,hoverBackgroundDrawable:1,iconWidth:1,iconHeight:1,iconGap:1,checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,radioOnIcon:1,radioOnIconDrawable:1,radioOffIcon:1,radioOffIconDrawable:1,dataModel:1,columnModel:1,rootData:1,loader:1,sortColumn:1,selectionModelShared:1,selectionModel:1})},serializeProperty:function(D,W,V){var f=this;return"sortColumn"===W||"rootData"===W?{__i:D.getId()}:V.serializeProperty(D,W,f)},deserializeProperty:function(a,J,D){var k=this;if("sortColumn"===J){var c=k.getColumnModel(),Z=c.__idMap;return Z[a.__i]}if("rootData"===J){var T=k.getDataModel(),Z=T.__idMap;return Z[a.__i]}return D.deserializeProperty(a,J,k)}});var Ji=function(s){Ji.superClass.constructor.call(this,s)};db(Ji,vo,{handle_touchstart:function(J){var f=this,p=f.list;Ji.superClass.handle_touchstart.call(f,J);var s=p.getColumnAt(J),F=p.getDataAt(J);delete f.$31u,F&&s&&s.getValueType()===I&&s.isEditable(F)&&(f.$31u=Sc(J))},handle_touchend:function(X){Ji.superClass.handle_touchend.call(this,X);var S=this,P=S.$31u;if(P){var T=Sc(X);if(delete S.$31u,lr(P,T)<2){var i=S.list,q=i.getColumnAt(X),l=i.getDataAt(X);l&&q&&q.isEditable(l)&&i.setDataValue(!i.getValue(l,q),l,q)}}}});var Af=vp.TableHeader=function(M){var F=this;vp.TableHeader.superClass.constructor.call(F),M&&F.setTableView(M)};db("ht.ui.TableHeader",Ld,{ui_ac:["drawable:checkIcon","drawable:uncheckIcon","drawable:sortDescIcon","drawable:sortAscIcon",b,O,"checked","iconWidth","iconHeight","drawable:moveBackground","drawable:insertLine",o,k,"resizable","movable"],__checkIcon:"ui_"+L,__uncheckIcon:"ui_"+S,__movable:!0,__resizable:!0,__labelColor:"black",__labelFont:"12px Arial",__columnLineColor:"#e2e4e4",__columnLineVisible:!0,__sortDescIcon:"table_sortDesc",__sortAscIcon:"table_sortAsc",__moveBackground:"#dee0e0",__insertLine:"#0092d4",__iconWidth:16,__iconHeight:16,__background:"#fafafa",setUpInteractors:function(){var m=this.$53u;m||(m=this.$53u=new cl(this),m.addListeners())},$161u:function(h){var p=this,U=p.$117u;U!==h&&(U&&(U.umm(p.iv,p),U.umd(p.iv,p),U.umh(p.iv,p)),p.$117u=h,h.mm(p.iv,p),h.md(p.iv,p),h.mh(p.iv,p),p.fp("columnModel",U,h))},setTableView:function(x){var W=this,N=W._tableView;N&&N.ump(W.handleTableViewPropertyChange,W);var V=x.getColumnModel();W.tv=x,W.$86u=new n,W.$161u(V),x.mp(W.handleTableViewPropertyChange,W),W.setPropertyValue("tableView",x)},handleTableViewPropertyChange:function(i){var Z=this;"columnModel"===i.property&&Z.$161u(i.newValue),rs[i.property]&&Z.iv()},getTableView:function(){return this.tv},figurePreferredSize:function(){var p=this,g=p.$117u._roots,l=1;if(g)for(var V=g.size(),M=0;V>M;M++){var u=g.get(M),j=u._children.size()>0;u.isVisible()&&(u instanceof vp.GroupColumn?j:!0)&&(l=s(l,p.$217u(u,1)))}return{width:100,height:30*l}},getSortIconDrawable:function(f){return this.tv.getSortColumn()===f?f.getSortOrder()===yi?this.getSortAscIconDrawable():this.getSortDescIconDrawable():void 0},getColumnInfoAt:function(D){var N=this,q=N.$86u,u=D,Y=q.size()-1;for(D instanceof Event&&(u=N.lp(D));Y>=0;Y--){var E=q.get(Y),i=E.column,J=E.startX+i.getWidth(),j=E.y,T=E.y+E.height;if(u.x>=E.startX&&u.x<=J&&i.getWidth()>0&&u.y>=j&&u.y<=T)return E}},getColumnInfo:function(R){for(var q,P=0,I=this.$86u,b=I.size();b>P;P++)if(q=I.get(P),q.column===R)return q},getResizeColumnInfoAt:function(t){var y=this,L=y.$86u,E=t,n=L.size()-1;for(t instanceof Event&&(E=y.lp(t));n>=0;n--){var w=L.get(n),K=w.column,S=w.startX+K.getWidth(),a=w.y,D=w.y+w.height;if(Z(S-E.x)<=(im?10:3)&&E.y>=a&&E.y<=D)return w}},resizeHitTest:function(b,J){var P=this,p=P.getColumnInfo(J),g=p.startX+J.getWidth(),u=b;return b instanceof Event&&(u=P.lp(b)),g-u.x<=(im?10:3)?!0:void 0},checkIconHitTest:function(A){var i=this,n=i.$87u;if(n){var T=A;if(A instanceof Event&&(T=i.lp(A)),Fb(n,T))return!0}},setChecked:function(U){var V=this,n=V.getTableView();V.setPropertyValue("checked",U);var _=n.sm(),a=n._rows;U?_.ss(a):_.rs(a)},getLabel:function(j){return j.toLabel()},getLabelFont:function(){return this.getPropertyValue(O)},getLabelColor:function(){return this.getPropertyValue(b)},getLabelAlign:function(H){return H._align},setMovingColumnInfo:function(r){this.$88u=r,this.iv()},getLogicalPoint:function(b){var O=this,Q=O.getTableView(),F=O.$198u.getBoundingClientRect(),M=Q.tx();return b=zf(b),{x:b.clientX-F.left-M,y:b.clientY-F.top}},drawInsertLine:function(B,R,z,p,O){B&&B.draw(R,z,p,O,$,this)},$218u:function(k){for(var m=0;k;)m++,k=k.getParent();return m},$217u:function(n,e){var T=n._children,l=T.size();if(l>0)for(var F=0;l>F;F++){var Z=T.get(F),m=this.$218u(Z);e=s(e,m),Z._children.size()>0&&(e=this.$217u(Z,e))}return e},$216u:function(m,N,P,R,w,B,E){var p,r=this,Q=r.$88u;N instanceof c.List?(p=N.size(),N=N._as):(p=1,N=[N]);for(var f=0;p>f;f++){var s=w/B,G=N[f],Y=G.getWidth(),M=r.$218u(G);if(G.isVisible()){m.save(),m.beginPath(),m.rect(P,R+s*(M-1),Y,s),m.clip();var L=R+s*(M-1);(E||!Q||Q.column!==G)&&r.drawColumn(m,G,P,L,Y,s),r.isColumnLineVisible()&&(G._parent&&ij(m,P,L,Y,1,r.getColumnLineColor()),ij(m,P+Y-1,L,1,s,r.getColumnLineColor())),m.restore(),r.$216u(m,G._children,P,R,w,B,E),P+=Y}}},$214u:function(F,J,i,G,A,d){var S=this;if(J)for(var L=J.size(),D=0;L>D;D++){var v=J.get(D),c=v._children.size()>0;if(v.isVisible()&&(v instanceof vp.GroupColumn?c:!0)){var e=v.getWidth(),p=S.$215u,o=p+e;if(A+i>=p&&o>=A){var z=!v._parent;if(z)d=S.$217u(v,1),F.add({column:v,startX:p,isTop:!0,totalDeep:d,y:0,height:G/d});else{var w=S.$218u(v);F.add({column:v,startX:p,isTop:!1,totalDeep:d,columnDeep:S.$218u(v),y:G/d*(w-1),height:G/d})}c&&S.$214u(F,v._children,i,G,A,d)}S.$215u=o}}},validateImpl:function(p,S,Z,W){var C=this,O=C.getTableView(),d=C.$86u,z=C.$88u,g=-O.tx();d.clear(),C.$87u=$,C.$215u=0,C.$214u(d,C.$117u._roots,Z,W,g),delete C.$215u;var I=C.getRootContext();if(I.save(),I.translate(-g,0),d.each(function($){var n=$.column,b=$.startX;$.isTop&&C.$216u(I,n,b+p,S,W,C.$217u(n,1),!1)}),z){var f=z.column,u=z.startX,K=z.position,a=C.getMoveBackgroundDrawable(),R=f.getWidth();a.draw(u+p,S,R,W,f,C),C.$216u(I,f,u+p,S,W,C.$217u(f,1),!0);var F=C.getInsertLineDrawable();F&&F.draw(K+p,S,1,W,$,C)}I.restore()},isCheckHeader:function(R){var G=this.getTableView();return G.$90u===R&&G.sm().getSelectionMode()===bp},getHeaderCheckIconDrawable:function(){var O=this,K=O.isChecked();return K?O.getCheckIconDrawable():O.getUncheckIconDrawable()},drawSortIcon:function(t,C,g,q,I,M){t&&t.draw(C,g,q,I,M,this)},drawColumn:function(B,y,s,R,l,H){var I=this,n=(I.getTableView(),ye(y.getIcon())),z=I.getIconWidth(),S=I.getIconHeight(),E=R+(H-S)/2,c=I.getLabelAlign(y),M=y.getPaddingLeft()||0,r=y.getPaddingRight()||0;if(s+=M,l=l-M-r,B.save(),B.beginPath(),B.rect(s,R,l,H),B.clip(),I.isCheckHeader(y)){var L=I.getHeaderCheckIconDrawable(),T=I.$87u={x:s+(l-z)/2,y:E,width:z,height:S};L.draw(T.x,T.y,z,S,$,I),T.x-=I.getContentLeft(),T.y-=I.getContentTop(),T.width-=1,T.height-=1}else{var b=I.getLabel(y),u=I.getLabelFont(y),N=I.getLabelColor(y),V=Lb(u,b).width;n||(z=0),c===xk?(n&&sc(B,n,ki,s,E,z,S),fg(B,b,u,N,s+z,R,l,H,xk)):c===_i?(n&&sc(B,n,ki,s+l-V-z,E,z,S),fg(B,b,u,N,s,R,l,H,_i)):(n&&sc(B,n,ki,s+(l-V-z)/2,E,z,S),fg(B,b,u,N,s+(l-V+z)/2,R,0,H,xk))}if(z=I.getIconWidth(),y.isSortable()){var P=I.getSortIconDrawable(y);P&&(c===_i?I.drawSortIcon(P,s,E,z,S,y):I.drawSortIcon(P,s+l-z,E,z,S,y))}B.restore()},getSerializableProperties:function(){var v=vp.TableHeader.superClass.getSerializableProperties.call(this);return lf(v,{checkIcon:1,checkIconDrawable:1,uncheckIcon:1,uncheckIconDrawable:1,sortDescIcon:1,sortDescIconDrawable:1,sortAscIcon:1,sortAscIconDrawable:1,labelColor:1,selectLabelColor:1,checked:1,iconWidth:1,iconHeight:1,moveBackground:1,moveBackgroundDrawable:1,insertLine:1,insertLineDrawable:1,columnLineVisible:1,columnLineColor:1,resizable:1,movable:1,tableView:1})}});var cl=function(T){var _=this;_.th=T,_.tv=T._tableView};db(cl,N,{ms_listener:1,getView:function(){return this.th._interactionDiv},handle_mousemove:function(n){if(!Dp()){var U=this,q=U.th;delete U.$89u,q.setCursor($);var o=q.getResizeColumnInfoAt(n);if(q.isResizable()&&o)U.$89u=o,q.setCursor(F);else{var u=q.getColumnInfoAt(n);if(u){var L=u.column;(L.isSortable()||q.isMovable()||L===U.tv.getCheckColumn())&&(U.$89u=u,q.setCursor(a))}}}},handle_mousedown:function(L){this.handle_touchstart(L)},handle_touchstart:function(c){var F=this,q=F.th;q.isSelfViewEvent(c)&&(Qo(c),q.requestFocus(),F.handle_mousemove(c),F.$89u&&(F.x=Sc(c).x,F.lx=F.th.lp(c).x,F.w=F.$89u.column.getWidth(),Gm(F,c)))},handleWindowMouseMove:function(X){this.handleWindowTouchMove(X)},handleWindowTouchMove:function(q){var w=this,$=w.th,l=$.getCursor(),y=w.$89u,K=Sc(q).x-w.x;if(w.resizing||w.$202u||(l===F?w.resizing=1:$.isMovable()&&l===a&&Z(K)>2&&y.isTop&&(w.$202u=1)),w.resizing)y.column.setWidth(w.w+K);else if(w.$202u){var z=w.lx+K;$.$86u.each(function(C){if(C.isTop){var X=C.startX,s=X+C.column.getWidth();if(z>=X&&s>=z){var j={column:y.column,startX:y.startX+K,front:s-z>z-X,insertColumn:C.column};j.position=j.front?X:s,$.setMovingColumnInfo(j)}}})}},handleWindowMouseUp:function(C){this.handleWindowTouchEnd(C)},handleWindowTouchEnd:function(W){var t=this,q=t.th,I=q.tv,b=t.$89u;if(t.$202u){var p=q.$88u;if(p&&p.insertColumn!==p.column){var N=p.column,H=I.getColumnModel()._roots,K=H.remove(N),O=H.indexOf(p.insertColumn);O>=0&&(p.front||O++,O<=H.size()&&(H.add(N,O),I.getColumnModel()._38I(N,K,O)))}q.setMovingColumnInfo($),delete t.$202u}else if(!t.resizing&&b){N=b.column;var C=q.lp(W).x,s=b.startX,Y=!0;if(q.onColumnClicked){var S=q.onColumnClicked(N,W);S===!1&&(Y=!1)}if(Y&&C>=s&&C<=s+N.getWidth())if(q.checkIconHitTest(W))q.setChecked(!q.isChecked());else{if(N.isSortable()){var B=I.getSortMode(),v=N.getSortOrder();B===z?I.getSortColumn()===N?(v===Sp&&I.setSortColumn($),N.setSortOrder(v===yi?Sp:yi)):I.setSortColumn(N):"bistate"===B&&(I.getSortColumn()===N?N.setSortOrder(v===yi?Sp:yi):I.setSortColumn(N))}I.onColumnClicked(N,W)}}t.$89u=t.resizing=t.x=t.lx=t.w=$}}),vp.TablePane=function(M){var D=this;vp.TablePane.superClass.constructor.call(D),M instanceof vp.TableView?D.init(M):D.init(new qd(M))},db("ht.ui.TablePane",od,{$147u:1,figurePreferredSize:function(){var O=this,M=O.getTableView(),p=O.getTableHeader(),N=0,Y=0;return M&&p&&(N=s(M.getPreferredSize().width,p.getPreferredSize().width),Y=M.getPreferredSize().height+p.getPreferredSize().height),{width:N+O.getPaddingLeft()+O.getPaddingRight()+O.getBorderLeft()+O.getBorderRight(),height:Y+O.getPaddingTop()+O.getPaddingBottom()+O.getBorderTop()+O.getBorderBottom()}},getSerializableProperties:function(){var q=vp.TablePane.superClass.getSerializableProperties.call(this);return delete q.children,lf(q,{tableView:1,tableHeader:1})}}),vp.TreeTablePane=function(J){var i=this;vp.TreeTablePane.superClass.constructor.call(i),J instanceof Ch?i.init(J):i.init(new Ch(J))},db("ht.ui.TreeTablePane",od,{$147u:1,figurePreferredSize:function(){var n=this,l=n.getTableView(),H=n.getTableHeader(),O=0,I=0;return l&&H&&(O=s(l.getPreferredSize().width,H.getPreferredSize().width),I=l.getPreferredSize().height+H.getPreferredSize().height),{width:O+n.getPaddingLeft()+n.getPaddingRight()+n.getBorderLeft()+n.getBorderRight(),height:I+n.getPaddingTop()+n.getPaddingBottom()+n.getBorderTop()+n.getBorderBottom()}},getSerializableProperties:function(){var t=vp.TreeTablePane.superClass.getSerializableProperties.call(this);return delete t.children,lf(t,{tableView:1,tableHeader:1})}});var Gk=vp.DragHelper={};Gk.doDrag=function(w,e,c,J,p){Gk.isDragging()&&Gk.cancelDrag(),Gk.$220u={dragView:w,data:e,image:c,imageOffsetX:J||0,imageOffsetY:p||0},Q.addEventListener("mousemove",Gk.handleWindowMouseMove),Q.addEventListener("mouseup",Gk.handleWindowMouseUp),Q.addEventListener("keydown",Gk.handleKeyDown)},Gk.isDragging=function(R){var A=Gk.$220u;return R?A&&A.dragView===R?!0:void 0:!!A},Gk.cancelDrag=function(e){var k=Gk.$220u;if(k){var B=k.dragView,S=k.dropView;B&&B.fireViewEvent({source:k.dragView,target:k.dropView,data:k.data,kind:"dragCanceled",nativeEvent:e}),S&&S.fireViewEvent({source:k.dragView,target:k.dropView,data:k.data,kind:"dragCanceled",nativeEvent:e})}Gk.$221u()},Gk.handleKeyDown=function(e){27==e.keyCode&&Gk.cancelDrag(e)},Gk.$221u=function(){var t=Gk.$220u,z=t.dragCanvas,g=t.indicatorCanvas;z&&H.body.removeChild(z),g&&H.body.removeChild(g),Q.removeEventListener("mousemove",Gk.handleWindowMouseMove),Q.removeEventListener("mouseup",Gk.handleWindowMouseUp),Q.removeEventListener("keydown",Gk.handleKeyDown),delete Gk.$220u},Gk.acceptDragDrop=function(P,W){var U=Gk.$220u;U&&(U.dropView=P),U.cursor=W},Gk.handleWindowMouseMove=function(D){var i=Gk.$220u,T=i.image,n=i.imageOffsetX,G=i.imageOffsetY;T=ye(T);var e=i.dragCanvas;if(!e){var u,l;T instanceof HTMLElement&&(u=$h(T.style.width),l=$h(T.style.height)),(isNaN(u)||u==$)&&(u=T.width),(isNaN(l)||l==$)&&(l=T.height),e=i.dragCanvas=jq($,!0),An(e,u,l);var t=ts(e);Oe(t,0,0,1),cf(t,T,0,0,u,l),e.style.zIndex="100001",e.style.pointerEvents="none",H.body.appendChild(e)}var e=i.dragCanvas,s=Jq(D);e.style.left=s.x+n+Fq,e.style.top=s.y+G+Fq;var U=i.dropView;if(!U)for(var A=km(D);A&&(A.fireViewEvent({source:i.dragView,target:A,data:i.data,kind:"dragEnter",nativeEvent:D}),!(U=i.dropView));)A=A.getParent();if(U){U.getView().contains(Uq(D))?U.fireViewEvent({source:i.dragView,target:i.dropView,data:i.data,kind:"dragMove",nativeEvent:D}):(U.fireViewEvent({source:i.dragView,target:i.dropView,data:i.data,kind:"dragExit",nativeEvent:D}),delete i.dropView,U=$);var X=i.indicatorCanvas;if(X&&!U)H.body.removeChild(X),delete i.indicatorCanvas;else if(!X&&U){X=i.indicatorCanvas=jq($,!0),An(X,20,20);var t=ts(X);Oe(t,0,0,1);var r=i.cursor;r===M&&(r="drag_add"),cf(t,ye(r),0,0,20,20),X.style.zIndex="100002",X.style.pointerEvents="none",H.body.appendChild(X)}X&&(X.style.left=s.x+5+Fq,X.style.top=s.y+5+Fq)}},Gk.handleWindowMouseUp=function(i){var V=Gk.$220u,B=V.dragView,v=V.dropView;B&&B!==v&&B.fireViewEvent({source:B,target:v,data:V.data,kind:"dragCompleted",nativeEvent:i}),v&&v.fireViewEvent({source:B,target:v,data:V.data,kind:"dragCompleted",nativeEvent:i}),Gk.$221u()},vp.UIJSONSerializer=function(){},db("ht.ui.UIJSONSerializer",N,{serialize:function(Z,f){return B.stringify(this.toJSON(Z),f)},toJSON:function(r){var l=this;c._uiSerializing=!0,l.refObjects=[];var s=l.json={v:B.getUIVersion(),r:{},c:$};return s.c=l.serializeClass(r),c._uiSerializing=!1,l.refObjects.forEach(function(q){delete q.$232u}),delete l.refObjects,delete l.json,s},serializeSelectionModel:function(O){for(var G=O.getSelection(),u=O.getSelectionMode(),J=[],j=0;j<G.size();j++){var U=G.get(j);J.push({__i:U.getId()})}return{selectionMode:u,selection:J}},serializeClass:function(n,Y,Q){var K=this;if(n instanceof c.DataModel){var g=new c.JSONSerializer(n);g.isSerializable=function(e){return e.s("uiSerializable")===!1?!1:!0};var i=g.serialize();n.$232u==$&&(n.$232u=B.getId());var Z=n.$232u;return K.json.r[Z]={dataModel:i,selectionModel:K.serializeSelectionModel(n.sm())},K.refObjects.push(n),{__i:Z}}if(n instanceof c.SelectionModel)return K.serializeSelectionModel(n);var i={},A=!1;if(i.type=n.getClassName(),i.p={},K.serializeProperties(i,n),n.getAttr&&(i.attr={},K.serializeAttrs(i,n)),A=Q&&Q.isRef?Q.isRef(n,Y,K):K.isRef(n,Y,Q)){n.$232u==$&&(n.$232u=B.getId());var Z=n.$232u;return K.json.r[Z]=i,K.refObjects.push(n),{__i:Z}}return i},isRef:function(q){return q instanceof vp.drawable.Drawable||q instanceof vp.border.Border||q instanceof vp.Radios||q instanceof vp.TableView||q instanceof vp.TreeTableView||q instanceof vp.ContextMenu?!0:void 0},isSameValue:Md,serializeProperty:function(H,L,U){var i=this;if(H instanceof c.List){for(var j=[],N=0,Z=H.size();Z>N;N++){var J=H.get(N);J.getSerializableProperties?(J=i.serializeClass(J,L,U),j.push(J)):j.push(J)}H={__a:j}}else if(mf(H)){for(var j=[],N=0,m=H.length;m>N;N++){var J=H[N];J.getSerializableProperties?(J=i.serializeClass(J,L,U),j.push(J)):j.push(J)}H=j}else H instanceof c.DataModel?H=i.serializeClass(H,L,U):H instanceof c.SelectionModel?H=i.serializeClass(H,L,U):H instanceof RegExp?H={__r:H.toString()}:H&&H.getSerializableProperties&&(H=i.serializeClass(H,L,U));return H},serializeProperties:function(O,D){var u=D.getSerializableProperties();for(var I in u){var U=$;0===I.indexOf("is:")&&(U="is"),-1!==I.indexOf("Drawable",I.length-8)&&(U="get"),I=I.substr(I.indexOf(":")+1);var A=Un(I,U),R=D.getClass(),Y=new R;if(D[A]){var o=D[A](),E=!1;o instanceof c.SelectionModel?D.isSelectionModelShared()||(E=!0):this.isSameValue(o,Y[A]())||(E=!0),E&&(O.p[I]=D.serializeProperty?D.serializeProperty(o,I,this):this.serializeProperty(o,I,D))}}},serializeAttrs:function(a,J){var U=J.getSerializableAttrs();for(var L in U){var c=J.getClass(),H=new c,Q=J.a(L),o=!1;this.isSameValue(Q,H.a(L))||(o=!0),o&&(a.attr[L]=J.serializeProperty?J.serializeProperty(Q,L,this):this.serializeProperty(Q,L,J))}},deserializeSelectionModel:function(v,x){var O;x instanceof c.DataModel?O=x.sm():(O=x.sm(),x=x.dm());for(var n=v.selection,F=[],s=0;s<n.length;s++){var X=n[s];F.push(x.__idMap[X.__i])}O.setSelection(F),O.setSelectionMode(v.selectionMode)},deserializeClass:function(v,I,l){if(v.dataModel){var Z=new c.DataModel,P=new c.JSONSerializer(Z);return P.deserialize(v.dataModel),Z.__idMap=P._82I,this.deserializeSelectionModel(v.selectionModel,Z),Z}if(!v.selectionMode){if(v&&"object"==typeof v&&v.__i!=$)return v=this.refMap[v.__i];var H=v.type,N=B.getClass(H),f=new N;return f}this.deserializeSelectionModel(v,l)},deserializeProperty:function(k,C,E){var F=k;if(k&&mf(k.__a)){for(var e=new c.List,f=0,v=k.__a.length;v>f;f++){var i=k.__a[f];e.add(this.deserializeProperty(i,C,E))}F=e}else if(mf(k)){for(var N=[],f=0,v=k.length;v>f;f++){var i=k[f];N.push(this.deserializeProperty(i,C,E))}F=N}else if(k&&"object"==typeof k&&k.type&&k.p)F=this.deserializeClass(k,C,E),this.deserializeProperties(F,k.p),this.deserializeAttrs(F,k.attr);else if(k&&"object"==typeof k&&k.__r!=$){var U=k.__r,J=U.replace(/.*\/([gimy]*)$/,"$1"),R=U.replace(new RegExp("^/(.*?)/"+J+"$"),"$1");F=new RegExp(R,J)}else k&&"object"==typeof k&&k.__i!=$?F=this.refMap[k.__i]:k&&"object"==typeof k&&k.selectionMode!=$&&(F=this.deserializeClass(k,C,E));return F},deserializeAttrs:function(O,Q){if(Q)for(var k in Q){var v;v=O.deserializeProperty?O.deserializeProperty(Q[k],k,this):this.deserializeProperty(Q[k],k,O),O.a(k,v)}},deserializeProperties:function(H,P){for(var z in P){var E;E=H.deserializeProperty?H.deserializeProperty(P[z],z,this):this.deserializeProperty(P[z],z,H),jo.setPropertyValue(H,$,z,E)}},deserialize:function(F){var z=this;z.refMap={},z.dataModels=[],ed(F)&&(F=B.parse(F));var g=F.r;for(var e in g){var R=g[e],I=z.deserializeClass(R,e);z.refMap[e]=I,I instanceof c.DataModel&&z.dataModels.push(I)}for(var e in g){var T=z.refMap[e];if(T instanceof c.DataModel);else{var y=g[e].p;z.deserializeProperties(T,y),z.deserializeAttrs(T,g[e].attr)}}var w=F.c,p=z.deserializeClass(w);return z.deserializeProperties(p,w.p),z.deserializeAttrs(p,w.attr),z.dataModels.forEach(function(Q){delete Q.__idMap}),delete z.dataModels,delete z.refMap,p}}),vp.Form=function(r){r&&this.setViewGroup(r)},db("ht.ui.Form",N,{ms_fire:!0,ms_ac:["viewGroup"],addChangeListener:function(q,x,t){var B=this;B._notifier||(B._notifier=new y),B._notifier.add(q,x,t)},removeChangeListener:function(W,K){this._notifier&&this._notifier.remove(W,K)},fireChangeListener:function(l){this._notifier&&this._notifier.fire(l)},isFormDataView:function(I){return I.getFormDataName&&I.getFormDataName()!=$?!0:void 0},getFormDataName:function(z){return z.getFormDataName(z)},getFormDataValue:function(I){return I.getFormDataValue()},onPropertyChanged:function(S){var F=this,C=S.property;if("viewGroup"===C){var I=S.oldValue;F.invalidateViewGroup(I)}},handleViewParentChange:function(J){if("parent"===J.property){var h=this;h.uninstallListeners(J.source),h.invalidateViewGroup(h.getViewGroup())}},handleViewGroupChildrenChange:function(G){"children"===G.property&&this.invalidateViewGroup(this.getViewGroup())},invalidateViewGroup:function(E){var L=this;E&&(L.uninstallListeners(E),L._json!==M&&(L._oldJSON=L._json),delete L._formViews,delete L._json),L._invalidateViewGroup||(L._invalidateViewGroup=!0,kl(L.validateViewGroup,L))},validateViewGroup:function(){var S=this;if(S._invalidateViewGroup){var r=S.getViewGroup(),k=S._oldJSON;r&&(S._json={},S._formViews={},S.installListeners(r),S.initJSON(r)),S.fireChangeListener({kind:"jsonChange",newValue:S._json,oldValue:k,form:S}),delete S._oldJSON,delete S._invalidateViewGroup}},handleFormDataValuePropertyChange:function(C){var G=this,A=C.source,m=C.property,u=!1;if("formDataName"===m&&(u=!0,delete G._json[C.oldValue]),u||A.getFormDataProperties()[m]&&!G._setOuter){var H=G.getFormDataName(A),V=G.getValue(G._formViews[H]),r=G._json[H];Md(V,r)||(G._json[H]=V,G.fireChangeListener({kind:"formDataValueChange",view:A,name:H,newValue:G._json[H],oldValue:r,form:G}))}},uninstallListeners:function(p){var V=this;if(p.removePropertyChangeListener(V.handleViewParentChange,V),p.removePropertyChangeListener(V.handleFormDataValuePropertyChange,V),p.removePropertyChangeListener(V.handleViewGroupChildrenChange,V),p.getChildren)for(var i=p.getChildren(),v=i.size(),u=0;v>u;u++){var E=i.get(u);E.getChildren?V.uninstallListeners(E):V.isFormDataView(E)&&(E.removePropertyChangeListener(V.handleViewParentChange,V),E.removePropertyChangeListener(V.handleFormDataValuePropertyChange,V))}},installListeners:function(P){var H=this,x=H._formViews,V=P.getChildren(),i=V.size();P.addPropertyChangeListener(H.handleViewParentChange,H),P.addPropertyChangeListener(H.handleViewGroupChildrenChange,H);for(var Z=0;i>Z;Z++){var X=V.get(Z);if(X.getChildren)H.installListeners(X);else if(H.isFormDataView(X)){var r=H.getFormDataName(X);x[r]?mf(x[r])?x[r].push(X):x[r]=[x[r],X]:x[r]=X,X.addPropertyChangeListener(H.handleViewParentChange,H),X.addPropertyChangeListener(H.handleFormDataValuePropertyChange,H)}}},getValue:function(G){var K,Z=this,c=!1;if(mf(G)){K=[];for(var H=0,r=G.length;r>H;H++){!c&&G[H]instanceof vp.RadioButton&&(c=!0);var h=Z.getFormDataValue(G[H]);h!==M&&K.push(h)}}else K=Z.getFormDataValue(G);return c&&mf(K)&&(K=K[0]),K},initJSON:function(){var Q=this,t=Q._json,r=Q._formViews;for(var m in r){var g=r[m];t[m]=Q.getValue(g)}},getItem:function(U){var b=this,y=b.getJSON();return U?y[U]:void 0},setItem:function(j,n){var F=this,f=F._formViews;if(f){F._setOuter=!0;var _=f[j],H=F._json[j];if(mf(_))for(var g=0,J=_.length;J>g;g++)_[g].setFormDataValue(n);else _.setFormDataValue(n);F._json[j]=n,F.fireChangeListener({kind:"formDataValueChange",view:_,name:j,newValue:F._json[j],oldValue:H,form:F,fromSetter:!0}),F._setOuter=!1}},setJSON:function(s){if(s){ed(s)&&(s=B.parse(s));var r=this,h=r._formViews;r._setOuter=!0;for(var A in h){var _=h[A],q=s[A];if(mf(_))for(var x=0,a=_.length;a>x;x++)_[x].setFormDataValue(q);else _.setFormDataValue(q)}var O=r._json;r._json=s,r.fireChangeListener({kind:"jsonChange",newValue:s,oldValue:O,form:r,fromSetter:!0}),r._setOuter=!1}},getJSON:function(){var T=this,E=T._json;return E==$&&T.validateViewGroup(),this._json}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);