var ajaxService=function(n,t,i,r,u,f){ajaxService.setAuth();r=r||"POST";f=f||{};var e=f.async!=null?f.async:!0,o=f.contentType!=null?f.contentType:"application/json; charset=utf-8",s=f.processData!=null?f.processData:!1,h=f.dataType!=null?f.dataType:"json",n=r=="GET"?n:JSON.stringify(n);return $.ajax({method:r,url:t,cache:!1,data:n,async:e,contentType:o,processData:s,dataType:h,success:ajaxServiceProcess.ajaxSuccess(i,t),error:function(n,i){if(n.status==401){alert("Due to the problems session, go to the login page.");window.location="/?ReturnUrl="+window.location.pathname;return}var r=ajaxServiceProcess.ajaxError(u,t);r(n,i)}})},ajaxServiceProcess;ajaxService.setAuth=function(){var n=ajaxService.setAuthToken();n!=""&&$.ajaxSetup({beforeSend:function(t){t.setRequestHeader("Authorization",n)},global:!0})};ajaxService.clearAuth=function(){var n=ajaxService.setAuthToken();n!=""&&$.ajaxSetup({beforeSend:function(){},global:!0})};ajaxService.setAuthToken=function(){var t="",n;return sessionStorage.getItem("authorization")&&(n=JSON.parse(sessionStorage.getItem("authorization")),t=n.token_type+" "+n.access_token),t};ajaxServiceProcess={ajaxSuccess:function(n){if(n!=null)return n},ajaxError:function(n){return n!=null?n:function(){}}};ajaxService.post=function(n,t,i,r,u){ajaxService(t,n,i,"POST",r,u)};ajaxService.get=function(n,t,i,r,u){ajaxService(t,n,i,"GET",r,u)};ajaxService.put=function(n,t,i,r,u){ajaxService(t,n,i,"PUT",r,u)};ajaxService.delete=function(n,t,i,r,u){ajaxService(t,n,i,"DELETE",r,u)};ajaxService.file={};ajaxService.file.download=function(){};ajaxService.file.upload=function(n,t,i,r){ajaxService.setAuth();var u=n[0],f=new FormData(u);$.ajax({url:t,processData:!1,contentType:!1,data:f,type:"POST",success:function(){console.log("Success File Upload");typeof i=="function"&&succenFn()},error:function(n,t,i){console.log("code:"+n.status+"\nmessage:"+n.responseText+"\nerror:"+i);typeof r=="function"&&succenFn()}})};