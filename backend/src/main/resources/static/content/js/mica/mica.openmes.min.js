var openMes={CONDITION:"DATASET.TABLE1",COLUMNNAME:"DATASET.Table1.Columns",ROWSNAME:"DATASET.Table1.Rows",PARAMNAME:"HASHTABLE",url:"",uploadUrl:"",downloadUrl:"",siteId:"U-TECH",command:"RuleInquiry",classId:"MES",commandType:"StoredQuery",version:"001",id:"GETSTOREDQUERYLIST",menuType:"",user:function(n){var t=function(n,t){var r=n==null?"get":typeof n=="object"?"set":t!=null?"set":"get",i={};switch(r){case"get":i=openMes.user.get(n);break;case"set":i=openMes.user.set(n,t)}return i};for(i in n)t[i]=n[i];return t}({result:{},resetFlag:!0,resultParse:function(){var n=openMes.user.result;$.each(n,function(n,t){t!=null&&(t[0]=="{"||t[0]=="[")&&(openMes.user.result[n]=JSON.parse(t))})},get:function(n){var t={};return openMes.user.resetFlag&&(openMes.user.result.SITEID=sessionStorage.getItem("SITEID"),openMes.user.result.USERID=sessionStorage.getItem("USERID"),openMes.user.result.USERNAME=sessionStorage.getItem("USERNAME"),openMes.user.result.LANGUAGE=sessionStorage.getItem("LANGUAGE"),openMes.user.result.USERCLASSID=sessionStorage.getItem("USERCLASSID"),openMes.user.resultParse()),t=openMes.user.result,typeof n=="string"&&(t=t[n]),openMes.user.resetFlag=!1,t},set:function(n,t){t?(typeof t=="object"&&(t=JSON.stringify(t)),sessionStorage.setItem(n,t)):$.each(n,function(n,t){typeof t=="object"&&(t=JSON.stringify(t));sessionStorage.setItem(n,t)});openMes.user.resetFlag=!0}}),lang:function(n){var t=function(n){var t=openMes.lang.list[n];return t==undefined&&openMes.langSet(),t=t?t[sessionStorage.LANGUAGE||"KR"]:n,t||n};for(i in n)t[i]=n[i];return t}({list:{}}),langSet:function(n){(n||openMes.lang.list.length==null)&&sessionStorage.MENUDATA!=null&&(openMes.lang.list=micaCommon.fncS.keyValueSet({data:openMes.colRowSet(JSON.parse(sessionStorage.MENUDATA),"Table3"),key:"ID"}))},setHostURL:function(){openMes.url==""&&$.ajax({type:"get",url:"/api/dataset/host",async:!1}).done(function(n){openMes.url=n})},grid:{langFormOptions:function(n){return $.jgrid.regional.en.edit.msg.required=openMes.lang("MU0002"),$.jgrid.regional.en.edit.msg.number=openMes.lang("MU0003"),$.jgrid.regional.en.edit.msg.minValue=openMes.lang("MU0004"),$.jgrid.regional.en.edit.msg.maxValue=openMes.lang("MU0005"),$.jgrid.regional.en.edit.msg.email=openMes.lang("MU0006"),$.jgrid.regional.en.edit.msg.integer=openMes.lang("MU0007"),$.jgrid.regional.en.edit.msg.date=openMes.lang("MU0008"),$.jgrid.regional.en.edit.msg.url=openMes.lang("MU0009"),$.jgrid.regional.en.edit.msg.nodefined=openMes.lang("MU0010"),$.jgrid.regional.en.edit.msg.novalue=openMes.lang("MU0011"),$.jgrid.regional.en.edit.msg.customarray=openMes.lang("MU0012"),$.jgrid.regional.en.edit.msg.customfcheck=openMes.lang("MU0013"),n.addCaption=openMes.lang("ADDRECORD"),n.editCaption=openMes.lang("EDITRECORD"),n.bSubmit=openMes.lang("SUBMIT"),n.bCancel=openMes.lang("CANCEL"),n.bClose=openMes.lang("CLOSE"),n.saveData=openMes.lang("MU0014"),n.bYes=openMes.lang("YES"),n.bNo=openMes.lang("NO"),n.bExit=openMes.lang("CANCEL"),n.delMsg=n.delMsg||openMes.lang("MU0015"),n.msg=openMes.lang("MU0015"),n.delChildMsg=openMes.lang("MU0016"),n.caption=openMes.lang("DELETERECORD"),n.selMsg=openMes.lang("MU0001"),n.msg==null&&(n.msg={}),n},addForm:function(n,t){var r=t.url||openMes.url,i;t.type="CREATE";micaCommon.grid.ajaxSetup();t.colModel=micaCommon.grid.get(n,"getGridParam","colModel");i=t;i.serializeEditData=openMes.crudSerializeDataFnc(t);i=this.langFormOptions(i);micaCommon.grid.addForm(n,r,"post",i)},editForm:function(n,t){var r=t.url||openMes.url,i;t.type="UPDATE";micaCommon.grid.ajaxSetup();t.colModel=micaCommon.grid.get(n,"getGridParam","colModel");i=t;i.serializeEditData=openMes.crudSerializeDataFnc(t);i=this.langFormOptions(i);micaCommon.grid.editForm(n,r,"post",i)},delForm:function(n,t){var r=t.url||openMes.url,i;t.type="DELETE";micaCommon.grid.ajaxSetup();t.colModel=micaCommon.grid.get(n,"getGridParam","colModel");i=t;i.serializeDelData=openMes.crudSerializeDataFnc(t);i=this.langFormOptions(i);micaCommon.grid.delForm(n,r,"post",i)},set:function(n,t,i,r){if(r=r||{},t=t||{},openMes.setHostURL(),i=i||{},r.exception=r.exception||openMes.exceptionSet,t.data==null){mtype=i.mtype||"post";i.url=i.url||openMes.url;var u=openMes.RdataSet(i,i.postData);r.before=r.before?[openMes.beforGridSet,openMes.grid.langGridSet,r.before]:[openMes.beforGridSet,openMes.grid.langGridSet];micaCommon.grid.set(n,t,{url:i.url,mtype:mtype,rowsName:openMes.ROWSNAME,data:JSON.stringify(u)},r)}else t=t||{},r.before=r.before?[openMes.grid.langGridSet,r.before]:[openMes.grid.langGridSet],micaCommon.grid.set(n,t,i,r)},get:micaCommon.grid.get,submit:function(){},langGridSet:function(n,t){openMes.langSet();$.each(t.colModel,function(n,i){var r=openMes.lang(i.name);r&&(t.colModel[n].label=r)})}},pivotGrid:{set:function(n,t,i,r,u){if(u=u||{},i=i||{},openMes.setHostURL(),r.url=r.url||openMes.url,mtype=r.mtype||"post",u.exception=u.exception||openMes.exceptionSet,i.data==null){var f=openMes.RdataSet(r,r.postData);u.before=u.before?[this.beforeSet,u.before]:[this.beforeSet];micaCommon.pivotGrid.set(n,t,i,{url:r.url,mtype:mtype,rowsName:openMes.ROWSNAME,data:JSON.stringify(f)},u)}else i=i||{},u.before=u.before?[u.before]:[],micaCommon.pivotGrid.set(n,t,i,r,u)},get:micaCommon.grid.get,langGridSet:function(n,t){openMes.langSet();$.each(t.colModel,function(n,i){var r=openMes.lang(i.name);r&&(t.colModel[n].label=r)})},beforeSet:function(n){pivotData=openMes.colRowSet(n)}},treeGrid:{addForm:function(n,t){var o=t.url||openMes.url,u,i,r;if(t.type="CREATE",micaCommon.grid.ajaxSetup(),t.colModel=micaCommon.grid.get(n,"getGridParam","colModel"),u=micaCommon.grid.get.selData(n),u.length>0){var s=micaCommon.grid.get("#gridTable","getGridParam").jsonReader.originId,e=micaCommon.grid.get("#gridTable","getGridParam").treeReader.originParent_id_field,f=micaCommon.grid.get("#gridTable","getGridParam").treeReader.originLevel_field;e=e.split("_origin")[0];f=f.split("_origin")[0];i=micaCommon.grid.get("#gridTable","getGridParam","colModel");$.each(i,function(n,t){t.name==e?(i[n].editoptions==null&&(i[n].editoptions={}),i[n].editoptions.defaultValue=u[0][s]):t.name==f&&(i[n].editoptions==null&&(i[n].editoptions={}),i[n].editoptions.defaultValue=Number(u[0][f])+1)});$(n).setGridParam({colModel:i})}r=t;r.serializeEditData=openMes.crudSerializeDataFnc(t);r=openMes.grid.langFormOptions(r);micaCommon.treeGrid.addForm(n,o,"post",r)},editForm:function(n,t){openMes.grid.editForm(n,t)},delForm:function(n,t){var r=t.url||openMes.url,i;t.type="DELETE";micaCommon.grid.ajaxSetup();t.colModel=micaCommon.grid.get(n,"getGridParam","colModel");i=t;i.serializeDelData=openMes.crudSerializeDataFnc(t);i=openMes.grid.langFormOptions(i);micaCommon.treeGrid.delForm(n,r,"post",i)},set:function(n,t,i,r){r=r||{};openMes.setHostURL();var u=openMes.RdataSet(i,i.postData);t=t||{};r.before=r.before?[openMes.beforGridSet,openMes.grid.langGridSet,r.before]:[openMes.beforGridSet,openMes.grid.langGridSet];micaCommon.treeGrid.set(n,t,{url:openMes.url,mtype:"post",rowsName:openMes.ROWSNAME,data:JSON.stringify(u)},r)}},chart:{set:function(n,t,i,r){r=r||{};r.before=r.before?[this.beforSet,r.before]:[this.beforSet];micaCommon.chart.set(n,t,i,r)},beforSet:function(n,t){var r=micaCommon.restFul.hierarchyReturn(n,openMes.COLUMNNAME),i;r=micaCommon.restFul.column(r,"ColumnName","Alias");i=micaCommon.restFul.hierarchyReturn(n,openMes.ROWSNAME);i=micaCommon.restFul.rowsSet(i,r);t.dataProvider=i}},comboBox:{set:function(n,t,i,r){r=r||{};openMes.setHostURL();i.url=i.url||openMes.url;i.url;i.rowsName="rows";r.exception=r.exception||openMes.exceptionSet;r.before=r.before?[openMes.beforComboBoxSet,r.before]:openMes.beforComboBoxSet;i.data=JSON.stringify(openMes.RdataSet(i,i.postData));micaCommon.comboBox.set(n,t,i,r)},checkedIndex:function(n,t){micaCommon.comboBox.checkedIndex(n,t)},selectedIndex:function(n,t){micaCommon.comboBox.selectedIndex(n,t)},value:function(n){return micaCommon.comboBox.value(n)}},topMenu:{topMenuStorage:null,set:function(n,t,i){var r;if(n=n==null?$(".w-container").last():n,n=typeof n=="string"?$(n):n,openMes.topMenu.topMenuStorage=i&&"LOCAL"==i?localStorage:sessionStorage,openMes.topMenu.topMenuStorage.getItem(t)==null){micaCommon.notication.open("error","메뉴정보가 없습니다 다시 로그인하세요");return}var f=JSON.parse(openMes.topMenu.topMenuStorage.getItem(t)),e={datatype:"json",localdata:f,id:"id"},u=new $.jqx.dataAdapter(e);u.dataBind();r=u.getRecordsHierarchy("MENUID","PARENTID","items",[{name:"MENUNAME",map:"text"},{name:"VIEWID",map:"HREF"}]);r=micaCommon.topMenu.dataSort("SEQUENCE",r);openMes.menuType="TOP";micaCommon.topMenu.makeMenu($(n),r)}},leftMenu:{set:function(n){var t;if(n=n==null?$(".w-container").last():n,n=typeof n=="string"?$(n):n,sessionStorage.getItem("MENUDATA")==null){micaCommon.notication.open("error","메뉴정보가 없습니다 다시 로그인하세요");return}var r=openMes.colRowSet(JSON.parse(sessionStorage.getItem("MENUDATA")),"Table2"),u={datatype:"json",localdata:r,id:"id"},i=new $.jqx.dataAdapter(u);i.dataBind();t=i.getRecordsHierarchy("MENUID","PARENTID","items",[{name:"MENUNAME",map:"text"},{name:"VIEWID",map:"HREF"}]);t=micaCommon.leftMenu.dataSort("SEQUENCE",t);openMes.menuType="LEFT";micaCommon.leftMenu.makeMenu($(n),t)},setTab:function(n,t,i,r){null!=r&&micaCommon.tab.nonDelTab(t,i,r.tabId,r.tabTitle,r.tabUrl);micaCommon.leftMenu.linkType="tab";micaCommon.leftMenu.tabEl=t;micaCommon.leftMenu.tabContentEl=i;openMes.leftMenu.set(n)}},menuSet:function(n){var t;if(n=n==null?$(".w-container").last():n,n=typeof n=="string"?$(n):n,sessionStorage.getItem("MENUDATA")==null){micaCommon.notication.open("error","메뉴정보가 없습니다 다시 로그인하세요");return}var r=openMes.colRowSet(JSON.parse(sessionStorage.getItem("MENUDATA")),"Table2"),u={datatype:"json",localdata:r,id:"id"},i=new $.jqx.dataAdapter(u);i.dataBind();t=i.getRecordsHierarchy("MENUID","PARENTID","items",[{name:"MENUNAME",map:"text"},{name:"VIEWID",map:"HREF"}]);t=micaCommon.leftMenu.dataSort("SEQUENCE",t);openMes.menuType="LEFT";micaCommon.leftMenu.makeMenu($(n),t)},page:{getCurrentPageInfo:function(n,t){var u,s,f,o;if(n=n||"MENUDATA",t=t||"/",sessionStorage.getItem(n)==null){micaCommon.notication.open("error","메뉴정보가 없습니다 다시 로그인하세요");return}u=null;u="MENUDATA"==n?openMes.colRowSet(JSON.parse(sessionStorage.getItem("MENUDATA")),"Table2"):JSON.parse(sessionStorage.getItem(n));s={datatype:"json",localdata:u,id:"id"};f=new $.jqx.dataAdapter(s);f.dataBind();var h=f.getRecordsHierarchy("MENUID","PARENTID","items",[{name:"MENUNAME",map:"text"},{name:"VIEWID",map:"HREF"}]),e=micaCommon.pageUrl||location.href.split(t).pop().split("?")[0].split("#")[0],i=null,r=null;return $.each(h,function(n,u){if(i=u.HREF&&u.HREF.split(t).pop(),e==i)return r=u,!1;typeof u.items!="undefined"&&u.items.length>0&&$.each(u.items,function(n,u){if(i=u.HREF&&u.HREF.split(t).pop(),e==i)return r=u,!1;typeof u.items!="undefined"&&u.items.length>0&&$.each(u.items,function(n,u){return i=u.HREF&&u.HREF.split(t).pop(),e==i?(r=u,!1):void 0})})}),o=null,null!=r&&(o=r),o},getCurrentNavigationString:function(n,t){var u=n||">",i=t||openMes.page.getCurrentPageInfo(),r=i.MENUNAME;return i.parent&&(r=openMes.page.getNavigationString(u,i.parent)+" "+u+" "+r),r}},getNavigationLink:function(){var n="";return openMes.menuType=="TOP"?"TAB"==micaCommon.topMenu.linkType?$.each(micaCommon.topMenu.navArray,function(t,i){n+=t==0?"<div class='w-icon fa fa-home icon' /><a href='javascript:return false;' class='w-inline-block txt-link'><div>"+i.MENUNAME+"<\/div><\/a>":"<div class='w-icon fa fa-angle-right icon' /><a href='javascript:return false;' class='w-inline-block txt-link'><div>"+i.MENUNAME+"<\/div><\/a>"}):$.each(micaCommon.topMenu.navArray,function(t,i){n+=t==0?"<div class='w-icon fa fa-home icon' /><a href='"+i.HREF+"' class='w-inline-block txt-link'><div>"+i.MENUNAME+"<\/div><\/a>":"<div class='w-icon fa fa-angle-right icon' /><a href='"+i.HREF+"' class='w-inline-block txt-link'><div>"+i.MENUNAME+"<\/div><\/a>"}):openMes.menuType=="LEFT"?"TAB"==micaCommon.topMenu.linkType?$.each(micaCommon.topMenu.navArray,function(t,i){n+=t==0?"<div class='w-icon fa fa-home icon' /><a href='javascript:return false;' class='w-inline-block txt-link'><div>"+i.MENUNAME+"<\/div><\/a>":"<div class='w-icon fa fa-angle-right icon' /><a href='javascript:return false;' class='w-inline-block txt-link'><div>"+i.MENUNAME+"<\/div><\/a>"}):$.each(micaCommon.leftMenu.navArray,function(t,i){n+=t==0?"<div class='w-icon fa fa-home icon' /><a href='"+i.HREF+"' class='w-inline-block txt-link'><div>"+i.MENUNAME+"<\/div><\/a>":"<div class='w-icon fa fa-angle-right icon' /><a href='"+i.HREF+"' class='w-inline-block txt-link'><div>"+i.MENUNAME+"<\/div><\/a>"}):n="<div class='w-icon fa fa-home icon' />",n},getNavigationString:function(){return openMes.menuType=="TOP"?micaCommon.topMenu.navString:openMes.menuType=="LEFT"?micaCommon.leftMenu.navString:""},autoComplete:{menu:function(n){var t=function(n,t){t=t||{};t.hrefName="urlZ";t.source=openMes.autoComplete.menu.menuDataSet();micaCommon.autoComplete.menu(n,t)};for(i in n)t[i]=n[i];return t}({dataKeySet:function(){var t=openMes.colRowSet(JSON.parse(sessionStorage.MENUDATA),"Table2"),n={view:{},parent:{}};return $.each(t,function(t,i){i.VIEWID?n.view[i.MENUID]=i:n.parent[i.MENUID]=i}),n},menuDataSet:function(){var n=this.dataKeySet(),i=n.parent,r=n.view,t=[];return $.each(r,function(n,r){var u=openMes.autoComplete.menu.menuNameSet(r.MENUNAME,r.PARENTID,i),f={id:r.MENUID,value:u,href:r.VIEWID};t.push(f)}),t},menuNameSet:function(n,t,i){for(var r=this.menuNameArraySet(n,t,i),u="",e=r.length,f=0;f<e;f++)u+=r.pop(),r.length>0&&(u+=" > ");return u},menuNameArraySet:function(n,t,i){if(n=n||[],n=typeof n=="string"?[n]:n,t){var r=i[t];return r==null?n:(n.push(r.MENUNAME),this.menuNameArraySet(n,r.PARENTID,i))}return n}})},exceptionSet:function(n){openMes.lang(n.MESSAGE)&&micaCommon.notication.open("warning",openMes.lang(n.MESSAGE))},tree:{set:function(n,t,i,r){n=typeof n=="string"?$(n):n;t=t||{};i=i||{};openMes.setHostURL();t.url=t.url||openMes.url;t.data=JSON.stringify(openMes.RdataSet(t,t.postData));micaCommon.tree.set(n,t,i,r)}},callBackMerge:function(n,t){var i=[];return n!=null&&i.push(n),t!=null&&i.push(t),i},beforGridSet:function(n,t){var i=micaCommon.restFul.hierarchyReturn(n,openMes.COLUMNNAME),r,u;i=micaCommon.restFul.column(i,"ColumnName","Alias");t.colModel==null&&(r=[],$.each(i,function(n,t){r[n]={};col=r[n];col.name=t;col.editable=!0;t=="QUERYSTRING"&&(col.edittype="textarea")}),t.colModel=r);u=micaCommon.restFul.hierarchyReturn(n,openMes.ROWSNAME);u=micaCommon.restFul.rowsSet(u,i);t.data=u},beforComboBoxSet:function(n){var t=micaCommon.restFul.hierarchyReturn(n,openMes.COLUMNNAME),r,i;if(t==null)return n.rows=[];(t=micaCommon.restFul.column(t,"ColumnName","Alias"),r=[],$.each(t,function(n,t){r[n]={};col=r[n];col.name=t;col.editable=!0;t=="QUERYSTRING"&&(col.edittype="textarea")}),i=micaCommon.restFul.hierarchyReturn(n,openMes.ROWSNAME),i!=null&&t!=null)&&(i=micaCommon.restFul.rowsSet(i,t),n.rows=i)},crudSerializeDataFnc:function(n){n=n||{};var t=n.type,i=n.command;return openMes.CUDdataSet(n,n.postData),function(t){return $.each(n.colModel,function(n,i){$.each(t,function(n,r){n==i.name&&(i.formatter=="number"||i.formatter=="integer")&&r!=null&&(t[n]=Number(r))})}),n.data=t,t=openMes.CUDdataSet(n),t=JSON.stringify(t)}},RdataSet:function(n,t){t=t||{};n=n||{};var r=n.siteId||this.siteId,u=n.classId||this.classId,f=n.command||this.command,e=n.commandType||this.commandType,o=n.version||this.version,s=n.id||this.id,h=n.paramName||this.PARAMNAME,c=n.data||{FROMDATE:"2015-01-01 00:00:00",TODATE:"2015-01-02 00:00:00"},i={COMMAND:f,SITEID:r,USERID:null,STOREDQUERY:{CLASSID:u,ID:s,VERSION:o,COMMANDTYPE:e},HASHTABLE:{},DATASET:{},ISSUCCESS:!1,MESSAGE:null,EXCEPTIONMESSAGE:null};return i[h]=c,$.each(t,function(n,t){i[n]=t}),i.SITEID=sessionStorage.getItem("SITEID")||openMes.siteId,i.USERID=sessionStorage.getItem("USERID"),i},CUDdataSet:function(n,t){t=t||{};var u=n.siteId||this.siteId,r=n.data,f=n.type,e=n.command,i={COMMAND:e,SITEID:u,USERID:null,REQUESTTYPE:f,DATASET:{TABLE1:[]},ISSUCCESS:!1,MESSAGE:null,EXCEPTIONMESSAGE:null};return r!=null&&micaCommon.fncS.hierarchyReturn(i,this.CONDITION).push(r),$.each(t,function(n,t){i[n]=t}),i.SITEID=sessionStorage.getItem("SITEID"),i},colRowSet:function(n,t){var r,u,i,f;try{return r=openMes.COLUMNNAME,u=openMes.ROWSNAME,null!=t&&typeof t!="undefined"&&t.length>0&&(r="DATASET."+t+".Columns",u="DATASET."+t+".Rows"),i=micaCommon.restFul.hierarchyReturn(n,r),i=micaCommon.restFul.column(i,"ColumnName","Alias"),f=micaCommon.restFul.hierarchyReturn(n,u),micaCommon.restFul.rowsSet(f,i)}catch(e){return console.error(e),[]}},ajaxService:function(n,t){t=t||{};var i=t.success||function(){console.log("openMes _ success")},r=t.fail||function(n){console.error("openMes _ fail : "+n.EXCEPTIONMESSAGE);micaCommon.notication.open("warning","openMes _ fail : "+n.EXCEPTIONMESSAGE)},u=t.error||function(){console.error("openMes _ error : 관리자에게 문의");micaCommon.notication.open("error","openMes _ error : 관리자에게 문의")},f=function(n){n.ISSUCCESS?i(n):r(n)},e=function(n){u(n)};return n=JSON.stringify(this.RdataSet(null,JSON.parse(n))),ajaxService(n,openMes.url+"?STOREDQUERY.ID="+JSON.parse(n).STOREDQUERY.ID,f,"POST",e,t)},fileDownload:function(n,t,i){var u=t||function(){console.error("openMes _ error : 관리자에게 문의");micaCommon.notication.open("error","openMes _ error : 관리자에게 문의")},r=typeof i=="undefined"||null==i?"":"&attachType="+i;typeof openMes.downloadUrl!="undefined"&&null!=openMes.downloadUrl&&""!=openMes.downloadUrl?$.ajax({url:openMes.downloadUrl,type:"POST",data:"downloadFileChk="+encodeURIComponent(n)+r,success:function(){window.location.href=openMes.downloadUrl+"?downloadFile="+encodeURIComponent(n)+r},error:function(n){u(n)}}):console.error("openMes _ error : Download URL Not Found")},excelForDB:function(n){n.REQUESTTYPE="EXCEL";var t={success:function(n){typeof n.DATASET.EXCELFILENAME!="undefined"&&null!=n.DATASET.EXCELFILENAME&&""!=n.DATASET.EXCELFILENAME?openMes.fileDownload(n.DATASET.EXCELFILENAME,null,"excel"):console.error("openMes _ error : Excel Filename Not Found ")}};openMes.ajaxService(JSON.stringify(n),t)},setGridRowSearchSelect:function(n,t,i){n=typeof n=="string"?$(n):n;$.each(n.getRowData(),function(r,u){if(u[t]==i)return n.jqGrid("setSelection",n.jqGrid("getDataIDs")[r]),!1})},imageToSvg:function(n){n.each(function(){var n=jQuery(this),t=n.attr("id"),i=n.attr("class"),r=n.attr("src")||n.css("background-image").replace('url("',"").replace('")').replace("undefined","");jQuery.get(r,function(r){var u=jQuery(r).find("svg");typeof t!="undefined"&&(u=u.attr("id",t));typeof i!="undefined"&&(u=u.attr("class",i+" replaced-svg"));u=u.removeAttr("xmlns:a");n.replaceWith(u);u.css({height:"100%",width:"100%"})},"xml")})}};