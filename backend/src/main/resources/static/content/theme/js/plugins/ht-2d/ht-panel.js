!function(Y,z,f){"use strict";var d="ht",j=Y[d],c=j.Default,n=c.isTouchable,b=j.Color,w="px",O="0",Q="innerHTML",g="className",L="position",v="absolute",u="width",S="height",D="left",C="top",I="right",A="bottom",o="max-width",V="max-height",Z=null,l="none",U="",x=Y.parseInt,r=Y.setTimeout,k=c.getInternal(),W=c.animate,m=b.titleIconBackground,R=function(){return document},G=function(X){return R().createElement(X)},a=function(){return G("div")},N=function(){return G("canvas")},T=function(f,a,B){f.style.setProperty(a,B,Z)},h=function(F,P){return F.style.getPropertyValue(P)},t=function(o,L){o.appendChild(L)},$=function(F,U){F.removeChild(U)},s=function(x){var U=x.scrollWidth,Z=x.scrollHeight;return x===R().body&&(U=Math.max(U,R().documentElement.scrollWidth),Z=Math.max(Z,R().documentElement.scrollHeight)),{width:U,height:Z}},E=function(l){var p=l.touches[0];return p?p:l.changedTouches[0]};k.addMethod(c,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:m,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:m}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:m},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:m}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:m},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:m}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:m}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:m},{type:"rect",rect:[10,118,268,56],background:m},{type:"rect",rect:[10,213,268,56],background:m}]},panelTitleLabelColor:c.labelSelectColor,panelTitleLabelFont:c.labelFont,panelContentLabelFont:c.labelFont,panelTitleBackground:b.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:f},!0);var M=j.widget.Panel=function(J){var c=this,o=c._view=k.createView(null,c);c.$1i=0,c.$18i=new j.Notifier,c.$2i="leftTop",T(o,C,O),T(o,D,O),T(o,L,v),T(o,"overflow","hidden"),c._interactor=new F(c),c.setConfig(J),c.addEventListener(function(E){var I=c.getPanelConfig(E.id),k=I.content;("beginRestore"===E.kind||"betweenResize"===E.kind||"endToggle"===E.kind)&&(k&&k.invalidate&&k.invalidate(),I.items&&I.items.forEach(function(s){s&&s.content&&s.content.invalidate&&s.content.invalidate()}))})};c.def(M,z,{ms_v:1,_dragContainment:"parent",setConfig:function(r){function E(O){O.expanded=!O.expanded,x.togglePanel(O.id,!0,!0)}if(r){var x=this;x._view[Q]=U,x._config=r,x.$35i=[],r.expanded==Z&&(r.expanded=r.expand!=Z?r.expand:!0);var F=x._view,V=x.$24i(r,F,!0),P=V[2],W=r.width;x.$35i.push(V[1]),r.items&&r.items.forEach(function(o){o.expanded==Z&&(o.expanded=o.expand!=Z?o.expand:!0);var s=x.$24i(o,P.children[0]);x.$35i.push(s[1])});var d=a();T(d,u,10+w),T(d,S,10+w),T(d,L,v),T(d,A,O),T(d,I,O),d[g]="resize-area",t(F,d),x.$10i(),r.flowLayout&&T(F,L,"relative"),T(F,"opacity",O),t(R().body,F),W==Z&&(W=F.offsetWidth),T(F,u,W+w),T(F,o,W+w),r.items&&r.items.forEach(function(z){E(z)}),r.buttons&&r.buttons.indexOf("toggle")<0||E(r),r.minimized==Z&&r.minimize!=Z&&(r.minimized=r.minimize),r.minimized&&r.minimizable!==!1&&x.minimize(!0),$(R().body,F),T(F,"opacity",U),x.iv()}},getPanelConfig:function(i){var E=this,s=E._config,R=s.items;if(s.id===i)return s;if(R)for(var U=0;U<R.length;U++){var Z=R[U];if(Z.id===i)return Z}},getPanelView:function(q){for(var V=this,a=V.$35i,s=0;s<a.length;s++){var U=a[s],G=U.parentNode;if(G.$15i===q)return G}},setDragContainment:function(u){this._dragContainment=u},getDragContainment:function(){return this._dragContainment},$20i:function(){var J=this._config,Z=J.restoreIconSize||24;return Z},$5i:function(G){var T=G.titleIconSize||16;return n&&(T*=1.2),T},$4i:function(l){var Q=l.titleHeight||c.widgetTitleHeight;return Q},setTitle:function(t,E){if(E==Z&&(E=this._config.id),E!=Z){var F=this.getPanelConfig(E),l=this.getPanelView(E);F.title=t,l.querySelector(".panel-title span").innerHTML=t}},setInnerPanel:function(b){var p,x,R=this,N=b.id,j=R.$35i,J=!1;if(b.expanded==Z&&(b.expanded=!0),N!=Z){var O=R.getPanelConfig(N);if(O){J=!0;var d,X=R.getPanelView(N),q=X.parentNode,t=X.children[0];if(X!==R._view){R.$11i();for(d in O)delete O.key;for(d in b)O[d]=b[d];p=R.$24i(b,q,!1,X),x=p[1],q.removeChild(X);for(var S=0;S<j.length;S++)if(j[S]===t){j.splice(S,1,x);break}R.$12i(),O.expanded=!O.expanded,R.togglePanel(O.id,!0,!0),R.iv()}}}if(!J){R.$11i(),p=R.$24i(b,R._view.children[1]),x=p[1],j.push(x),R._config.items||(R._config.items=[]);var Q=R._config.items;if(Q.push(b),R.$12i(),Q.length>1){var E=Q[Q.length-2],z=R.getPanelView(E.id).children[0];T(z,"border-bottom",R.$55i(E))}b.expanded=!b.expanded,R.togglePanel(b.id,!0,!0),R.iv()}},removeInnerPanel:function(w){var m,J=this,y=-1,g=J._config.items;if(g)for(m=0;m<g.length;m++){var Z=g[m];if(Z.id===w){y=m;break}}if(J.$11i(),y>=0){var H=J.$35i,V=J.getPanelView(w),P=V.children[0];for(m=0;m<H.length;m++)if(H[m]===P){H.splice(m,1);break}g.splice(y,1),V.parentNode.removeChild(V)}if(J.$12i(),g.length>0){var e=g[g.length-1],G=J.getPanelView(e.id).children[0];T(G,"border-bottom",J.$55i(e))}},$6i:function(Q){T(Q,"cursor","pointer"),T(Q,"display","inline-block"),T(Q,"margin-right",(n?8:4)+w),T(Q,"vertical-align",C)},$24i:function(n,y,G,U){var X=this,C=X._config.flowLayout,M=G?y:a(),m=X.$50i(n),h=X.$3i(n,G);M[g]="ht-widget-panel"+(G?" outer-panel":" inner-panel"),n.borderWidth==Z&&(n.borderWidth=G?2:0);var u=n.borderWidth;if(u="0 "+u+w+" "+u+w+" "+u+w+" ",T(M,"padding",u),t(M,h),t(M,m),G||(U?y.insertBefore(M,U):t(y,M)),!C&&G&&n.minimizable!==!1){var l=N(),P=X.$20i(),b=n.restoreToolTip;k.setCanvas(l,P,P),l[g]="control-button button-minimize button-minimize-restore",X.$6i(l),T(l,"display","none"),t(y,l),l.title=b||""}var B=n.titleBackground||c.panelTitleBackground;if(T(M,"background-color",B),n.id==Z){for(var S=X.$1i++;X.getPanelConfig(S);)S=X.$1i++;n.id=S}return M.$15i=n.id,n.width&&(M.style.width=n.width+w),[M,h,m]},$9i:function(x){var I=N();I[g]="control-button button-toggle button-toggle-expand",I.title=x.toggleToolTip||"";var S=this.$4i(x),o=this.$5i(x);return this.$6i(I),k.setCanvas(I,o,S),I},$8i:function(S){var M=N(),w="control-button button-independent-switch";M[g]=S.independent===!0?w+" button-independent-switch-on":w+" button-independent-switch-off",M.title=S.independentSwitchToolTip||"";var O=this.$4i(S),B=this.$5i(S);return this.$6i(M),k.setCanvas(M,B,O),M},$7i:function(Q){var r=N();r[g]="control-button button-minimize button-minimize-minimize",r.title=Q.minimizeToolTip||"";var j=this.$4i(Q),Z=this.$5i(Q);return this.$6i(r),k.setCanvas(r,Z,j),r},$55i:function(D){var C=this._config,F=C.items,q=D.separatorWidth||c.panelSeparatorWidth,d=D.titleBackground||c.panelTitleBackground,X=D.expanded!==!1?d:D.separatorColor||c.panelSeparatorColor||c.brighter(d);return(C===D||F&&F.indexOf(D)===F.length-1)&&(q=0),q+w+" solid "+X},$3i:function(U,j){var J=this,q=J._config.flowLayout,V=a(),l=a(),X=J.$4i(U),Z=U.titleBackground,p=U.titleColor,R=U.titleIcon,o=U.buttons;if(V[g]="panel-title",T(V,L,"relative"),T(V,"background",Z||c.panelTitleBackground),T(V,"color",p||c.panelTitleLabelColor),T(V,C,O),T(V,"box-sizing","border-box"),T(V,"-moz-box-sizing","border-box"),T(V,"padding","0 5px 0 0"),T(V,u,"100%"),T(V,"cursor","default"),T(V,"white-space","nowrap"),T(V,"font",c.panelTitleLabelFont),R){var s=N();s[g]="control-button panel-title-icon";var B=J.$4i(U),n=J.$5i(U);J.$6i(s),k.setCanvas(s,n,B),t(V,s)}var E=G("span");T(E,"display","inline-block"),T(E,"margin-left","5px"),E[Q]="<span>"+U.title+"</span>",t(V,E),T(V,"line-height",X+w),l[g]="panel-title-controls",T(l,L,v),T(l,D,O),T(l,I,5+w),T(l,C,O),T(l,A,O),T(l,"text-align",I);var y=function(){var m=J.$9i(U);t(l,m)},m=function(){if(!q&&j&&U.minimizable!==!1){var v=J.$7i(U);t(l,v)}},P=function(){if(!j){var k=J.$8i(U);t(l,k)}},S=function(b){var S=N();S[g]="control-button custombutton-"+b.name,S.title=b.toolTip||"",S._action=b.action;var B=J.$4i(U),m=J.$5i(U);J.$6i(S),k.setCanvas(S,m,B),t(l,S)};if(o)for(var f=0;f<o.length;f++){var d=o[f];"string"==typeof d?"minimize"===d?m():"independentSwitch"===d?P():"toggle"===d&&y():"object"==typeof d&&S(d)}else m(),y();return t(V,l),V},$50i:function(e){var Z=a(),m=e.contentHeight,i=a();if(T(i,L,"relative"),Z[g]="panel-body",T(Z,"overflow","hidden"),T(Z,"background","white"),T(Z,"font",c.panelContentLabelFont),t(Z,i),e.content){var h;e.content.getView?(t(i,e.content.getView()),h=i.children[0]):e.content instanceof Element?(t(i,e.content),h=i.children[0]):i[Q]=e.content,h&&(T(h,u,"100%"),T(h,S,"100%")),m&&T(i,S,m+w)}return Z},$10i:function(){var g=this,$=g._config,N=g._view,C=N.querySelector(".resize-area").style;C.display=$.flowLayout||$.minimized===!0||$.expanded===!1?l:"block"},$11i:function(){var R=this._view,j=R.children[1];this.$13i>=0?this.$13i++:this.$13i=1,T(j,V,U),T(R,o,U)},$12i:function(){var H=--this.$13i;if(0===H){var f=this._view,C=f.children[1];T(C,V,C.scrollHeight+w),T(f,o,f.offsetWidth+w)}},$14i:function(){var K=this._view,f=K.children[0],b=f.children[1].children,w=this._config,F=0;K.$26i=K.offsetWidth,F+=f.children[0].offsetWidth,w.titleIcon&&(F+=f.children[1].offsetWidth,b=f.children[2].children);for(var y=0;y<b.length;y++){var q=b[y];F+=q.offsetWidth+5}K.$51i=F+15},togglePanel:function(A,$,p){function k(z){var s=z.target,O=s.parentNode,F=R.getPanelConfig(O.$15i);delete O.$19i,s!==E&&R.$12i(),R.$18i.fire({kind:"endToggle",target:R,id:F.id})}for(var R=this,t=R._view,E=t.children[1],D=Z,d=R.$35i,J=d.length,c=R._config.exclusive,S=R.$2i,Y=[],F=R._config.narrowWhenCollapse,h=0;J>h;h++){var j=d[h],M=j.parentNode,G=M.$15i,y=R.getPanelConfig(G);G===A&&(D=M),!$&&c&&y.expanded&&M!==t&&G!==A&&y.independent!==!0&&Y.push(M)}if(D&&!D.$19i){D.$19i=!0;var Q=D.children[1],r=D.querySelector(".button-toggle"),q=R.getPanelConfig(D.$15i);if(!r)return;D===t||q.expanded||q.independent===!0||Y.forEach(function(K){R.togglePanel(K.$15i,!0)}),D!==t&&R.$11i();var N=200;if(p&&(N=0),R.$18i.fire({kind:"beginToggle",target:R,id:D.$15i}),q.expanded){var l=function(){r[g]="control-button button-toggle",r[g]+=S.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",T(Q,u,Q.clientWidth+w),q.expanded=!1,T(D.children[0],"border-bottom",R.$55i(q)),W(Q).duration(N).set("opacity",O).set(V,O).end(k),F&&D===t&&W(D).duration(N).set(o,D.$51i+w).end(),D[g]+=" panel-collapse",W(D).duration(N).set("padding-bottom",O).end(),R.$28i(q,!0),R.$10i()};F&&D===t&&R.$14i(),l()}else r[g]="control-button button-toggle",r[g]+=S.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",T(Q,u,U),q.expanded=!0,T(D.children[0],"border-bottom",R.$55i(q)),W(Q).duration(N).set("opacity","1").set(V,Q.scrollHeight+w).end(k),F&&D===t&&W(D).duration(N).set(o,(D.$26i||D.offsetWidth)+w).end(),D[g]=D[g].replace(" panel-collapse",U),W(D).duration(N).set("padding-bottom",q.borderWidth+w).end(),R.$28i(q,!0),R.$10i()}},$16i:function(){var w=this._view,R=w.$22i,s=w.$23i,Y=this.$2i;return R==Z&&(Y.indexOf(D)>=0?R=w.$22i=0:Y.indexOf(I)>=0&&(R=w.$22i=100)),s==Z&&(Y.indexOf("Top")>=0?s=w.$23i=0:Y.indexOf("Bottom")>=0&&(s=w.$23i=100)),[R,s]},$25i:function(){var k=this,J=k._view,K=J.$21i,L=k.$20i(),q=k.$16i(),j=q[0],X=q[1],W=k.$2i;J.children[0].style.display=l,J.children[1].style.display=l,J.children[2].style.display=U,T(J,"padding",O),T(J,o,L+w),"leftTop"===W?(T(J,D,x(h(J,D))+(K.width-L)*j/100+w),T(J,C,x(h(J,C))+(K.height-L)*X/100+w)):"leftBottom"===W?(T(J,D,x(h(J,D))+(K.width-L)*j/100+w),T(J,A,x(h(J,A))+(K.height-L)*(1-X/100)+w)):"rightTop"===W?(T(J,I,x(h(J,I))+(K.width-L)*(1-j/100)+w),T(J,C,x(h(J,C))+(K.height-L)*X/100+w)):"rightBottom"===W&&(T(J,I,x(h(J,I))+(K.width-L)*(1-j/100)+w),T(J,A,x(h(J,A))+(K.height-L)*(1-X/100)+w)),J[g]+=" panel-minimized",k.$18i.fire({kind:"endMinimize",target:k,id:J.$15i})},$17i:function(){var G=this,W=G._config,S=G._view;T(S,"-webkit-transform",U),T(S,"-ms-transform",U),T(S,"transform",U),W.minimized?G.$25i():(G.$18i.fire({kind:"endRestore",target:G,id:W.id}),S[g]=S[g].replace(" panel-minimized",U)),delete S.$19i},minimize:function(P){var A=this,w=A._view;if(!w.$19i&&w.children[0].style.display!==l){var u=A._config,p=w.getBoundingClientRect(),f=A.$20i(),M=p.width,y=p.height,j=f/M,q=f/y,S=A.$16i(),_=S[0],c=S[1];w.$52i=j,w.$53i=q,w.$21i=p,A.$18i.fire({kind:"beginMinimize",target:A,id:w.$15i});var K=200;P&&(K=0),u.minimized=!0,w.$19i=!0,u.expanded&&(w.$26i=w.offsetWidth);var v=_+"% "+c+"%";T(w,"-webkit-transform-origin",v),T(w,"-ms-transform-origin",v),T(w,"transform-origin",v),W(w).duration(K).scale(j,q).end(function(){A.$17i()}),A.$10i()}},restore:function(){var m,K,Q,Y,X,y,B,u,M,U,p,F,P=this,L=P._view,q=L.parentNode,k=P._config;if(!L.$19i&&k.minimized){var Z=L.$21i,e=L.$52i,d=L.$53i,b=k.borderWidth+w,J=b,V=b,N=0,O=P.$20i(),t=s(q),c=P.$2i;"leftTop"===c?(m=x(h(L,D)),Q=x(h(L,C)),X=m,B=Q,M=m+Z.width-t.width,U=Q+Z.height-t.height,M>0&&(M>=m?m=0:m-=M),U>0&&(U>=Q?Q=0:Q-=U),p=100*((X-m)/(Z.width-O)),F=100*((B-Q)/(Z.height-O)),T(L,D,m+w),T(L,C,Q+w)):"leftBottom"===c?(m=x(h(L,D)),Y=x(h(L,A)),X=m,u=Y,M=m+Z.width-t.width,U=Y+Z.height-t.height,M>0&&(M>=m?m=0:m-=M),U>0&&(U>=Y?Y=0:Y-=U),p=100*((X-m)/(Z.width-O)),F=100*(1-(u-Y)/(Z.height-O)),T(L,D,m+w),T(L,A,Y+w)):"rightTop"===c?(K=x(h(L,I)),Q=x(h(L,C)),y=K,B=Q,M=K+Z.width-t.width,U=Q+Z.height-t.height,M>0&&(M>=K?K=0:K-=M),U>0&&(U>=Q?Q=0:Q-=U),p=100*(1-(y-K)/(Z.width-O)),F=100*((B-Q)/(Z.height-O)),T(L,I,K+w),T(L,C,Q+w)):"rightBottom"===c&&(K=x(h(L,I)),Y=x(h(L,A)),y=K,u=Y,M=K+Z.width-t.width,U=Y+Z.height-t.height,M>0&&(M>=K?K=0:K-=M),U>0&&(U>=Y?Y=0:Y-=U),p=100*(1-(y-K)/(Z.width-O)),F=100*(1-(u-Y)/(Z.height-O)),T(L,I,K+w),T(L,A,Y+w)),L.children[0].style.display="block",L.children[1].style.display="block",L.children[2].style.display=l,T(L,"padding",N+" "+J+" "+V+" "+b),T(L,"-webkit-transform","scale("+e+", "+d+")"),T(L,"-ms-transform","scale("+e+", "+d+")"),T(L,"transform","scale("+e+", "+d+")"),L.$22i=p,L.$23i=F,T(L,"-webkit-transform-origin",p+"% "+F+"%"),T(L,"-ms-transform-origin",p+"% "+F+"%"),T(L,"transform-origin",p+"% "+F+"%"),k.narrowWhenCollapse&&!k.expanded?T(L,o,L.$51i+w):T(L,o,L.$26i+w),P.$18i.fire({kind:"beginRestore",target:P,id:L.$15i}),L.$19i=!0,k.minimized=!1,r(function(){W(L).scale(1,1).end(function(){P.$17i()})},30),P.$10i()}},addEventListener:function(Q,C,Z){this.$18i.add(Q,C,Z)},removeEventListener:function(w,K){this.$18i.remove(w,K)},setPosition:function(q,r){var m=this._view,_=this.$2i;"leftTop"===_?(T(m,D,q+w),T(m,C,r+w),T(m,I,U),T(m,A,U)):"leftBottom"===_?(T(m,D,q+w),T(m,A,r+w),T(m,I,U),T(m,C,U)):"rightTop"===_?(T(m,I,q+w),T(m,C,r+w),T(m,D,U),T(m,A,U)):"rightBottom"===_&&(T(m,I,q+w),T(m,A,r+w),T(m,D,U),T(m,C,U)),delete m.$22i,delete m.$23i},getPosition:function(){var y=this._view,Z=this.$2i;return"leftTop"===Z?{x:x(h(y,D)),y:x(h(y,C))}:"leftBottom"===Z?{x:x(h(y,D)),y:x(h(y,A))}:"rightTop"===Z?{x:x(h(y,I)),y:x(h(y,C))}:"rightBottom"===Z?{x:x(h(y,I)),y:x(h(y,A))}:void 0},setPositionRelativeTo:function(F){var j=this,m=j._view.querySelectorAll(".button-toggle"),b="control-button button-toggle",d=j.getPosition();j.$2i=F,j.setPosition(d.x,d.y);for(var t=0;t<m.length;t++){var z=m[t],R=j.getPanelConfig(z.parentNode.parentNode.parentNode.$15i);z[g]=R.expanded?F.indexOf("Bottom")>=0?b+" button-toggle-collapse":b+" button-toggle-expand":F.indexOf("Bottom")>=0?b+" button-toggle-expand":b+" button-toggle-collapse"}j.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(v){var W=this;W._68I||(W._68I=1,c.callLater(W.validate,W,Z,v),W.onInvalidated&&W.onInvalidated(),W.fireViewEvent("invalidate"));var H=this._config,Y=H.content;Y&&Y.invalidate&&Y.invalidate(),H.items&&H.items.forEach(function(p){p&&p.content&&p.content.invalidate&&p.content.invalidate()})},$27i:function(D,j,m,v){var I=k.initContext(D);k.translateAndScale(I,0,0,1),I.clearRect(0,0,m,m);var q=(m-v)/2;c.drawStretchImage(I,c.getImage(j),"fill",0,q,v,v),I.restore()},$28i:function(z){var w,e,B,R=this,a=z.id,F=R.getPanelView(a),s=F.querySelector(".button-toggle"),E=R.$2i.indexOf("Bottom")>=0;if(e=E?c.panelCollapseIcon:c.panelExpandIcon,B=E?c.panelExpandIcon:c.panelCollapseIcon,s){w=z.expanded?c.getImage(B):c.getImage(e);var b=R.$4i(z),l=R.$5i(z);R.$27i(s,w,b,l)}},$29i:function(X){var Y,q=this,x=X.id,f=q.getPanelView(x),g=f.querySelector(".button-independent-switch"),d=c.panelUnLockIcon,A=c.panelLockIcon;if(g){Y=X.independent!==!0?c.getImage(A):c.getImage(d);var H=q.$4i(X),T=q.$5i(X);q.$27i(g,Y,H,T)}},$30i:function(m){var U=this,P=m.id,S=U.getPanelView(P),E=S.querySelector(".button-minimize-minimize"),Q=c.panelMinimizeIcon;if(E){var G=U.$4i(m),l=U.$5i(m);U.$27i(E,c.getImage(Q),G,l)}},$31i:function(C){var l=this,z=C.id,g=l.getPanelView(z),H=g.querySelector(".button-minimize-restore"),A=C.titleIcon||c.panelRestoreIcon;if(H){var O=l.$20i();l.$27i(H,c.getImage(A),O,O)}},$32i:function(R){var b=this,a=R.id,u=b.getPanelView(a);if(R.buttons){var D=R.buttons;D.forEach(function(o){var w=o.name,L=o.icon;if(w&&L){var T=u.querySelector(".custombutton-"+w);if(T){var U=b.$4i(R),l=b.$5i(R)-1;b.$27i(T,c.getImage(L),U,l)}}})}},$33i:function(f){var e=this,g=f.id,s=e.getPanelView(g),O=s.querySelector(".panel-title-icon"),E=f.titleIcon;if(O&&E){var u=e.$4i(f),r=e.$5i(f);e.$27i(O,c.getImage(E),u,r)}},validateImpl:function(){var c=this,e=c._config;c.$28i(e),c.$30i(e),c.$31i(e),c.$32i(e),c.$33i(e),e.items&&e.items.forEach(function(R){c.$28i(R),c.$29i(R),c.$32i(R)})}});var F=function(A){var u=this,V=A.getView();u.$34i=A,u.addListeners(),V.addEventListener("dblclick",u.$42i.bind(u))};c.def(F,z,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(c){for(var j=this.$34i,B=c.target,G=j.$35i,C=G.length,A=0;C>A;A++){var L=G[A];L.contains(B)&&(c.preventDefault(),j.togglePanel(L.parentNode.$15i))}},handle_touchstart:function(e){var w=this,q=w.$34i,u=q._config,$=u.flowLayout,G=e;if(c.preventDefault(e),c.isLeftButton(e)){var b=e.target,X=q.getView().children[0],R=q.getView().querySelector(".button-minimize-restore");n&&(G=E(e));var K=w.$40i={x:G.pageX,y:G.pageY};w.$41i={x:K.x,y:K.y},(!$&&X.contains(b)||R&&R.contains(b))&&(w.$38i=!0,c.startDragging(w,e)),!$&&w.handle_mousemove(e)&&(w.$37i=!0,c.startDragging(w,e),q.$11i())}},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchend:function(x){var v=this,t=v.$34i,H=x.target,_=t.$35i,J=_.length,i=0,b=t.getView(),j=b.querySelector(".button-minimize"),u=b.querySelector(".button-minimize-restore");if(!v.$39i&&!v.$36i){if(j&&j.contains(H)||u&&u.contains(H))x.preventDefault(),t._config.minimized?t.restore():t.minimize();else for(;J>i;i++){var Q=_[i],I=Q.parentNode,A=I.$15i,S=t.getPanelConfig(A),w=Q.querySelector(".button-toggle"),e=Q.querySelector(".button-independent-switch");if(w===H)x.preventDefault(),t.togglePanel(A);else if(e===H){x.preventDefault();var R="button-independent-switch-off",a="button-independent-switch-on";S.independent=S.independent==Z?!0:!S.independent,e[g]=S.independent?e[g].replace(R,a):e[g].replace(a,R),t.$29i(S)}else H[g]&&H[g].indexOf("control-button custombutton-")>=0&&Q.contains(H)&&H._action.call(t,S,t.getPanelView(A),x)}delete v.$40i,delete v.$41i}},handle_mouseup:function(q){this.handle_touchend(q)},handleWindowTouchEnd:function(){var o=this,r=o.$34i;o.$37i&&o.$36i?(r.$18i.fire({kind:"endResize",target:r,id:r.getView().$15i}),r.$12i()):o.$38i&&o.$39i&&r.$18i.fire({kind:"endMove",target:r,id:r.getView().$15i}),this.clear()},handleWindowMouseUp:function(c){this.handleWindowTouchEnd(c)},handle_mousemove:function(w){var e=this,t=e.getView(),T=t.querySelector(".resize-area"),z=T.getBoundingClientRect(),K={x:z.left,y:z.top,width:z.width,height:z.height};w=n?E(w):w;var O=w.clientX,S=w.clientY,d=e.$34i._config;return d.expanded&&d.minimized!==!0&&c.containsPoint(K,{x:O,y:S})?(t.style.cursor="nwse-resize",!0):(t.style.cursor=U,void 0)},handleWindowTouchMove:function(M){M.preventDefault();var W=M;n&&(W=E(M));var m=this,r=m.$40i,$=m.$41i;if(!($.x==r.x&&$.y==r.y&&c.getDistance($,{x:W.pageX,y:W.pageY})<=1)){var J=m.$34i,Z=m.getView(),V=Z.parentNode,v=J._config,B=v.resizeMode||"wh",o=W.pageX-r.x,P=W.pageY-r.y,Q=J.$2i;if(m.$37i){var O=Z.children[1].children[0],y=Z.clientWidth,F=O.clientHeight,e=y+o,d=F+P;e=Math.max(e,100),d=Math.max(d,100),"w"===B?(T(Z,u,e+w),v.width=e,r.x+=e-y,Q.indexOf(I)>=0&&T(Z,I,x(h(Z,I))-(e-y)+w)):"h"===B?(T(O,S,d+w),v.contentHeight=d,r.y+=d-F,Q.indexOf("Bottom")>=0&&T(Z,A,x(h(Z,A))-(d-F)+w)):"wh"===B&&(T(Z,u,e+w),T(O,S,d+w),v.width=e,v.contentHeight=d,r.x+=e-y,r.y+=d-F,Q.indexOf("right")>=0&&T(Z,I,x(h(Z,I))-(e-y)+w),Q.indexOf("Bottom")>=0&&T(Z,A,x(h(Z,A))-(d-F)+w)),m.$36i?J.$18i.fire({kind:"betweenResize",target:J,id:J.getView().$15i}):(m.$36i=!0,J.$18i.fire({kind:"beginResize",target:J,id:J.getView().$15i}))}else if(m.$38i){var a,i,R,l,k,K,t,G,j,L,X=Z.getBoundingClientRect(),U=X.width,p=X.height,H=s(V),g=H.width,f=H.height,z=J._dragContainment;"leftTop"===Q?(a=x(h(Z,D))||0,R=x(h(Z,C))||0,k=a+o,t=R+P,"parent"===z&&(k+U>g&&(k=g-U),t+p>f&&(t=f-p),0>k&&(k=0),0>t&&(t=0)),j=k-a,L=t-R,J.setPosition(k,t),r.x+=j,r.y+=L):"rightBottom"===Q?(i=x(h(Z,I))||0,l=x(h(Z,A))||0,K=i-o,G=l-P,"parent"===z&&(0>K&&(K=0),0>G&&(G=0),K+U>g&&(K=g-U),G+p>f&&(G=f-p)),j=K-i,L=G-l,J.setPosition(K,G),r.x-=j,r.y-=L):"rightTop"===Q?(i=x(h(Z,I))||0,R=x(h(Z,C))||0,K=i-o,t=R+P,"parent"===z&&(0>K&&(K=0),0>t&&(t=0),K+U>g&&(K=g-U),t+p>f&&(t=f-p)),j=K-i,L=t-R,J.setPosition(K,t),r.x-=j,r.y+=L):"leftBottom"===Q&&(a=x(h(Z,D))||0,l=x(h(Z,A))||0,k=a+o,G=l-P,"parent"===z&&(0>k&&(k=0),0>G&&(G=0),k+U>g&&(k=g-U),G+p>f&&(G=f-p)),j=k-a,L=G-l,J.setPosition(k,G),r.x+=j,r.y-=L),m.$39i?J.$18i.fire({kind:"betweenMove",target:J,id:J.getView().$15i}):(m.$39i=!0,J.$18i.fire({kind:"beginMove",target:J,id:J.getView().$15i}))}}},handleWindowMouseMove:function(B){this.handleWindowTouchMove(B)}});var _=j.widget.PanelGroup=function(l){var U=this,d=U._view=k.createView(null,U);d.style.border="1px dashed black",d.style.position="absolute",d.style.background="rgba(120, 120, 120, 0.4)",U.$48i=new j.List,U._tolerance=100,U._config=l||{hGap:0,vGap:0},U.bindHandlePanelMove=U.handlePanelMove.bind(U),U.bindHandlePanelEvent=U.handlePanelEvent.bind(U),U.invalidate()};c.def(_,z,{invalidate:function(){var U=this;U._68I||(U._68I=1,r(function(){U.validate()},50))},validate:function(){if(this._68I){delete this._68I;var S=this.$48i.get(0);if(S){var t=S.getView().parentNode;t&&(this.layoutPanels(t,"leftTop"),this.layoutPanels(t,"rightTop"),this.layoutPanels(t,"leftBottom"),this.layoutPanels(t,"rightBottom"))}}},setLeftTopPanels:function(){var O=this,t=O.$43i,d=O.$48i;t==Z&&(t=O.$43i=new j.List);for(var Q=0;Q<arguments.length;Q++){var h=arguments[Q];if("string"==typeof h)t.$49i=h;else{if(h._config.flowLayout)continue;h.setPositionRelativeTo("leftTop"),t.contains(h)||t.add(h),d.contains(h)||O.add(h)}}},setRightTopPanels:function(){var u=this,Q=u.$44i,H=u.$48i;Q==Z&&(Q=u.$44i=new j.List);for(var _=0;_<arguments.length;_++){var T=arguments[_];if("string"==typeof T)Q.$49i=T;else{if(T._config.flowLayout)continue;T.setPositionRelativeTo("rightTop"),Q.contains(T)||Q.add(T),H.contains(T)||u.add(T)}}},setLeftBottomPanels:function(){var q=this,s=q.$45i,k=q.$48i;s==Z&&(s=q.$45i=new j.List);for(var r=0;r<arguments.length;r++){var P=arguments[r];if("string"==typeof P)s.$49i=P;else{if(P._config.flowLayout)continue;P.setPositionRelativeTo("leftBottom"),s.contains(P)||s.add(P),k.contains(P)||q.add(P)}}},setRightBottomPanels:function(){var G=this,l=G.$46i,W=G.$48i;l==Z&&(l=G.$46i=new j.List);for(var U=0;U<arguments.length;U++){var O=arguments[U];if("string"==typeof O)l.$49i=O;else{if(O._config.flowLayout)continue;O.setPositionRelativeTo("rightBottom"),l.contains(O)||l.add(O),W.contains(O)||G.add(O)}}},add:function(k){if(!k._config.flowLayout){var L=this,Y=L.$48i;Y.contains(k)||(k.addEventListener(L.bindHandlePanelMove),k.addEventListener(L.bindHandlePanelEvent),Y.add(k))}},remove:function(S){var b=this,P=b.$48i;P.contains(S)&&(S.removeEventListener(b.bindHandlePanelMove),S.removeEventListener(b.bindHandlePanelEvent),P.remove(S),b.$43i.contains(S)&&b.$43i.remove(S),b.$44i.contains(S)&&b.$44i.remove(S),b.$45i.contains(S)&&b.$45i.remove(S),b.$46i.contains(S)&&b.$46i.remove(S))},layoutPanels:function(j,q,r){var z=this,J=z._config,u=J.hGap||0,a=J.vGap||0;if(j){var c=z.$43i;if("leftBottom"===q?c=z.$45i:"rightTop"===q?c=z.$44i:"rightBottom"===q&&(c=z.$46i),!c)return;var T=c.$49i,A=u,F=a;if(j.contains(z._view)&&j.removeChild(z._view),c&&c.size()>0)for(var y=0;y<c.size();y++){var O=c.get(y),l=O.getView();j=j||l.parentNode,r!==y?O.setPosition(A,F):("leftTop"===q?(z._view.style.right="",z._view.style.bottom="",z._view.style.left=A+w,z._view.style.top=F+w):"leftBottom"===q?(z._view.style.right="",z._view.style.top="",z._view.style.left=A+w,z._view.style.bottom=F+w):"rightTop"===q?(z._view.style.left="",z._view.style.bottom="",z._view.style.right=A+w,z._view.style.top=F+w):"rightBottom"===q&&(z._view.style.left="",z._view.style.top="",z._view.style.right=A+w,z._view.style.bottom=F+w),z._view.style.width=l.offsetWidth+w,z._view.style.height=l.offsetHeight+w,j.insertBefore(z._view,l)),"h"===T?A+=l.offsetWidth+u:"v"===T&&(F+=l.offsetHeight+a)}}},handlePanelEvent:function(g){if("beginToggle"===g.kind||"endToggle"===g.kind||"beginRestore"===g.kind||"endMinimize"===g.kind||"endResize"===g.kind){var L=this,D=g.target,z=D.getView(),Q=z.parentNode,m=L.$43i,H=L.$44i,j=L.$45i,E=L.$46i,_=L._config,c=Z,$=Z,e=D.$47i;if(e==Z&&(e=D.$47i=0),"beginToggle"===g.kind?e=D.$47i=e+1:"endToggle"===g.kind&&(e=D.$47i=e-1),m&&m.contains(D)?(c="leftTop",$=m):j&&j.contains(D)?(c="leftBottom",$=j):H&&H.contains(D)?(c="rightTop",$=H):E&&E.contains(D)&&(c="rightBottom",$=E),"beginToggle"===g.kind&&c&&1===e){var t=a(),J=t.style,o=$.$49i,S="each";J.fontSize="0",J.position="absolute",J.width="100%","leftTop"===c?(J.left=0,J.top=0):"leftBottom"===c?(J.left=0,J.bottom=0,"v"===o&&(S="reverseEach")):"rightTop"===c?(J.right=0,J.top=0,J.textAlign="right","h"===o&&(S="reverseEach")):"rightBottom"===c&&(J.right=0,J.bottom=0,J.textAlign="right",S="reverseEach"),$[S](function(y){var z=y.getView(),V=z.style,i=a();V.position="static",i.style.textAlign="left",i.style.position="relative",i.style.display="inline-block","leftTop"===c?(i.style.marginLeft=_.hGap+w,i.style.marginTop=_.vGap+w):"leftBottom"===c?(i.style.marginLeft=_.hGap+w,i.style.marginBottom=_.vGap+w):"rightTop"===c?(i.style.marginRight=_.hGap+w,i.style.marginTop=_.vGap+w):"rightBottom"===c&&(i.style.marginRight=_.hGap+w,i.style.marginBottom=_.vGap+w),i.appendChild(z),t.appendChild(i),"h"===o?i.style.verticalAlign="leftTop"===c||"rightTop"===c?"top":"bottom":t.appendChild(G("br"))}),L.$54i=t,Q.appendChild(t)}else"endToggle"===g.kind&&c&&0===e?r(function(){Q=Q.parentNode.parentNode,Q.removeChild(L.$54i),delete L.$54i,$.each(function(I){var w=I.getView(),r=w.style;r.position="absolute",Q.appendChild(w)}),L.layoutPanels(Q,c)},30):("beginRestore"===g.kind||"endMinimize"===g.kind||"endResize"===g.kind)&&c&&L.layoutPanels(Q,c)}},handlePanelMove:function(g){if(!(g.kind.indexOf("Move")<0)){var y=this,Y=y._config,u=Y.hGap||0,a=Y.vGap||0,D=g.target,v=D._view,n=v.getBoundingClientRect(),p=n.width,w=n.height,d=p/2,O=w/2,e=v.parentNode,$=y.$43i,G=y.$44i,X=y.$45i,q=y.$46i,V=e.getBoundingClientRect(),P=y._tolerance;if("endMove"===g.kind){var c=y._corner;c&&(D.setPositionRelativeTo(c),y.layoutPanels(e,c)),delete y._corner}if("betweenMove"===g.kind){var S=V.left,s=V.top,Q=V.width,N=V.height,R=n.left+p/2,F=n.top+w/2;$==Z&&($=y.$43i=new j.List),X==Z&&(X=y.$45i=new j.List),G==Z&&(G=y.$44i=new j.List),q==Z&&(q=y.$46i=new j.List),delete y._corner,$.contains(D)?($.remove(D),y.layoutPanels(e,"leftTop")):X.contains(D)?(X.remove(D),y.layoutPanels(e,"leftBottom")):G.contains(D)?(G.remove(D),y.layoutPanels(e,"rightTop")):q.contains(D)&&(q.remove(D),y.layoutPanels(e,"rightBottom"));var A=function(J,k){var E=S+u,g=s+a;if(0===k.size()){var q=E+d,$=g+O;"leftBottom"===J?$=s+N-a-O:"rightTop"===J?q=S+Q-u-d:"rightBottom"===J&&(q=S+Q-u-d,$=s+N-a-O);var v=R-q,i=F-$,U=Math.sqrt(v*v+i*i);if(P>U)return y._corner=J,k.add(D),y.layoutPanels(e,J,0),!0}else if(1===k.size()){var A=k.get(0),Y=A.getView().getBoundingClientRect(),K=Y.left+d,n=Y.top+O,o=Y.left+Y.width+u+d,M=g+O,H=E+d,G=Y.top+Y.height+a+O;"leftBottom"===J?(n=Y.top+Y.height-O,M=s+N-a-O,G=Y.top-a-O):"rightTop"===J?(K=Y.left+Y.width-d,o=Y.left-u-d,H=S+Q-u-d):"rightBottom"===J&&(K=Y.left+Y.width-d,n=Y.top+Y.height-O,o=Y.left-u-d,M=s+N-a-O,H=S+Q-u-d,G=Y.top-a-O);var T=R-K,z=F-n,X=R-o,W=F-M,L=R-H,l=F-G,p=x(Math.sqrt(T*T+z*z)),I=x(Math.sqrt(X*X+W*W)),j=x(Math.sqrt(L*L+l*l)),V=[p,I,j];V.sort(function(L,o){return L-o});var B=V[0];if(P>B){if(y._corner=J,B===p)return k.add(D,0),y.layoutPanels(e,J,0),!0;if(B===I)return k.add(D),k.$49i="h",y.layoutPanels(e,J,1),!0;if(B===j)return k.add(D),k.$49i="v",y.layoutPanels(e,J,1),!0}}else if(k.size()>1){for(var t=Z,h={},w=[],c=k.$49i,r=0;r<k.size();r++){var _=k.get(r),C=_.getView(),f=C.getBoundingClientRect(),m=f.left+d,b=f.top+O;"leftBottom"===J?b=f.top+f.height-O:"rightTop"===J?m=f.left+f.width-d:"rightBottom"===J&&(m=f.left+f.width-d,b=f.top+f.height-O),r===k.size()-1&&(t=f);var v=R-m,i=F-b,U=x(Math.sqrt(v*v+i*i));h[U]=r,w.push(U)}"leftTop"===J&&"h"===c?(q=t.left+t.width+u+d,$=g+O):"leftTop"===J&&"v"===c?(q=E+d,$=t.top+t.height+a+O):"leftBottom"===J&&"h"===c?(q=t.left+t.width+u+d,$=s+N-a-O):"leftBottom"===J&&"v"===c?(q=E+d,$=t.top-a-O):"rightTop"===J&&"h"===c?(q=t.left-u-d,$=g+O):"rightTop"===J&&"v"===c?(q=S+Q-u-d,$=t.top+t.height+a+O):"rightBottom"===J&&"h"===c?(q=t.left-u-d,$=s+N-a-O):"rightBottom"===J&&"v"===c&&(q=S+Q-u-d,$=t.top-a-O),v=R-q,i=F-$,U=x(Math.sqrt(v*v+i*i)),h[U]=r,w.push(U),w.sort(function(G,$){return G-$});var B=w[0];if(P>B)return y._corner=J,k.add(D,h[B]),y.layoutPanels(e,J,h[B]),!0}};A("leftTop",$)||A("leftBottom",X)||A("rightTop",G)||A("rightBottom",q)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);